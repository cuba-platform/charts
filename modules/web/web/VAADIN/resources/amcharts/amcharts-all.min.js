if(!AmCharts)var AmCharts={themes:{},maps:{},inheriting:{},charts:[],onReadyArray:[],useUTC:!1,updateRate:40,uid:0,lang:{},translations:{},mapTranslations:{},windows:{},initHandlers:[]};AmCharts.Class=function(e){var t=function(){arguments[0]!==AmCharts.inheriting&&(this.events={},this.construct.apply(this,arguments))};e.inherits?(t.prototype=new e.inherits(AmCharts.inheriting),t.base=e.inherits.prototype,delete e.inherits):(t.prototype.createEvents=function(){for(var e=0,t=arguments.length;e<t;e++)this.events[arguments[e]]=[]},t.prototype.listenTo=function(e,t,n){this.removeListener(e,t,n);e.events[t].push({handler:n,scope:this})},t.prototype.addListener=function(e,t,n){this.removeListener(this,e,t);this.events[e].push({handler:t,scope:n})},t.prototype.removeListener=function(e,t,n){if(e&&e.events)for(e=e.events[t],t=e.length-1;0<=t;t--)e[t].handler===n&&e.splice(t,1)},t.prototype.fire=function(e,t){for(var n=this.events[e],r=0,i=n.length;r<i;r++){var s=n[r];s.handler.call(s.scope,t)}});for(var n in e)t.prototype[n]=e[n];return t};AmCharts.addChart=function(e){AmCharts.charts.push(e)};AmCharts.removeChart=function(e){for(var t=AmCharts.charts,n=t.length-1;0<=n;n--)t[n]==e&&t.splice(n,1)};AmCharts.isModern=!0;AmCharts.getIEVersion=function(){var e=0;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent,n=/MSIE ([0-9]{1,}[.0-9]{0,})/;null!=n.exec(t)&&(e=parseFloat(RegExp.$1))}else"Netscape"==navigator.appName&&(t=navigator.userAgent,n=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/,null!=n.exec(t)&&(e=parseFloat(RegExp.$1)));return e};AmCharts.applyLang=function(e,t){var n=AmCharts.translations;t.dayNames=AmCharts.dayNames;t.shortDayNames=AmCharts.shortDayNames;t.monthNames=AmCharts.monthNames;t.shortMonthNames=AmCharts.shortMonthNames;n&&(n=n[e])&&(AmCharts.lang=n,n.monthNames&&(t.dayNames=n.dayNames,t.shortDayNames=n.shortDayNames,t.monthNames=n.monthNames,t.shortMonthNames=n.shortMonthNames))};AmCharts.IEversion=AmCharts.getIEVersion();9>AmCharts.IEversion&&0<AmCharts.IEversion&&(AmCharts.isModern=!1,AmCharts.isIE=!0);AmCharts.dx=0;AmCharts.dy=0;if(document.addEventListener||window.opera)AmCharts.isNN=!0,AmCharts.isIE=!1,AmCharts.dx=.5,AmCharts.dy=.5;document.attachEvent&&(AmCharts.isNN=!1,AmCharts.isIE=!0,AmCharts.isModern||(AmCharts.dx=0,AmCharts.dy=0));window.chrome&&(AmCharts.chrome=!0);AmCharts.handleResize=function(){for(var e=AmCharts.charts,t=0;t<e.length;t++){var n=e[t];n&&n.div&&n.handleResize()}};AmCharts.handleMouseUp=function(e){for(var t=AmCharts.charts,n=0;n<t.length;n++){var r=t[n];r&&r.handleReleaseOutside&&r.handleReleaseOutside(e)}};AmCharts.handleMouseMove=function(e){for(var t=AmCharts.charts,n=0;n<t.length;n++){var r=t[n];r&&r.handleMouseMove&&r.handleMouseMove(e)}};AmCharts.handleWheel=function(e){for(var t=AmCharts.charts,n=0;n<t.length;n++){var r=t[n];if(r&&r.mouseIsOver){r.mouseWheelScrollEnabled||r.mouseWheelZoomEnabled?r.handleWheel&&r.handleWheel(e):e.stopPropagation&&e.stopPropagation();break}}};AmCharts.resetMouseOver=function(){for(var e=AmCharts.charts,t=0;t<e.length;t++){var n=e[t];n&&(n.mouseIsOver=!1)}};AmCharts.ready=function(e){AmCharts.onReadyArray.push(e)};AmCharts.handleLoad=function(){AmCharts.isReady=!0;for(var e=AmCharts.onReadyArray,t=0;t<e.length;t++){var n=e[t];isNaN(AmCharts.processDelay)?n():setTimeout(n,AmCharts.processDelay*t)}};AmCharts.addInitHandler=function(e,t){AmCharts.initHandlers.push({method:e,types:t})};AmCharts.callInitHandler=function(e){var t=AmCharts.initHandlers;if(AmCharts.initHandlers)for(var n=0;n<t.length;n++){var r=t[n];r.types?AmCharts.isInArray(r.types,e.type)&&r.method(e):r.method(e)}};AmCharts.getUniqueId=function(){AmCharts.uid++;return"AmChartsEl-"+AmCharts.uid};AmCharts.isNN&&(document.addEventListener("mousemove",AmCharts.handleMouseMove,!0),window.addEventListener("resize",AmCharts.handleResize,!0),window.addEventListener("orientationchange",AmCharts.handleResize,!0),document.addEventListener("mouseup",AmCharts.handleMouseUp,!0),window.addEventListener("load",AmCharts.handleLoad,!0),window.addEventListener("DOMMouseScroll",AmCharts.handleWheel,!0),document.addEventListener("mousewheel",AmCharts.handleWheel,!0));AmCharts.isIE&&(document.attachEvent("onmousemove",AmCharts.handleMouseMove),window.attachEvent("onresize",AmCharts.handleResize),document.attachEvent("onmouseup",AmCharts.handleMouseUp),window.attachEvent("onload",AmCharts.handleLoad));AmCharts.clear=function(){var e=AmCharts.charts;if(e)for(var t=0;t<e.length;t++)e[t].clear();AmCharts.charts=null;AmCharts.isNN&&(document.removeEventListener("mousemove",AmCharts.handleMouseMove,!0),window.removeEventListener("resize",AmCharts.handleResize,!0),document.removeEventListener("mouseup",AmCharts.handleMouseUp,!0),window.removeEventListener("load",AmCharts.handleLoad,!0),window.removeEventListener("DOMMouseScroll",AmCharts.handleWheel,!0),document.removeEventListener("mousewheel",AmCharts.handleWheel,!0));AmCharts.isIE&&(document.detachEvent("onmousemove",AmCharts.handleMouseMove),window.detachEvent("onresize",AmCharts.handleResize),document.detachEvent("onmouseup",AmCharts.handleMouseUp),window.detachEvent("onload",AmCharts.handleLoad))};AmCharts.makeChart=function(e,t,n){var r=t.type,i=t.theme;AmCharts.isString(i)&&(i=AmCharts.themes[i],t.theme=i);var s;switch(r){case"serial":s=new AmCharts.AmSerialChart(i);break;case"xy":s=new AmCharts.AmXYChart(i);break;case"pie":s=new AmCharts.AmPieChart(i);break;case"radar":s=new AmCharts.AmRadarChart(i);break;case"gauge":s=new AmCharts.AmAngularGauge(i);break;case"funnel":s=new AmCharts.AmFunnelChart(i);break;case"map":s=new AmCharts.AmMap(i);break;case"stock":s=new AmCharts.AmStockChart(i)}AmCharts.extend(s,t);AmCharts.isReady?isNaN(n)?s.write(e):setTimeout(function(){AmCharts.realWrite(s,e)},n):AmCharts.ready(function(){isNaN(n)?s.write(e):setTimeout(function(){AmCharts.realWrite(s,e)},n)});return s};AmCharts.realWrite=function(e,t){e.write(t)};AmCharts.toBoolean=function(e,t){if(void 0===e)return t;switch(String(e).toLowerCase()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return Boolean(e)}};AmCharts.removeFromArray=function(e,t){var n;if(void 0!=t&&void 0!=e)for(n=e.length-1;0<=n;n--)e[n]==t&&e.splice(n,1)};AmCharts.isInArray=function(e,t){for(var n=0;n<e.length;n++)if(e[n]==t)return!0;return!1};AmCharts.getDecimals=function(e){var t=0;isNaN(e)||(e=String(e),-1!=e.indexOf("e-")?t=Number(e.split("-")[1]):-1!=e.indexOf(".")&&(t=e.split(".")[1].length));return t};AmCharts.wrappedText=function(e,t,n,r,i,s,o,u,a){var f=AmCharts.text(e,t,n,r,i,s,o),l="\n";AmCharts.isModern||(l="<br>");if(10<a)return f;if(f){var c=f.getBBox();if(c.width>u){c=Math.ceil(c.width/u);f.remove();for(var f=[],h=0;-1<(index=t.indexOf(" ",h));)f.push(index),h=index+1;Math.round(t.length/2);for(var p,h=0;h<f.length;h+=Math.ceil(f.length/c))p=f[h],t=t.substr(0,p)+l+t.substr(p+1);if(isNaN(p)){if(0==a)for(h=1;h<c;h++)p=Math.round(t.length/c*h),t=t.substr(0,p)+l+t.substr(p);return AmCharts.text(e,t,n,r,i,s,o)}return AmCharts.wrappedText(e,t,n,r,i,s,o,u,a+1)}return f}};AmCharts.getStyle=function(e,t){var n="";document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,"").getPropertyValue(t):e.currentStyle&&(t=t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}),n=e.currentStyle[t]);return n};AmCharts.removePx=function(e){if(void 0!=e)return Number(e.substring(0,e.length-2))};AmCharts.getURL=function(e,t){if(e)if("_self"!=t&&t)if("_top"==t&&window.top)window.top.location.href=e;else if("_parent"==t&&window.parent)window.parent.location.href=e;else if("_blank"==t)window.open(e);else{var n=document.getElementsByName(t)[0];n?n.src=e:(n=AmCharts.windows[t])?n.opener&&!n.opener.closed?n.location.href=e:AmCharts.windows[t]=window.open(e):AmCharts.windows[t]=window.open(e)}else window.location.href=e};AmCharts.ifArray=function(e){return e&&0<e.length?!0:!1};AmCharts.callMethod=function(e,t){var n;for(n=0;n<t.length;n++){var r=t[n];if(r){if(r[e])r[e]();var i=r.length;if(0<i){var s;for(s=0;s<i;s++){var o=r[s];if(o&&o[e])o[e]()}}}}};AmCharts.toNumber=function(e){return"number"==typeof e?e:Number(String(e).replace(/[^0-9\-.]+/g,""))};AmCharts.toColor=function(e){if(""!==e&&void 0!==e)if(-1!=e.indexOf(",")){e=e.split(",");var t;for(t=0;t<e.length;t++){var n=e[t].substring(e[t].length-6,e[t].length);e[t]="#"+n}}else e=e.substring(e.length-6,e.length),e="#"+e;return e};AmCharts.toCoordinate=function(e,t,n){var r;void 0!==e&&(e=String(e),n&&n<t&&(t=n),r=Number(e),-1!=e.indexOf("!")&&(r=t-Number(e.substr(1))),-1!=e.indexOf("%")&&(r=t*Number(e.substr(0,e.length-1))/100));return r};AmCharts.fitToBounds=function(e,t,n){e<t&&(e=t);e>n&&(e=n);return e};AmCharts.isDefined=function(e){return void 0===e?!1:!0};AmCharts.stripNumbers=function(e){return e.replace(/[0-9]+/g,"")};AmCharts.roundTo=function(e,t){if(0>t)return e;var n=Math.pow(10,t);return Math.round(e*n)/n};AmCharts.toFixed=function(e,t){var n=String(Math.round(e*Math.pow(10,t)));if(0<t){var r=n.length;if(r<t){var i;for(i=0;i<t-r;i++)n="0"+n}r=n.substring(0,n.length-t);""===r&&(r=0);return r+"."+n.substring(n.length-t,n.length)}return String(n)};AmCharts.formatDuration=function(e,t,n,r,i,s){var o=AmCharts.intervals,u=s.decimalSeparator;if(e>=o[t].contains){var a=e-Math.floor(e/o[t].contains)*o[t].contains;"ss"==t&&(a=AmCharts.formatNumber(a,s),1==a.split(u)[0].length&&(a="0"+a));("mm"==t||"hh"==t)&&10>a&&(a="0"+a);n=a+""+r[t]+""+n;e=Math.floor(e/o[t].contains);t=o[t].nextInterval;return AmCharts.formatDuration(e,t,n,r,i,s)}"ss"==t&&(e=AmCharts.formatNumber(e,s),1==e.split(u)[0].length&&(e="0"+e));("mm"==t||"hh"==t)&&10>e&&(e="0"+e);n=e+""+r[t]+""+n;if(o[i].count>o[t].count)for(e=o[t].count;e<o[i].count;e++)t=o[t].nextInterval,"ss"==t||"mm"==t||"hh"==t?n="00"+r[t]+""+n:"DD"==t&&(n="0"+r[t]+""+n);":"==n.charAt(n.length-1)&&(n=n.substring(0,n.length-1));return n};AmCharts.formatNumber=function(e,t,n,r,i){e=AmCharts.roundTo(e,t.precision);isNaN(n)&&(n=t.precision);var s=t.decimalSeparator;t=t.thousandsSeparator;var o;o=0>e?"-":"";e=Math.abs(e);var u=String(e),a=!1;-1!=u.indexOf("e")&&(a=!0);0<=n&&!a&&(u=AmCharts.toFixed(e,n));var f="";if(a)f=u;else{var u=u.split("."),a=String(u[0]),l;for(l=a.length;0<=l;l-=3)f=l!=a.length?0!==l?a.substring(l-3,l)+t+f:a.substring(l-3,l)+f:a.substring(l-3,l);void 0!==u[1]&&(f=f+s+u[1]);void 0!==n&&0<n&&"0"!=f&&(f=AmCharts.addZeroes(f,s,n))}f=o+f;""===o&&!0===r&&0!==e&&(f="+"+f);!0===i&&(f+="%");return f};AmCharts.addZeroes=function(e,t,n){e=e.split(t);void 0===e[1]&&0<n&&(e[1]="0");return e[1].length<n?(e[1]+="0",AmCharts.addZeroes(e[0]+t+e[1],t,n)):void 0!==e[1]?e[0]+t+e[1]:e[0]};AmCharts.scientificToNormal=function(e){var t;e=String(e).split("e");var n;if("-"==e[1].substr(0,1)){t="0.";for(n=0;n<Math.abs(Number(e[1]))-1;n++)t+="0";t+=e[0].split(".").join("")}else{var r=0;t=e[0].split(".");t[1]&&(r=t[1].length);t=e[0].split(".").join("");for(n=0;n<Math.abs(Number(e[1]))-r;n++)t+="0"}return t};AmCharts.toScientific=function(e,t){if(0===e)return"0";var n=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);Math.pow(10,n);mantissa=String(mantissa).split(".").join(t);return String(mantissa)+"e"+n};AmCharts.randomColor=function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6)};AmCharts.hitTest=function(e,t,n){var r=!1,i=e.x,s=e.x+e.width,o=e.y,u=e.y+e.height,a=AmCharts.isInRectangle;r||(r=a(i,o,t));r||(r=a(i,u,t));r||(r=a(s,o,t));r||(r=a(s,u,t));r||!0===n||(r=AmCharts.hitTest(t,e,!0));return r};AmCharts.isInRectangle=function(e,t,n){return e>=n.x-5&&e<=n.x+n.width+5&&t>=n.y-5&&t<=n.y+n.height+5?!0:!1};AmCharts.isPercents=function(e){if(-1!=String(e).indexOf("%"))return!0};AmCharts.findPosX=function(e){var t=e,n=e.offsetLeft;if(e.offsetParent){for(;e=e.offsetParent;)n+=e.offsetLeft;for(;(t=t.parentNode)&&t!=document.body;)n-=t.scrollLeft||0}return n};AmCharts.findPosY=function(e){var t=e,n=e.offsetTop;if(e.offsetParent){for(;e=e.offsetParent;)n+=e.offsetTop;for(;(t=t.parentNode)&&t!=document.body;)n-=t.scrollTop||0}return n};AmCharts.findIfFixed=function(e){if(e.offsetParent)for(;e=e.offsetParent;)if("fixed"==AmCharts.getStyle(e,"position"))return!0;return!1};AmCharts.findIfAuto=function(e){return e.style&&"auto"==AmCharts.getStyle(e,"overflow")?!0:e.parentNode?AmCharts.findIfAuto(e.parentNode):!1};AmCharts.findScrollLeft=function(e,t){e.scrollLeft&&(t+=e.scrollLeft);return e.parentNode?AmCharts.findScrollLeft(e.parentNode,t):t};AmCharts.findScrollTop=function(e,t){e.scrollTop&&(t+=e.scrollTop);return e.parentNode?AmCharts.findScrollTop(e.parentNode,t):t};AmCharts.formatValue=function(e,t,n,r,i,s,o,u){if(t){void 0===i&&(i="");var a;for(a=0;a<n.length;a++){var f=n[a],l=t[f];void 0!==l&&(l=s?AmCharts.addPrefix(l,u,o,r):AmCharts.formatNumber(l,r),e=e.replace(new RegExp("\\[\\["+i+""+f+"\\]\\]","g"),l))}}return e};AmCharts.formatDataContextValue=function(e,t){if(e){var n=e.match(/\[\[.*?\]\]/g),r;for(r=0;r<n.length;r++){var i=n[r],i=i.substr(2,i.length-4);void 0!==t[i]&&(e=e.replace(new RegExp("\\[\\["+i+"\\]\\]","g"),t[i]))}}return e};AmCharts.massReplace=function(e,t){for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];void 0===r&&(r="");e=e.replace(n,r)}return e};AmCharts.cleanFromEmpty=function(e){return e.replace(/\[\[[^\]]*\]\]/g,"")};AmCharts.addPrefix=function(e,t,n,r,i){var s=AmCharts.formatNumber(e,r),o="",u,a,f;if(0===e)return"0";0>e&&(o="-");e=Math.abs(e);if(1<e)for(u=t.length-1;-1<u;u--){if(e>=t[u].number&&(a=e/t[u].number,f=Number(r.precision),1>f&&(f=1),n=AmCharts.roundTo(a,f),f=AmCharts.formatNumber(n,{precision:-1,decimalSeparator:r.decimalSeparator,thousandsSeparator:r.thousandsSeparator}),!i||a==n)){s=o+""+f+""+t[u].prefix;break}}else for(u=0;u<n.length;u++)if(e<=n[u].number){a=e/n[u].number;f=Math.abs(Math.round(Math.log(a)*Math.LOG10E));a=AmCharts.roundTo(a,f);s=o+""+a+""+n[u].prefix;break}return s};AmCharts.remove=function(e){e&&e.remove()};AmCharts.recommended=function(){var e="js";document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")||swfobject&&swfobject.hasFlashPlayerVersion("8")&&(e="flash");return e};AmCharts.getEffect=function(e){">"==e&&(e="easeOutSine");"<"==e&&(e="easeInSine");"elastic"==e&&(e="easeOutElastic");return e};AmCharts.getObjById=function(e,t){var n,r;for(r=0;r<e.length;r++){var i=e[r];i.id==t&&(n=i)}return n};AmCharts.applyTheme=function(e,t,n){t||(t=AmCharts.theme);t&&t[n]&&AmCharts.extend(e,t[n])};AmCharts.isString=function(e){return"string"==typeof e?!0:!1};AmCharts.extend=function(e,t,n){for(var r in t)n?e.hasOwnProperty(r)||(e[r]=t[r]):e[r]=t[r];return e};AmCharts.copyProperties=function(e,t){for(var n in e)e.hasOwnProperty(n)&&"events"!=n&&void 0!==e[n]&&"function"!=typeof e[n]&&"cname"!=n&&(t[n]=e[n])};AmCharts.processObject=function(e,t,n){!1===e instanceof t&&(e=AmCharts.extend(new t(n),e));return e};AmCharts.fixNewLines=function(e){var t=RegExp("\\n","g");e&&(e=e.replace(t,"<br />"));return e};AmCharts.fixBrakes=function(e){if(AmCharts.isModern){var t=RegExp("<br>","g");e&&(e=e.replace(t,"\n"))}else e=AmCharts.fixNewLines(e);return e};AmCharts.deleteObject=function(e,t){if(e){if(void 0===t||null===t)t=20;if(0!==t)if("[object Array]"===Object.prototype.toString.call(e))for(var n=0;n<e.length;n++)AmCharts.deleteObject(e[n],t-1),e[n]=null;else if(e&&!e.tagName)try{for(n in e)e[n]&&("object"==typeof e[n]&&AmCharts.deleteObject(e[n],t-1),"function"!=typeof e[n]&&(e[n]=null))}catch(r){}}};AmCharts.bounce=function(e,t,n,r,i){return(t/=i)<1/2.75?7.5625*r*t*t+n:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+n:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+n:r*(7.5625*(t-=2.625/2.75)*t+.984375)+n};AmCharts.easeInSine=function(e,t,n,r,i){return-r*Math.cos(t/i*(Math.PI/2))+r+n};AmCharts.easeOutSine=function(e,t,n,r,i){return r*Math.sin(t/i*(Math.PI/2))+n};AmCharts.easeOutElastic=function(e,t,n,r,i){e=1.70158;var s=0,o=r;if(0===t)return n;if(1==(t/=i))return n+r;s||(s=.3*i);o<Math.abs(r)?(o=r,e=s/4):e=s/(2*Math.PI)*Math.asin(r/o);return o*Math.pow(2,-10*t)*Math.sin(2*(t*i-e)*Math.PI/s)+r+n};AmCharts.fixStepE=function(e){e=e.toExponential(0).split("e");var t=Number(e[1]);9==Number(e[0])&&t++;return AmCharts.generateNumber(1,t)};AmCharts.generateNumber=function(e,t){var n="",r;r=0>t?Math.abs(t)-1:Math.abs(t);var i;for(i=0;i<r;i++)n+="0";return 0>t?Number("0."+n+String(e)):Number(String(e)+n)};AmCharts.setCN=function(e,t,n,r){if(e.addClassNames&&t&&(t=t.node)&&n){var i=t.getAttribute("class");e=e.classNamePrefix+"-";r&&(e="");i?t.setAttribute("class",i+" "+e+n):t.setAttribute("class",e+n)}};AmCharts.parseDefs=function(e,t){for(var n in e){var r=typeof e[n];if(0<e[n].length&&"object"==r)for(r=0;r<e[n].length;r++){var i=document.createElementNS(AmCharts.SVG_NS,n);t.appendChild(i);AmCharts.parseDefs(e[n][r],i)}else"object"==r?(i=document.createElementNS(AmCharts.SVG_NS,n),t.appendChild(i),AmCharts.parseDefs(e[n],i)):t.setAttribute(n,e[n])}};AmCharts.AxisBase=AmCharts.Class({construct:function(e){this.createEvents("clickItem","rollOverItem","rollOutItem");this.viY=this.viX=this.y=this.x=this.dy=this.dx=0;this.axisThickness=1;this.axisColor="#000000";this.axisAlpha=1;this.gridCount=this.tickLength=5;this.gridAlpha=.15;this.gridThickness=1;this.gridColor="#000000";this.dashLength=0;this.labelFrequency=1;this.showLastLabel=this.showFirstLabel=!0;this.fillColor="#FFFFFF";this.fillAlpha=0;this.labelsEnabled=!0;this.labelRotation=0;this.autoGridCount=!0;this.offset=0;this.guides=[];this.visible=!0;this.counter=0;this.guides=[];this.ignoreAxisWidth=this.inside=!1;this.minHorizontalGap=75;this.minVerticalGap=35;this.titleBold=!0;this.minorGridEnabled=!1;this.minorGridAlpha=.07;this.autoWrap=!1;this.titleAlign="middle";this.labelOffset=0;this.bcn="axis-";AmCharts.applyTheme(this,e,"AxisBase")},zoom:function(e,t){this.start=e;this.end=t;this.dataChanged=!0;this.draw()},fixAxisPosition:function(){var e=this.position;"H"==this.orientation?("left"==e&&(e="bottom"),"right"==e&&(e="top")):("bottom"==e&&(e="left"),"top"==e&&(e="right"));this.position=e},draw:function(){var e=this.chart;this.allLabels=[];this.counter=0;this.destroy();this.fixAxisPosition();this.labels=[];var t=e.container,n=t.set();e.gridSet.push(n);this.set=n;t=t.set();e.axesLabelsSet.push(t);this.labelsSet=t;this.axisLine=new this.axisRenderer(this);this.autoGridCount?("V"==this.orientation?(e=this.height/this.minVerticalGap,3>e&&(e=3)):e=this.width/this.minHorizontalGap,this.gridCountR=Math.max(e,1)):this.gridCountR=this.gridCount;this.axisWidth=this.axisLine.axisWidth;this.addTitle()},setOrientation:function(e){this.orientation=e?"H":"V"},addTitle:function(){var e=this.title;this.titleLabel=null;if(e){var t=this.chart,n=this.titleColor;void 0===n&&(n=t.color);var r=this.titleFontSize;isNaN(r)&&(r=t.fontSize+1);e=AmCharts.text(t.container,e,n,t.fontFamily,r,this.titleAlign,this.titleBold);AmCharts.setCN(t,e,this.bcn+"title");this.titleLabel=e}},positionTitle:function(){var e=this.titleLabel;if(e){var t,n,r=this.labelsSet,i={};0<r.length()?i=r.getBBox():(i.x=0,i.y=0,i.width=this.viW,i.height=this.viH);r.push(e);var r=i.x,s=i.y;AmCharts.VML&&(this.rotate?r-=this.x:s-=this.y);var o=i.width,i=i.height,u=this.viW,a=this.viH,f=0,l=e.getBBox().height/2,c=this.inside,h=this.titleAlign;switch(this.position){case"top":t="left"==h?-1:"right"==h?u:u/2;n=s-10-l;break;case"bottom":t="left"==h?-1:"right"==h?u:u/2;n=s+i+10+l;break;case"left":t=r-10-l;c&&(t-=5);n="left"==h?a+1:"right"==h?-1:a/2;f=-90;break;case"right":t=r+o+10+l-3,c&&(t+=7),n="left"==h?a+2:"right"==h?-2:a/2,f=-90}this.marginsChanged?(e.translate(t,n),this.tx=t,this.ty=n):e.translate(this.tx,this.ty);this.marginsChanged=!1;0!==f&&e.rotate(f)}},pushAxisItem:function(e,t){var n=this,r=e.graphics();0<r.length()&&(t?n.labelsSet.push(r):n.set.push(r));if(r=e.getLabel())this.labelsSet.push(r),r.click(function(t){n.handleMouse(t,e,"clickItem")}).mouseover(function(t){n.handleMouse(t,e,"rollOverItem")}).mouseout(function(t){n.handleMouse(t,e,"rollOutItem")})},handleMouse:function(e,t,n){this.fire(n,{type:n,value:t.value,serialDataItem:t.serialDataItem,axis:this,target:t.label,chart:this.chart,event:e})},addGuide:function(e){for(var t=this.guides,n=!1,r=t.length,i=0;i<t.length;i++)t[i]==e&&(n=!0,r=i);e.id||(e.id="guideAuto"+r+"_"+(new Date).getTime());n||t.push(e)},removeGuide:function(e){var t=this.guides,n;for(n=0;n<t.length;n++)t[n]==e&&t.splice(n,1)},handleGuideOver:function(e){clearTimeout(this.chart.hoverInt);var t=e.graphics.getBBox(),n=t.x+t.width/2,t=t.y+t.height/2,r=e.fillColor;void 0===r&&(r=e.lineColor);this.chart.showBalloon(e.balloonText,r,!0,n,t)},handleGuideOut:function(e){this.chart.hideBalloon()},addEventListeners:function(e,t){var n=this;e.mouseover(function(){n.handleGuideOver(t)});e.mouseout(function(){n.handleGuideOut(t)})},getBBox:function(){var e=this.labelsSet.getBBox();AmCharts.VML||(e={x:e.x+this.x,y:e.y+this.y,width:e.width,height:e.height});return e},destroy:function(){AmCharts.remove(this.set);AmCharts.remove(this.labelsSet);var e=this.axisLine;e&&AmCharts.remove(e.set);AmCharts.remove(this.grid0)}});AmCharts.ValueAxis=AmCharts.Class({inherits:AmCharts.AxisBase,construct:function(e){this.cname="ValueAxis";this.createEvents("axisChanged","logarithmicAxisFailed","axisSelfZoomed","axisZoomed");AmCharts.ValueAxis.base.construct.call(this,e);this.dataChanged=!0;this.stackType="none";this.position="left";this.unitPosition="right";this.recalculateToPercents=this.includeHidden=this.includeGuidesInMinMax=this.integersOnly=!1;this.durationUnits={DD:"d. ",hh:":",mm:":",ss:""};this.scrollbar=!1;this.baseValue=0;this.radarCategoriesEnabled=!0;this.gridType="polygons";this.useScientificNotation=!1;this.axisTitleOffset=10;this.minMaxMultiplier=1;this.logGridLimit=2;this.totalTextOffset=this.treatZeroAs=0;AmCharts.applyTheme(this,e,this.cname)},updateData:function(){0>=this.gridCountR&&(this.gridCountR=1);this.totals=[];this.data=this.chart.chartData;var e=this.chart;"xy"!=e.type&&(this.stackGraphs("smoothedLine"),this.stackGraphs("line"),this.stackGraphs("column"),this.stackGraphs("step"));this.recalculateToPercents&&this.recalculate();this.synchronizationMultiplier&&this.synchronizeWith?(AmCharts.isString(this.synchronizeWith)&&(this.synchronizeWith=e.getValueAxisById(this.synchronizeWith)),this.synchronizeWith&&(this.synchronizeWithAxis(this.synchronizeWith),this.foundGraphs=!0)):(this.foundGraphs=!1,this.getMinMax())},draw:function(){AmCharts.ValueAxis.base.draw.call(this);var e=this.chart,t=this.set;AmCharts.setCN(e,this.set,"value-axis value-axis-"+this.id);AmCharts.setCN(e,this.labelsSet,"value-axis value-axis-"+this.id);AmCharts.setCN(e,this.axisLine.axisSet,"value-axis value-axis-"+this.id);"duration"==this.type&&(this.duration="ss");!0===this.dataChanged&&(this.updateData(),this.dataChanged=!1);if(this.logarithmic){var n=this.treatZeroAs,r=this.getMin(0,this.data.length-1);0<n&&0==r&&(this.minReal=r=n);if(0>=r||0>=this.minimum){this.fire("logarithmicAxisFailed",{type:"logarithmicAxisFailed",chart:e});return}}this.grid0=null;var i,s,o=e.dx,u=e.dy,n=!1,r=this.logarithmic;if(isNaN(this.min)||isNaN(this.max)||!this.foundGraphs||Infinity==this.min||-Infinity==this.max)n=!0;else{var a=this.labelFrequency,f=this.showFirstLabel,l=this.showLastLabel,c=1,h=0,p=Math.round((this.max-this.min)/this.step)+1,d;!0===r?(d=Math.log(this.max)*Math.LOG10E-Math.log(this.minReal)*Math.LOG10E,this.stepWidth=this.axisWidth/d,d>this.logGridLimit&&(p=Math.ceil(Math.log(this.max)*Math.LOG10E)+1,h=Math.round(Math.log(this.minReal)*Math.LOG10E),p>this.gridCountR&&(c=Math.ceil(p/this.gridCountR)))):this.stepWidth=this.axisWidth/(this.max-this.min);var v=0;1>this.step&&-1<this.step&&(v=AmCharts.getDecimals(this.step));this.integersOnly&&(v=0);v>this.maxDecCount&&(v=this.maxDecCount);var m=this.precision;isNaN(m)||(v=m);this.max=AmCharts.roundTo(this.max,this.maxDecCount);this.min=AmCharts.roundTo(this.min,this.maxDecCount);s={};s.precision=v;s.decimalSeparator=e.nf.decimalSeparator;s.thousandsSeparator=e.nf.thousandsSeparator;this.numberFormatter=s;var g,y=this.guides;i=y.length;if(0<i){var b=this.fillAlpha;for(s=this.fillAlpha=0;s<i;s++){var w=y[s],E=NaN,S=w.above;isNaN(w.toValue)||(E=this.getCoordinate(w.toValue),g=new this.axisItemRenderer(this,E,"",!0,NaN,NaN,w),this.pushAxisItem(g,S));var x=NaN;isNaN(w.value)||(x=this.getCoordinate(w.value),g=new this.axisItemRenderer(this,x,w.label,!0,NaN,(E-x)/2,w),this.pushAxisItem(g,S));isNaN(E-x)||(g=new this.guideFillRenderer(this,x,E,w),this.pushAxisItem(g,S),g=g.graphics(),w.graphics=g,w.balloonText&&this.addEventListeners(g,w))}this.fillAlpha=b}this.exponential=!1;for(s=h;s<p;s+=c)y=AmCharts.roundTo(this.step*s+this.min,v),-1!=String(y).indexOf("e")&&(this.exponential=!0,String(y).split("e"));this.duration&&(this.maxInterval=AmCharts.getMaxInterval(this.max,this.duration));var v=this.step,T,y=this.minorGridAlpha;this.minorGridEnabled&&(T=this.getMinorGridStep(v,this.stepWidth*v));for(s=h;s<p;s+=c)if(h=v*s+this.min,r&&this.max-this.min>5*this.min&&(h-=this.min),h=AmCharts.roundTo(h,this.maxDecCount+1),!this.integersOnly||Math.round(h)==h)if(isNaN(m)||Number(AmCharts.toFixed(h,m))==h){!0===r&&(0===h&&(h=this.minReal),d>this.logGridLimit&&(h=Math.pow(10,s)));g=this.formatValue(h,!1,s);Math.round(s/a)!=s/a&&(g=void 0);if(0===s&&!f||s==p-1&&!l)g=" ";i=this.getCoordinate(h);g=new this.axisItemRenderer(this,i,g,void 0,void 0,void 0,void 0,this.boldLabels);this.pushAxisItem(g);if(h==this.baseValue&&"radar"!=e.type){var N,C,w=this.viW,S=this.viH;g=this.viX;b=this.viY;"H"==this.orientation?0<=i&&i<=w+1&&(N=[i,i,i+o],C=[S,0,u]):0<=i&&i<=S+1&&(N=[0,w,w+o],C=[i,i,i+u]);N&&(i=AmCharts.fitToBounds(2*this.gridAlpha,0,1),i=AmCharts.line(e.container,N,C,this.gridColor,i,1,this.dashLength),i.translate(g,b),this.grid0=i,e.axesSet.push(i),i.toBack(),AmCharts.setCN(e,i,this.bcn+"zero-grid-"+this.id),AmCharts.setCN(e,i,this.bcn+"zero-grid"))}if(!isNaN(T)&&0<y&&s<p-1){g=this.gridAlpha;this.gridAlpha=this.minorGridAlpha;for(i=1;i<v/T;i++)b=this.getCoordinate(h+T*i),b=new this.axisItemRenderer(this,b,"",!1,0,0,!1,!1,0,!0),this.pushAxisItem(b);this.gridAlpha=g}}d=this.baseValue;this.min>this.baseValue&&this.max>this.baseValue&&(d=this.min);this.min<this.baseValue&&this.max<this.baseValue&&(d=this.max);r&&d<this.minReal&&(d=this.minReal);this.baseCoord=this.getCoordinate(d);d={type:"axisChanged",target:this,chart:e};d.min=r?this.minReal:this.min;d.max=this.max;this.fire("axisChanged",d);this.axisCreated=!0}r=this.axisLine.set;d=this.labelsSet;this.positionTitle();"radar"!=e.type?(e=this.viX,T=this.viY,t.translate(e,T),d.translate(e,T)):r.toFront();!this.visible||n?(t.hide(),r.hide(),d.hide()):(t.show(),r.show(),d.show());this.axisY=this.y-this.viY;this.axisX=this.x-this.viX},formatValue:function(e,t,n){var r=this.exponential,i=this.logarithmic,s=this.numberFormatter,o=this.chart;!0===this.logarithmic&&(r=-1!=String(e).indexOf("e")?!0:!1);this.useScientificNotation&&(r=!0);this.usePrefixes&&(r=!1);r?(t=-1==String(e).indexOf("e")?e.toExponential(15):String(e),n=t.split("e"),t=Number(n[0]),n=Number(n[1]),t=AmCharts.roundTo(t,14),10==t&&(t=1,n+=1),t=t+"e"+n,0===e&&(t="0"),1==e&&(t="1")):(i&&(r=String(e).split("."),r[1]?(s.precision=r[1].length,0>n&&(s.precision=Math.abs(n))):s.precision=-1),t=this.usePrefixes?AmCharts.addPrefix(e,o.prefixesOfBigNumbers,o.prefixesOfSmallNumbers,s,!t):AmCharts.formatNumber(e,s,s.precision));this.duration&&(t=AmCharts.formatDuration(e,this.duration,"",this.durationUnits,this.maxInterval,s));this.recalculateToPercents?t+="%":(s=this.unit)&&(t="left"==this.unitPosition?s+t:t+s);this.labelFunction&&(t=this.labelFunction(e,t,this).toString());return t},getMinorGridStep:function(e,t){var n=[5,4,2];60>t&&n.shift();for(var r=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),i=0;i<n.length;i++){var s=e/n[i],o=Math.floor(Math.log(Math.abs(s))*Math.LOG10E);if(!(0<Math.abs(r-o)))if(1>e){if(o=Math.pow(10,-o)*s,o==Math.round(o))return s}else if(s==Math.round(s))return s}},stackGraphs:function(e){var t=this.stackType;"stacked"==t&&(t="regular");"line"==t&&(t="none");"100% stacked"==t&&(t="100%");this.stackType=t;var n=[],r=[],i=[],s=[],o,u=this.chart.graphs,a,f,l,c,h=this.baseValue,p=!1;if("line"==e||"step"==e||"smoothedLine"==e)p=!0;if(p&&("regular"==t||"100%"==t))for(c=0;c<u.length;c++)l=u[c],l.hidden||(f=l.type,l.chart==this.chart&&l.valueAxis==this&&e==f&&l.stackable&&(a&&(l.stackGraph=a),a=l));for(a=this.start;a<=this.end;a++){var d=0;for(c=0;c<u.length;c++)if(l=u[c],l.hidden)l.newStack&&(i[a]=NaN,r[a]=NaN);else if(f=l.type,l.chart==this.chart&&l.valueAxis==this&&e==f&&l.stackable)if(f=this.data[a].axes[this.id].graphs[l.id],o=f.values.value,isNaN(o))l.newStack&&(i[a]=NaN,r[a]=NaN);else{var v=AmCharts.getDecimals(o);d<v&&(d=v);isNaN(s[a])?s[a]=Math.abs(o):s[a]+=Math.abs(o);s[a]=AmCharts.roundTo(s[a],d);v=l.fillToGraph;p&&v&&(v=this.data[a].axes[this.id].graphs[v.id])&&(f.values.open=v.values.value);"regular"==t&&(p&&(isNaN(n[a])?(n[a]=o,f.values.close=o,f.values.open=this.baseValue):(isNaN(o)?f.values.close=n[a]:f.values.close=o+n[a],f.values.open=n[a],n[a]=f.values.close)),"column"==e&&(l.newStack&&(i[a]=NaN,r[a]=NaN),f.values.close=o,0>o?(f.values.close=o,isNaN(r[a])?f.values.open=h:(f.values.close+=r[a],f.values.open=r[a]),r[a]=f.values.close):(f.values.close=o,isNaN(i[a])?f.values.open=h:(f.values.close+=i[a],f.values.open=i[a]),i[a]=f.values.close)))}}for(a=this.start;a<=this.end;a++)for(c=0;c<u.length;c++)(l=u[c],l.hidden)?l.newStack&&(i[a]=NaN,r[a]=NaN):(f=l.type,l.chart==this.chart&&l.valueAxis==this&&e==f&&l.stackable&&(f=this.data[a].axes[this.id].graphs[l.id],o=f.values.value,isNaN(o)||(n=o/s[a]*100,f.values.percents=n,f.values.total=s[a],l.newStack&&(i[a]=NaN,r[a]=NaN),"100%"==t&&(isNaN(r[a])&&(r[a]=0),isNaN(i[a])&&(i[a]=0),0>n?(f.values.close=AmCharts.fitToBounds(n+r[a],-100,100),f.values.open=r[a],r[a]=f.values.close):(f.values.close=AmCharts.fitToBounds(n+i[a],-100,100),f.values.open=i[a],i[a]=f.values.close)))))},recalculate:function(){var e=this.chart,t=e.graphs,n;for(n=0;n<t.length;n++){var r=t[n];if(r.valueAxis==this){var i="value";if("candlestick"==r.type||"ohlc"==r.type)i="open";var s,o,u=this.end+2,u=AmCharts.fitToBounds(this.end+1,0,this.data.length-1),a=this.start;0<a&&a--;var f;o=this.start;r.compareFromStart&&(o=0);if(!isNaN(e.startTime)&&(f=e.categoryAxis)){var l=f.minDuration(),l=new Date(e.startTime+l/2),c=AmCharts.resetDateToMin(new Date(e.startTime),f.minPeriod).getTime();AmCharts.resetDateToMin(new Date(l),f.minPeriod).getTime()>c&&o++}if(f=e.recalculateFromDate)e.dataDateFormat&&(f=AmCharts.stringToDate(f,e.dataDateFormat)),o=e.getClosestIndex(e.chartData,"time",f.getTime(),!0,0,e.chartData.length),u=e.chartData.length-1;for(f=o;f<=u&&(o=this.data[f].axes[this.id].graphs[r.id],s=o.values[i],isNaN(s));f++);this.recBaseValue=s;for(i=a;i<=u;i++){o=this.data[i].axes[this.id].graphs[r.id];o.percents={};var a=o.values,h;for(h in a)o.percents[h]="percents"!=h?a[h]/s*100-100:a[h]}}}},getMinMax:function(){var e=!1,t=this.chart,n=t.graphs,r;for(r=0;r<n.length;r++){var i=n[r].type;("line"==i||"step"==i||"smoothedLine"==i)&&this.expandMinMax&&(e=!0)}e&&(0<this.start&&this.start--,this.end<this.data.length-1&&this.end++);"serial"==t.type&&(!0!==t.categoryAxis.parseDates||e||this.end<this.data.length-1&&this.end++);e=this.minMaxMultiplier;this.min=this.getMin(this.start,this.end);this.max=this.getMax();e=(this.max-this.min)*(e-1);this.min-=e;this.max+=e;e=this.guides.length;if(this.includeGuidesInMinMax&&0<e)for(t=0;t<e;t++)n=this.guides[t],n.toValue<this.min&&(this.min=n.toValue),n.value<this.min&&(this.min=n.value),n.toValue>this.max&&(this.max=n.toValue),n.value>this.max&&(this.max=n.value);isNaN(this.minimum)||(this.min=this.minimum);isNaN(this.maximum)||(this.max=this.maximum);this.min>this.max&&(e=this.max,this.max=this.min,this.min=e);isNaN(this.minTemp)||(this.min=this.minTemp);isNaN(this.maxTemp)||(this.max=this.maxTemp);this.minReal=this.min;this.maxReal=this.max;0===this.min&&0===this.max&&(this.max=9);this.min>this.max&&(this.min=this.max-1);e=this.min;t=this.max;n=this.max-this.min;r=0===n?Math.pow(10,Math.floor(Math.log(Math.abs(this.max))*Math.LOG10E))/10:Math.pow(10,Math.floor(Math.log(Math.abs(n))*Math.LOG10E))/10;isNaN(this.maximum)&&isNaN(this.maxTemp)&&(this.max=Math.ceil(this.max/r)*r+r);isNaN(this.minimum)&&isNaN(this.minTemp)&&(this.min=Math.floor(this.min/r)*r-r);0>this.min&&0<=e&&(this.min=0);0<this.max&&0>=t&&(this.max=0);"100%"==this.stackType&&(this.min=0>this.min?-100:0,this.max=0>this.max?0:100);n=this.max-this.min;r=Math.pow(10,Math.floor(Math.log(Math.abs(n))*Math.LOG10E))/10;this.step=Math.ceil(n/this.gridCountR/r)*r;n=Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E));n=AmCharts.fixStepE(n);r=Math.ceil(this.step/n);5<r&&(r=10);5>=r&&2<r&&(r=5);this.step=Math.ceil(this.step/(n*r))*n*r;1>n?(this.maxDecCount=Math.abs(Math.log(Math.abs(n))*Math.LOG10E),this.maxDecCount=Math.round(this.maxDecCount),this.step=AmCharts.roundTo(this.step,this.maxDecCount+1)):this.maxDecCount=0;this.min=this.step*Math.floor(this.min/this.step);this.max=this.step*Math.ceil(this.max/this.step);0>this.min&&0<=e&&(this.min=0);0<this.max&&0>=t&&(this.max=0);1<this.minReal&&1<this.max-this.minReal&&(this.minReal=Math.floor(this.minReal));n=Math.pow(10,Math.floor(Math.log(Math.abs(this.minReal))*Math.LOG10E));0===this.min&&(this.minReal=n);0===this.min&&1<this.minReal&&(this.minReal=1);0<this.min&&0<this.minReal-this.step&&(this.minReal=this.min+this.step<this.minReal?this.min+this.step:this.min);n=Math.log(t)*Math.LOG10E-Math.log(e)*Math.LOG10E;this.logarithmic&&(2<n?(this.minReal=this.min=Math.pow(10,Math.floor(Math.log(Math.abs(e))*Math.LOG10E)),this.max=Math.pow(10,Math.ceil(Math.log(Math.abs(t))*Math.LOG10E))):(t=Math.pow(10,Math.floor(Math.log(Math.abs(this.min))*Math.LOG10E))/10,e=Math.pow(10,Math.floor(Math.log(Math.abs(e))*Math.LOG10E))/10,t<e&&(this.minReal=this.min=10*e)))},getMin:function(e,t){var n,r;for(r=e;r<=t;r++){var i=this.data[r].axes[this.id].graphs,s;for(s in i)if(i.hasOwnProperty(s)){var o=this.chart.getGraphById(s);if(o.includeInMinMax&&(!o.hidden||this.includeHidden)){isNaN(n)&&(n=Infinity);this.foundGraphs=!0;o=i[s].values;this.recalculateToPercents&&(o=i[s].percents);var u;if(this.minMaxField)u=o[this.minMaxField],u<n&&(n=u);else for(var a in o)o.hasOwnProperty(a)&&"percents"!=a&&"total"!=a&&(u=o[a],u<n&&(n=u))}}}return n},getMax:function(){var e,t;for(t=this.start;t<=this.end;t++){var n=this.data[t].axes[this.id].graphs,r;for(r in n)if(n.hasOwnProperty(r)){var i=this.chart.getGraphById(r);if(i.includeInMinMax&&(!i.hidden||this.includeHidden)){isNaN(e)&&(e=-Infinity);this.foundGraphs=!0;i=n[r].values;this.recalculateToPercents&&(i=n[r].percents);var s;if(this.minMaxField)s=i[this.minMaxField],s>e&&(e=s);else for(var o in i)i.hasOwnProperty(o)&&"percents"!=o&&"total"!=o&&(s=i[o],s>e&&(e=s))}}}return e},dispatchZoomEvent:function(e,t){var n={type:"axisZoomed",startValue:e,endValue:t,target:this,chart:this.chart};this.fire(n.type,n)},zoomToValues:function(e,t){if(t<e){var n=t;t=e;e=n}e<this.min&&(e=this.min);t>this.max&&(t=this.max);n={type:"axisSelfZoomed"};n.chart=this.chart;n.valueAxis=this;n.multiplier=this.axisWidth/Math.abs(this.getCoordinate(t)-this.getCoordinate(e));n.position="V"==this.orientation?this.reversed?this.getCoordinate(e):this.getCoordinate(t):this.reversed?this.getCoordinate(t):this.getCoordinate(e);this.fire(n.type,n)},coordinateToValue:function(e){if(isNaN(e))return NaN;var t=this.axisWidth,n=this.stepWidth,r=this.reversed,i=this.rotate,s=this.min,o=this.minReal;return!0===this.logarithmic?Math.pow(10,(i?!0===r?(t-e)/n:e/n:!0===r?e/n:(t-e)/n)+Math.log(o)*Math.LOG10E):!0===r?i?s-(e-t)/n:e/n+s:i?e/n+s:s-(e-t)/n},getCoordinate:function(e){if(isNaN(e))return NaN;var t=this.rotate,n=this.reversed,r=this.axisWidth,i=this.stepWidth,s=this.min,o=this.minReal;!0===this.logarithmic?(0==e&&(e=this.treatZeroAs),e=Math.log(e)*Math.LOG10E-Math.log(o)*Math.LOG10E,t=t?!0===n?r-i*e:i*e:!0===n?i*e:r-i*e):t=!0===n?t?r-i*(e-s):i*(e-s):t?i*(e-s):r-i*(e-s);t=this.rotate?t+(this.x-this.viX):t+(this.y-this.viY);1e7<Math.abs(t)&&(t=1e7*(t/Math.abs(t)));return Math.round(t)},synchronizeWithAxis:function(e){this.synchronizeWith=e;this.listenTo(this.synchronizeWith,"axisChanged",this.handleSynchronization)},handleSynchronization:function(e){var t=this.synchronizeWith;e=t.min;var n=t.max,t=t.step,r=this.synchronizationMultiplier;r&&(this.min=e*r,this.max=n*r,this.step=t*r,e=Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E)),e=Math.abs(Math.log(Math.abs(e))*Math.LOG10E),this.maxDecCount=e=Math.round(e),this.draw())}});AmCharts.RecAxis=AmCharts.Class({construct:function(e){var t=e.chart,n=e.axisThickness,r=e.axisColor,i=e.axisAlpha,s=e.offset,o=e.dx,u=e.dy,a=e.viX,f=e.viY,l=e.viH,c=e.viW,h=t.container;"H"==e.orientation?(r=AmCharts.line(h,[0,c],[0,0],r,i,n),this.axisWidth=e.width,"bottom"==e.position?(u=n/2+s+l+f-1,n=a):(u=-n/2-s+f+u,n=o+a)):(this.axisWidth=e.height,"right"==e.position?(r=AmCharts.line(h,[0,0,-o],[0,l,l-u],r,i,n),u=f+u,n=n/2+s+o+c+a-1):(r=AmCharts.line(h,[0,0],[0,l],r,i,n),u=f,n=-n/2-s+a));r.translate(n,u);n=t.container.set();n.push(r);t.axesSet.push(n);AmCharts.setCN(t,r,e.bcn+"line");this.axisSet=n;this.set=r}});AmCharts.RecItem=AmCharts.Class({construct:function(e,t,n,r,i,s,o,u,a,f,l,c){t=Math.round(t);var h=e.chart;this.value=n;void 0==n&&(n="");a||(a=0);void 0==r&&(r=!0);var p=h.fontFamily,d=e.fontSize;void 0==d&&(d=h.fontSize);var v=e.color;void 0==v&&(v=h.color);void 0!==l&&(v=l);var m=e.chart.container,g=m.set();this.set=g;var y=e.axisThickness,b=e.axisColor,w=e.axisAlpha,E=e.tickLength,S=e.gridAlpha,x=e.gridThickness,T=e.gridColor,N=e.dashLength,C=e.fillColor,k=e.fillAlpha,L=e.labelsEnabled;l=e.labelRotation;var A=e.counter,O=e.inside,M=e.labelOffset,_=e.dx,D=e.dy,P=e.orientation,H=e.position,B=e.previousCoord,j=e.viH,F=e.viW,I=e.offset,q,R;o?(void 0!=o.id&&(c=h.classNamePrefix+"-guide-"+o.id),L=!0,isNaN(o.tickLength)||(E=o.tickLength),void 0!=o.lineColor&&(T=o.lineColor),void 0!=o.color&&(v=o.color),isNaN(o.lineAlpha)||(S=o.lineAlpha),isNaN(o.dashLength)||(N=o.dashLength),isNaN(o.lineThickness)||(x=o.lineThickness),!0===o.inside&&(O=!0),isNaN(o.labelRotation)||(l=o.labelRotation),isNaN(o.fontSize)||(d=o.fontSize),o.position&&(H=o.position),void 0!==o.boldLabel&&(u=o.boldLabel),isNaN(o.labelOffset)||(M=o.labelOffset)):""===n&&(E=0);var U="start";i&&(U="middle");var z=l*Math.PI/180,W,X,V=0,$=0,J=0,K=W=0,Q=0;"V"==P&&(l=0);var G;L&&(G=e.autoWrap&&0===l?AmCharts.wrappedText(m,n,v,p,d,U,u,i,0):AmCharts.text(m,n,v,p,d,U,u),U=G.getBBox(),K=U.width,Q=U.height);if("H"==P){if(0<=t&&t<=F+1&&(0<E&&0<w&&t+a<=F+1&&(q=AmCharts.line(m,[t+a,t+a],[0,E],b,w,x),g.push(q)),0<S&&(R=AmCharts.line(m,[t,t+_,t+_],[j,j+D,D],T,S,x,N),g.push(R))),$=0,V=t,o&&90==l&&O&&(V-=d),!1===r?(U="start",$="bottom"==H?O?$+E:$-E:O?$-E:$+E,V+=3,i&&(V+=i/2-3,U="middle"),0<l&&(U="middle")):U="middle",1==A&&0<k&&!o&&!f&&B<F&&(r=AmCharts.fitToBounds(t,0,F),B=AmCharts.fitToBounds(B,0,F),W=r-B,0<W&&(X=AmCharts.rect(m,W,e.height,C,k),X.translate(r-W+_,D),g.push(X))),"bottom"==H?($+=j+d/2+I,O?(0<l?($=j-K/2*Math.sin(z)-E-3,V+=K/2*Math.cos(z)-4+2):0>l?($=j+K*Math.sin(z)-E-3+2,V+=-K*Math.cos(z)-Q*Math.sin(z)-4):$-=E+d+3+3,$-=M):(0<l?($=j+K/2*Math.sin(z)+E+3,V-=K/2*Math.cos(z)):0>l?($=j+E+3-K/2*Math.sin(z)+2,V+=K/2*Math.cos(z)):$+=E+y+3+3,$+=M)):($+=D+d/2-I,V+=_,O?(0<l?($=K/2*Math.sin(z)+E+3,V-=K/2*Math.cos(z)):$+=E+3,$+=M):(0<l?($=-(K/2)*Math.sin(z)-E-6,V+=K/2*Math.cos(z)):$-=E+d+3+y+3,$-=M)),"bottom"==H?W=(O?j-E-1:j+y-1)+I:(J=_,W=(O?D:D-E-y+1)-I),s&&(V+=s),s=V,0<l&&(s+=K/2*Math.cos(z)),G&&(d=0,O&&(d=K/2*Math.cos(z)),s+d>F+2||0>s))G.remove(),G=null}else{0<=t&&t<=j+1&&(0<E&&0<w&&t+a<=j+1&&(q=AmCharts.line(m,[0,E],[t+a,t+a],b,w,x),g.push(q)),0<S&&(R=AmCharts.line(m,[0,_,F+_],[t,t+D,t+D],T,S,x,N),g.push(R)));U="end";if(!0===O&&"left"==H||!1===O&&"right"==H)U="start";$=t-d/2;1==A&&0<k&&!o&&!f&&(r=AmCharts.fitToBounds(t,0,j),B=AmCharts.fitToBounds(B,0,j),z=r-B,X=AmCharts.polygon(m,[0,e.width,e.width,0],[0,0,z,z],C,k),X.translate(_,r-z+D),g.push(X));$+=d/2;"right"==H?(V+=_+F+I,$+=D,O?(s||($-=d/2+3),V=V-(E+4)-M):(V+=E+4+y,$-=2,V+=M)):O?(V+=E+4-I,s||($-=d/2+3),o&&(V+=_,$+=D),V+=M):(V+=-E-y-4-2-I,$-=2,V-=M);q&&("right"==H?(J+=_+I+F,W+=D,J=O?J-y:J+y):(J-=I,O||(J-=E+y)));s&&($+=s);O=-3;"right"==H&&(O+=D);G&&($>j+1||$<O)&&(G.remove(),G=null)}q&&(q.translate(J,W),AmCharts.setCN(h,q,e.bcn+"tick"),AmCharts.setCN(h,q,c,!0),o&&AmCharts.setCN(h,q,"guide"));!1===e.visible&&(q&&q.remove(),G&&(G.remove(),G=null));G&&(G.attr({"text-anchor":U}),G.translate(V,$),0!==l&&G.rotate(-l,e.chart.backgroundColor),e.allLabels.push(G),this.label=G,AmCharts.setCN(h,G,e.bcn+"label"),AmCharts.setCN(h,G,c,!0),o&&AmCharts.setCN(h,G,"guide"));R&&(AmCharts.setCN(h,R,e.bcn+"grid"),AmCharts.setCN(h,R,c,!0),o&&AmCharts.setCN(h,R,"guide"));X&&(AmCharts.setCN(h,X,e.bcn+"fill"),AmCharts.setCN(h,X,c,!0));f?R&&AmCharts.setCN(h,R,e.bcn+"grid-minor"):(e.counter=0===A?1:0,e.previousCoord=t);0===this.set.node.childNodes.length&&this.set.remove()},graphics:function(){return this.set},getLabel:function(){return this.label}});AmCharts.RecFill=AmCharts.Class({construct:function(e,t,n,r){var i=e.dx,s=e.dy,o=e.orientation,u=0;if(n<t){var a=t;t=n;n=a}var f=r.fillAlpha;isNaN(f)&&(f=0);var a=e.chart.container,l=r.fillColor;"V"==o?(t=AmCharts.fitToBounds(t,0,e.viH),n=AmCharts.fitToBounds(n,0,e.viH)):(t=AmCharts.fitToBounds(t,0,e.viW),n=AmCharts.fitToBounds(n,0,e.viW));n-=t;isNaN(n)&&(n=4,u=2,f=0);0>n&&"object"==typeof l&&(l=l.join(",").split(",").reverse());"V"==o?(o=AmCharts.rect(a,e.viW,n,l,f),o.translate(i,t-u+s)):(o=AmCharts.rect(a,n,e.viH,l,f),o.translate(t-u+i,s));AmCharts.setCN(e.chart,o,"guide-fill");r.id&&AmCharts.setCN(e.chart,o,"guide-fill-"+r.id);this.set=a.set([o])},graphics:function(){return this.set},getLabel:function(){}});AmCharts.AmChart=AmCharts.Class({construct:function(e){this.theme=e;this.classNamePrefix="amcharts";this.addClassNames=!1;this.version="3.13.0";AmCharts.addChart(this);this.createEvents("dataUpdated","init","rendered","drawn","failed","resized");this.height=this.width="100%";this.dataChanged=!0;this.chartCreated=!1;this.previousWidth=this.previousHeight=0;this.backgroundColor="#FFFFFF";this.borderAlpha=this.backgroundAlpha=0;this.color=this.borderColor="#000000";this.fontFamily="Verdana";this.fontSize=11;this.usePrefixes=!1;this.precision=-1;this.percentPrecision=2;this.decimalSeparator=".";this.thousandsSeparator=",";this.labels=[];this.allLabels=[];this.titles=[];this.marginRight=this.marginLeft=this.autoMarginOffset=0;this.timeOuts=[];this.creditsPosition="top-left";var t=document.createElement("div"),n=t.style;n.overflow="hidden";n.position="relative";n.textAlign="left";this.chartDiv=t;t=document.createElement("div");n=t.style;n.overflow="hidden";n.position="relative";n.textAlign="left";this.legendDiv=t;this.titleHeight=0;this.hideBalloonTime=150;this.handDrawScatter=2;this.handDrawThickness=1;this.prefixesOfBigNumbers=[{number:1e3,prefix:"k"},{number:1e6,prefix:"M"},{number:1e9,prefix:"G"},{number:1e12,prefix:"T"},{number:1e15,prefix:"P"},{number:1e18,prefix:"E"},{number:1e21,prefix:"Z"},{number:1e24,prefix:"Y"}];this.prefixesOfSmallNumbers=[{number:1e-24,prefix:"y"},{number:1e-21,prefix:"z"},{number:1e-18,prefix:"a"},{number:1e-15,prefix:"f"},{number:1e-12,prefix:"p"},{number:1e-9,prefix:"n"},{number:1e-6,prefix:"Î¼"},{number:.001,prefix:"m"}];this.panEventsEnabled=!0;AmCharts.bezierX=3;AmCharts.bezierY=6;this.product="amcharts";this.animations=[];this.balloon=new AmCharts.AmBalloon(this.theme);this.balloon.chart=this;AmCharts.applyTheme(this,e,"AmChart")},drawChart:function(){this.drawBackground();this.redrawLabels();this.drawTitles();this.brr()},drawBackground:function(){AmCharts.remove(this.background);var e=this.container,t=this.backgroundColor,n=this.backgroundAlpha,r=this.set;AmCharts.isModern||0!==n||(n=.001);var i=this.updateWidth();this.realWidth=i;var s=this.updateHeight();this.realHeight=s;t=AmCharts.polygon(e,[0,i-1,i-1,0],[0,0,s-1,s-1],t,n,1,this.borderColor,this.borderAlpha);AmCharts.setCN(this,t,"bg");this.background=t;r.push(t);if(t=this.backgroundImage)this.path&&(t=this.path+t),e=e.image(t,0,0,i,s),AmCharts.setCN(this,t,"bg-image"),this.bgImg=e,r.push(e)},drawTitles:function(){var e=this.titles;if(AmCharts.ifArray(e)){var t=20,n;for(n=0;n<e.length;n++){var r=e[n];if(!1!==r.enabled){var i=r.color;void 0===i&&(i=this.color);var s=r.size;isNaN(s)&&(s=this.fontSize+2);isNaN(r.alpha);var o=this.marginLeft,i=AmCharts.text(this.container,r.text,i,this.fontFamily,s);i.translate(o+(this.realWidth-this.marginRight-o)/2,t);i.node.style.pointerEvents="none";AmCharts.setCN(this,i,"title");r.id&&AmCharts.setCN(this,i,"title-"+r.id);o=!0;void 0!==r.bold&&(o=r.bold);o&&i.attr({"font-weight":"bold"});i.attr({opacity:r.alpha});t+=s+6;this.freeLabelsSet.push(i)}}}},write:function(e){if(e="object"!=typeof e?document.getElementById(e):e){for(;e.firstChild;)e.removeChild(e.firstChild);this.div=e;e.style.overflow="hidden";e.style.textAlign="left";var t=this.chartDiv,n=this.legendDiv,r=this.legend,i=n.style,s=t.style;this.measure();var o,u=document.createElement("div");o=u.style;o.position="relative";this.containerDiv=u;u.className=this.classNamePrefix+"-main-div";t.className=this.classNamePrefix+"-chart-div";e.appendChild(u);var a=this.exportConfig;a&&AmCharts.AmExport&&!this.AmExport&&(this.AmExport=new AmCharts.AmExport(this,a));this.amExport&&AmCharts.AmExport&&(this.AmExport=AmCharts.extend(this.amExport,new AmCharts.AmExport(this),!0));this.AmExport&&this.AmExport.init&&this.AmExport.init();if(r)if(r=this.addLegend(r,r.divId),r.enabled)switch(r.position){case"bottom":u.appendChild(t);u.appendChild(n);break;case"top":u.appendChild(n);u.appendChild(t);break;case"absolute":o.width=e.style.width;o.height=e.style.height;i.position="absolute";s.position="absolute";void 0!==r.left&&(i.left=r.left+"px");void 0!==r.right&&(i.right=r.right+"px");void 0!==r.top&&(i.top=r.top+"px");void 0!==r.bottom&&(i.bottom=r.bottom+"px");r.marginLeft=0;r.marginRight=0;u.appendChild(t);u.appendChild(n);break;case"right":o.width=e.style.width;o.height=e.style.height;i.position="relative";s.position="absolute";u.appendChild(t);u.appendChild(n);break;case"left":o.width=e.style.width;o.height=e.style.height;i.position="absolute";s.position="relative";u.appendChild(t);u.appendChild(n);break;case"outside":u.appendChild(t)}else u.appendChild(t);else u.appendChild(t);this.listenersAdded||(this.addListeners(),this.listenersAdded=!0);this.initChart()}},createLabelsSet:function(){AmCharts.remove(this.labelsSet);this.labelsSet=this.container.set();this.freeLabelsSet.push(this.labelsSet)},initChart:function(){this.initHC||(AmCharts.callInitHandler(this),this.initHC=!0);this.renderFix();AmCharts.applyLang(this.language,this);var e=this.numberFormatter;e&&(isNaN(e.precision)||(this.precision=e.precision),void 0!==e.thousandsSeparator&&(this.thousandsSeparator=e.thousandsSeparator),void 0!==e.decimalSeparator&&(this.decimalSeparator=e.decimalSeparator));(e=this.percentFormatter)&&!isNaN(e.precision)&&(this.percentPrecision=e.precision);this.nf={precision:this.precision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator};this.pf={precision:this.percentPrecision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator};this.divIsFixed=AmCharts.findIfFixed(this.chartDiv);this.previousHeight=this.divRealHeight;this.previousWidth=this.divRealWidth;this.destroy();this.startInterval();e=0;document.attachEvent&&!window.opera&&(e=1);this.dmouseX=this.dmouseY=0;var t=document.getElementsByTagName("html")[0];t&&window.getComputedStyle&&(t=window.getComputedStyle(t,null))&&(this.dmouseY=AmCharts.removePx(t.getPropertyValue("margin-top")),this.dmouseX=AmCharts.removePx(t.getPropertyValue("margin-left")));this.mouseMode=e;(e=this.container)?(e.container.innerHTML="",e.width=this.realWidth,e.height=this.realHeight,e.addDefs(this),this.chartDiv.appendChild(e.container)):e=new AmCharts.AmDraw(this.chartDiv,this.realWidth,this.realHeight,this);e.chart=this;AmCharts.VML||AmCharts.SVG?(e.handDrawn=this.handDrawn,e.handDrawScatter=this.handDrawScatter,e.handDrawThickness=this.handDrawThickness,this.container=e,this.set&&this.set.remove(),this.set=e.set(),this.gridSet&&this.gridSet.remove(),this.gridSet=e.set(),this.cursorLineSet&&this.cursorLineSet.remove(),this.cursorLineSet=e.set(),this.graphsBehindSet&&this.graphsBehindSet.remove(),this.graphsBehindSet=e.set(),this.bulletBehindSet&&this.bulletBehindSet.remove(),this.bulletBehindSet=e.set(),this.columnSet&&this.columnSet.remove(),this.columnSet=e.set(),this.graphsSet&&this.graphsSet.remove(),this.graphsSet=e.set(),this.trendLinesSet&&this.trendLinesSet.remove(),this.trendLinesSet=e.set(),this.axesSet&&this.axesSet.remove(),this.axesSet=e.set(),this.cursorSet&&this.cursorSet.remove(),this.cursorSet=e.set(),this.scrollbarsSet&&this.scrollbarsSet.remove(),this.scrollbarsSet=e.set(),this.bulletSet&&this.bulletSet.remove(),this.bulletSet=e.set(),this.freeLabelsSet&&this.freeLabelsSet.remove(),this.axesLabelsSet&&this.axesLabelsSet.remove(),this.axesLabelsSet=e.set(),this.freeLabelsSet=e.set(),this.balloonsSet&&this.balloonsSet.remove(),this.balloonsSet=e.set(),this.zoomButtonSet&&this.zoomButtonSet.remove(),this.zoomButtonSet=e.set(),this.linkSet&&this.linkSet.remove(),this.linkSet=e.set()):this.fire("failed",{type:"failed",chart:this})},measure:function(){var e=this.div;if(e){var t=this.chartDiv,n=e.offsetWidth,r=e.offsetHeight,i=this.container;e.clientHeight&&(n=e.clientWidth,r=e.clientHeight);var s=AmCharts.removePx(AmCharts.getStyle(e,"padding-left")),o=AmCharts.removePx(AmCharts.getStyle(e,"padding-right")),u=AmCharts.removePx(AmCharts.getStyle(e,"padding-top")),a=AmCharts.removePx(AmCharts.getStyle(e,"padding-bottom"));isNaN(s)||(n-=s);isNaN(o)||(n-=o);isNaN(u)||(r-=u);isNaN(a)||(r-=a);s=e.style;e=s.width;s=s.height;-1!=e.indexOf("px")&&(n=AmCharts.removePx(e));-1!=s.indexOf("px")&&(r=AmCharts.removePx(s));e=AmCharts.toCoordinate(this.width,n);s=AmCharts.toCoordinate(this.height,r);this.balloon=AmCharts.processObject(this.balloon,AmCharts.AmBalloon,this.theme);this.balloon.chart=this;(e!=this.previousWidth||s!=this.previousHeight)&&0<e&&0<s&&(t.style.width=e+"px",t.style.height=s+"px",i&&i.setSize(e,s));this.balloon.setBounds(2,2,e-2,s);this.realWidth=e;this.realHeight=s;this.divRealWidth=n;this.divRealHeight=r}},destroy:function(){this.chartDiv.innerHTML="";this.clearTimeOuts();this.interval&&clearInterval(this.interval);this.interval=NaN},clearTimeOuts:function(){var e=this.timeOuts;if(e){var t;for(t=0;t<e.length;t++)clearTimeout(e[t])}this.timeOuts=[]},clear:function(e){AmCharts.callMethod("clear",[this.chartScrollbar,this.scrollbarV,this.scrollbarH,this.chartCursor]);this.chartCursor=this.scrollbarH=this.scrollbarV=this.chartScrollbar=null;this.clearTimeOuts();this.interval&&clearInterval(this.interval);this.container&&(this.container.remove(this.chartDiv),this.container.remove(this.legendDiv));e||AmCharts.removeChart(this)},setMouseCursor:function(e){"auto"==e&&AmCharts.isNN&&(e="default");this.chartDiv.style.cursor=e;this.legendDiv.style.cursor=e},redrawLabels:function(){this.labels=[];var e=this.allLabels;this.createLabelsSet();var t;for(t=0;t<e.length;t++)this.drawLabel(e[t])},drawLabel:function(e){if(this.container&&!1!==e.enabled){var t=e.y,n=e.text,r=e.align,i=e.size,s=e.color,o=e.rotation,u=e.alpha,a=e.bold,f=AmCharts.toCoordinate(e.x,this.realWidth),t=AmCharts.toCoordinate(t,this.realHeight);f||(f=0);t||(t=0);void 0===s&&(s=this.color);isNaN(i)&&(i=this.fontSize);r||(r="start");"left"==r&&(r="start");"right"==r&&(r="end");"center"==r&&(r="middle",o?t=this.realHeight-t+t/2:f=this.realWidth/2-f);void 0===u&&(u=1);void 0===o&&(o=0);t+=i/2;n=AmCharts.text(this.container,n,s,this.fontFamily,i,r,a,u);n.translate(f,t);AmCharts.setCN(this,n,"label");e.id&&AmCharts.setCN(this,n,"label-"+e.id);0!==o&&n.rotate(o);e.url?(n.setAttr("cursor","pointer"),n.click(function(){AmCharts.getURL(e.url)})):n.node.style.pointerEvents="none";this.labelsSet.push(n);this.labels.push(n)}},addLabel:function(e,t,n,r,i,s,o,u,a,f){e={x:e,y:t,text:n,align:r,size:i,color:s,alpha:u,rotation:o,bold:a,url:f,enabled:!0};this.container&&this.drawLabel(e);this.allLabels.push(e)},clearLabels:function(){var e=this.labels,t;for(t=e.length-1;0<=t;t--)e[t].remove();this.labels=[];this.allLabels=[]},updateHeight:function(){var e=this.divRealHeight,t=this.legend;if(t){var n=this.legendDiv.offsetHeight,t=t.position;if("top"==t||"bottom"==t){e-=n;if(0>e||isNaN(e))e=0;this.chartDiv.style.height=e+"px"}}return e},updateWidth:function(){var e=this.divRealWidth,t=this.divRealHeight,n=this.legend;if(n){var r=this.legendDiv,i=r.offsetWidth;isNaN(n.width)||(i=n.width);var s=r.offsetHeight,r=r.style,o=this.chartDiv.style,n=n.position;if("right"==n||"left"==n){e-=i;if(0>e||isNaN(e))e=0;o.width=e+"px";"left"==n?(o.left=i+"px",r.left="0px"):(o.left="0px",r.left=e+"px");t>s&&(r.top=(t-s)/2+"px")}}return e},getTitleHeight:function(){var e=0,t=this.titles,n=!0;if(0<t.length){var e=15,r;for(r=0;r<t.length;r++){var i=t[r];!1!==i.enabled&&(n=!1,i=i.size,isNaN(i)&&(i=this.fontSize+2),e+=i+6)}n&&(e=0)}return e},addTitle:function(e,t,n,r,i){isNaN(t)&&(t=this.fontSize+2);e={text:e,size:t,color:n,alpha:r,bold:i,enabled:!0};this.titles.push(e);return e},handleWheel:function(e){var t=0;e||(e=window.event);e.wheelDelta?t=e.wheelDelta/120:e.detail&&(t=-e.detail/3);t&&this.handleWheelReal(t,e.shiftKey);e.preventDefault&&e.preventDefault()},handleWheelReal:function(e){},addListeners:function(){var e=this,t=e.chartDiv;document.addEventListener?(e.panEventsEnabled&&(t.style.msTouchAction="none"),"ontouchstart"in document.documentElement&&(t.addEventListener("touchstart",function(t){e.handleTouchMove.call(e,t);e.handleTouchStart.call(e,t)},!0),t.addEventListener("touchmove",function(t){e.handleTouchMove.call(e,t)},!0),t.addEventListener("touchend",function(t){e.handleTouchEnd.call(e,t)},!0)),t.addEventListener("mousedown",function(t){e.mouseIsOver=!0;e.handleMouseMove.call(e,t);e.handleMouseDown.call(e,t)},!0),t.addEventListener("mouseover",function(t){e.handleMouseOver.call(e,t)},!0),t.addEventListener("mouseout",function(t){e.handleMouseOut.call(e,t)},!0)):(t.attachEvent("onmousedown",function(t){e.handleMouseDown.call(e,t)}),t.attachEvent("onmouseover",function(t){e.handleMouseOver.call(e,t)}),t.attachEvent("onmouseout",function(t){e.handleMouseOut.call(e,t)}))},dispDUpd:function(){if(!this.skipEvents){var e;this.dispatchDataUpdated&&(this.dispatchDataUpdated=!1,e="dataUpdated",this.fire(e,{type:e,chart:this}));this.chartCreated||(e="init",this.fire(e,{type:e,chart:this}));this.chartRendered||(e="rendered",this.fire(e,{type:e,chart:this}),this.chartRendered=!0);e="drawn";this.fire(e,{type:e,chart:this})}this.skipEvents=!1},validateSize:function(){var e=this;e.measure();var t=e.legend;if(e.realWidth!=e.previousWidth||e.realHeight!=e.previousHeight){if(0<e.realWidth&&0<e.realHeight){e.sizeChanged=!0;if(t){clearTimeout(e.legendInitTO);var n=setTimeout(function(){t.invalidateSize()},100);e.timeOuts.push(n);e.legendInitTO=n}"xy"!=e.type?e.marginsUpdated=!1:(e.marginsUpdated=!0,e.selfZoom=!0);clearTimeout(e.initTO);n=setTimeout(function(){e.initChart()},150);e.timeOuts.push(n);e.initTO=n}e.fire("resized",{type:"resized",chart:e})}e.renderFix();t&&t.renderFix()},invalidateSize:function(){this.previousHeight=this.previousWidth=NaN;this.invalidateSizeReal()},invalidateSizeReal:function(){var e=this;e.marginsUpdated=!1;clearTimeout(e.validateTO);var t=setTimeout(function(){e.validateSize()},5);e.timeOuts.push(t);e.validateTO=t},validateData:function(e){this.chartCreated&&(this.dataChanged=!0,this.marginsUpdated="xy"!=this.type?!1:!0,this.initChart(e))},validateNow:function(e,t){this.initTO&&clearTimeout(this.initTO);e&&(this.dataChanged=!0);this.skipEvents=t;this.chartRendered=!1;this.write(this.div)},showItem:function(e){e.hidden=!1;this.initChart()},hideItem:function(e){e.hidden=!0;this.initChart()},hideBalloon:function(){var e=this;clearInterval(e.hoverInt);clearTimeout(e.balloonTO);e.hoverInt=setTimeout(function(){e.hideBalloonReal.call(e)},e.hideBalloonTime)},cleanChart:function(){},hideBalloonReal:function(){var e=this.balloon;e&&e.hide()},showBalloon:function(e,t,n,r,i){var s=this;clearTimeout(s.balloonTO);clearInterval(s.hoverInt);s.balloonTO=setTimeout(function(){s.showBalloonReal.call(s,e,t,n,r,i)},1)},showBalloonReal:function(e,t,n,r,i){this.handleMouseMove();var s=this.balloon;s.enabled&&(s.followCursor(!1),s.changeColor(t),!n||s.fixedPosition?(s.setPosition(r,i),s.followCursor(!1)):s.followCursor(!0),e&&s.showBalloon(e))},handleTouchMove:function(e){this.hideBalloon();var t=this.chartDiv;e.touches&&(e=e.touches.item(0),this.mouseX=e.pageX-AmCharts.findPosX(t),this.mouseY=e.pageY-AmCharts.findPosY(t))},handleMouseOver:function(e){AmCharts.resetMouseOver();this.mouseIsOver=!0},handleMouseOut:function(e){AmCharts.resetMouseOver();this.mouseIsOver=!1},handleMouseMove:function(e){if(this.mouseIsOver){var t=this.chartDiv;e||(e=window.event);var n,r;if(e){this.posX=AmCharts.findPosX(t);this.posY=AmCharts.findPosY(t);switch(this.mouseMode){case 1:n=e.clientX-this.posX;r=e.clientY-this.posY;if(!this.divIsFixed){var t=document.body,i,s;t&&(i=t.scrollLeft,y1=t.scrollTop);if(t=document.documentElement)s=t.scrollLeft,y2=t.scrollTop;i=Math.max(i,s);s=Math.max(y1,y2);n+=i;r+=s}break;case 0:this.divIsFixed?(n=e.clientX-this.posX,r=e.clientY-this.posY):(n=e.pageX-this.posX,r=e.pageY-this.posY)}e.touches&&(e=e.touches.item(0),n=e.pageX-this.posX,r=e.pageY-this.posY);this.mouseX=n-this.dmouseX;this.mouseY=r-this.dmouseY}}},handleTouchStart:function(e){this.handleMouseDown(e)},handleTouchEnd:function(e){AmCharts.resetMouseOver();this.handleReleaseOutside(e)},handleReleaseOutside:function(e){},handleMouseDown:function(e){AmCharts.resetMouseOver();this.mouseIsOver=!0;e&&e.preventDefault&&(this.panEventsEnabled?e.preventDefault():e.touches||e.preventDefault())},addLegend:function(e,t){e=AmCharts.processObject(e,AmCharts.AmLegend,this.theme);e.divId=t;var n;n="object"!=typeof t&&t?document.getElementById(t):t;this.legend=e;e.chart=this;n?(e.div=n,e.position="outside",e.autoMargins=!1):e.div=this.legendDiv;n=this.handleLegendEvent;this.listenTo(e,"showItem",n);this.listenTo(e,"hideItem",n);this.listenTo(e,"clickMarker",n);this.listenTo(e,"rollOverItem",n);this.listenTo(e,"rollOutItem",n);this.listenTo(e,"rollOverMarker",n);this.listenTo(e,"rollOutMarker",n);this.listenTo(e,"clickLabel",n);return e},removeLegend:function(){this.legend=void 0;this.legendDiv.innerHTML=""},handleResize:function(){(AmCharts.isPercents(this.width)||AmCharts.isPercents(this.height))&&this.invalidateSizeReal();this.renderFix()},renderFix:function(){if(!AmCharts.VML){var e=this.container;e&&e.renderFix()}},getSVG:function(){if(AmCharts.hasSVG)return this.container},animate:function(e,t,n,r,i,s,o){e["an_"+t]&&AmCharts.removeFromArray(this.animations,e["an_"+t]);n={obj:e,frame:0,attribute:t,from:n,to:r,time:i,effect:s,suffix:o};e["an_"+t]=n;this.animations.push(n);return n},setLegendData:function(e){var t=this.legend;t&&t.setData(e)},startInterval:function(){var e=this;clearInterval(e.interval);e.interval=setInterval(function(){e.updateAnimations.call(e)},AmCharts.updateRate)},stopAnim:function(e){AmCharts.removeFromArray(this.animations,e)},updateAnimations:function(){var e;this.container&&this.container.update();for(e=this.animations.length-1;0<=e;e--){var t=this.animations[e],n=1e3*t.time/AmCharts.updateRate,r=t.frame+1,i=t.obj,s=t.attribute;if(r<=n){t.frame++;var o=Number(t.from),u=Number(t.to)-o,n=AmCharts[t.effect](0,r,o,u,n);0===u?(this.animations.splice(e,1),i.node.style[s]=Number(t.to)+t.suffix):i.node.style[s]=n+t.suffix}else i.node.style[s]=Number(t.to)+t.suffix,this.animations.splice(e,1)}},inIframe:function(){try{return window.self!==window.top}catch(e){return!0}},brr:function(){var e=window.location.hostname.split("."),t;2<=e.length&&(t=e[e.length-2]+"."+e[e.length-1]);this.amLink&&(e=this.amLink.parentNode)&&e.removeChild(this.amLink);e=this.creditsPosition;if("amcharts.com"!=t||!0===this.inIframe()){var n=t=0,r=this.realWidth,i=this.realHeight;if("serial"==this.type||"xy"==this.type)t=this.marginLeftReal,n=this.marginTopReal,r=t+this.plotAreaWidth,i=n+this.plotAreaHeight;var s="http://www.amcharts.com/javascript-charts/",o="JavaScript charts",u="JS chart by amCharts";"ammap"==this.product&&(s="http://www.ammap.com/javascript-maps/",o="Interactive JavaScript maps",u="JS map by amCharts");var a=document.createElement("a"),u=document.createTextNode(u);a.setAttribute("href",s);a.setAttribute("title",o);a.appendChild(u);this.chartDiv.appendChild(a);this.amLink=a;s=a.style;s.position="absolute";s.textDecoration="none";s.color=this.color;s.fontFamily=this.fontFamily;s.fontSize=this.fontSize+"px";s.opacity=.7;s.display="block";var o=a.offsetWidth,a=a.offsetHeight,u=5+t,f=n+5;"bottom-left"==e&&(u=5+t,f=i-a-3);"bottom-right"==e&&(u=r-o-5,f=i-a-3);"top-right"==e&&(u=r-o-5,f=n+5);s.left=u+"px";s.top=f+"px"}}});AmCharts.Slice=AmCharts.Class({construct:function(){}});AmCharts.SerialDataItem=AmCharts.Class({construct:function(){}});AmCharts.GraphDataItem=AmCharts.Class({construct:function(){}});AmCharts.Guide=AmCharts.Class({construct:function(e){this.cname="Guide";AmCharts.applyTheme(this,e,this.cname)}});AmCharts.AmGraph=AmCharts.Class({construct:function(e){this.cname="AmGraph";this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph");this.type="line";this.stackable=!0;this.columnCount=1;this.columnIndex=0;this.centerCustomBullets=this.showBalloon=!0;this.maxBulletSize=50;this.minBulletSize=4;this.balloonText="[[value]]";this.hidden=this.scrollbar=this.animationPlayed=!1;this.pointPosition="middle";this.depthCount=1;this.includeInMinMax=!0;this.negativeBase=0;this.visibleInLegend=!0;this.showAllValueLabels=!1;this.showBulletsAt=this.showBalloonAt="close";this.lineThickness=1;this.dashLength=0;this.connect=!0;this.lineAlpha=1;this.bullet="none";this.bulletBorderThickness=2;this.bulletBorderAlpha=0;this.bulletAlpha=1;this.bulletSize=8;this.cornerRadiusTop=this.hideBulletsCount=this.bulletOffset=0;this.cursorBulletAlpha=1;this.gradientOrientation="vertical";this.dy=this.dx=0;this.periodValue="";this.clustered=!0;this.periodSpan=1;this.y=this.x=0;this.switchable=!0;this.tcc=this.minDistance=1;this.labelRotation=0;this.labelAnchor="auto";this.labelOffset=3;this.bcn="graph-";AmCharts.applyTheme(this,e,this.cname)},draw:function(){var e=this.chart,t=e.type;isNaN(this.precision)||(this.numberFormatter?this.numberFormatter.precision=this.precision:this.numberFormatter={precision:this.precision,decimalSeparator:e.decimalSeparator,thousandsSeparator:e.thousandsSeparator});var n=e.container;this.container=n;this.destroy();var r=n.set(),i=n.set();this.behindColumns?(e.graphsBehindSet.push(r),e.bulletBehindSet.push(i)):(e.graphsSet.push(r),e.bulletSet.push(i));var s=this.bulletAxis;AmCharts.isString(s)&&(this.bulletAxis=e.getValueAxisById(s));this.bulletSet=i;if(!this.scrollbar){var s=e.marginLeftReal,o=e.marginTopReal;r.translate(s,o);i.translate(s,o)}n=n.set();AmCharts.remove(this.columnsSet);r.push(n);this.set=r;AmCharts.setCN(e,r,"graph-"+this.type);AmCharts.setCN(e,r,"graph-"+this.id);AmCharts.setCN(e,i,"graph-"+this.type);AmCharts.setCN(e,i,"graph-"+this.id);this.columnsSet=n;this.columnsArray=[];this.ownColumns=[];this.allBullets=[];this.animationArray=[];r=this.labelPosition;r||(i=this.valueAxis.stackType,r="top","column"==this.type&&(e.rotate&&(r="right"),"100%"==i||"regular"==i)&&(r="middle"),this.labelPosition=r);AmCharts.ifArray(this.data)&&(e=!1,"xy"==t?this.xAxis.axisCreated&&this.yAxis.axisCreated&&(e=!0):this.valueAxis.axisCreated&&(e=!0),!this.hidden&&e&&this.createGraph())},createGraph:function(){var e=this,t=e.chart;e.startAlpha=t.startAlpha;e.seqAn=t.sequencedAnimation;e.baseCoord=e.valueAxis.baseCoord;void 0===e.fillAlphas&&(e.fillAlphas=0);e.bulletColorR=e.bulletColor;void 0===e.bulletColorR&&(e.bulletColorR=e.lineColorR,e.bulletColorNegative=e.negativeLineColor);void 0===e.bulletAlpha&&(e.bulletAlpha=e.lineAlpha);clearTimeout(e.playedTO);if(!isNaN(e.valueAxis.min)&&!isNaN(e.valueAxis.max)){switch(t.type){case"serial":e.categoryAxis&&(e.createSerialGraph(),"candlestick"==e.type&&1>e.valueAxis.minMaxMultiplier&&e.positiveClip(e.set));break;case"radar":e.createRadarGraph();break;case"xy":e.createXYGraph(),e.positiveClip(e.set)}e.playedTO=setTimeout(function(){e.setAnimationPlayed.call(e)},500*e.chart.startDuration)}},setAnimationPlayed:function(){this.animationPlayed=!0},createXYGraph:function(){var e=[],t=[],n=this.xAxis,r=this.yAxis;this.pmh=r.viH+1;this.pmw=n.viW+1;this.pmy=this.pmx=0;var i;for(i=this.start;i<=this.end;i++){var s=this.data[i].axes[n.id].graphs[this.id],o=s.values,u=o.x,a=o.y,o=n.getCoordinate(u),f=r.getCoordinate(a);!isNaN(u)&&!isNaN(a)&&(e.push(o),t.push(f),u=this.createBullet(s,o,f,i),a=this.labelText)&&(s=this.createLabel(s,o,f,a),this.positionLabel(o,f,s,u),this.allBullets.push(s))}this.drawLineGraph(e,t);this.launchAnimation()},createRadarGraph:function(){var e=this.valueAxis.stackType,t=[],n=[],r,i,s;for(s=this.start;s<=this.end;s++){var o=this.data[s].axes[this.valueAxis.id].graphs[this.id],u;u="none"==e||"3d"==e?o.values.value:o.values.close;if(isNaN(u))this.drawLineGraph(t,n),t=[],n=[];else{var a=this.y-(this.valueAxis.getCoordinate(u)-this.height),f=180-360/(this.end-this.start+1)*s;u=a*Math.sin(f/180*Math.PI);a*=Math.cos(f/180*Math.PI);t.push(u);n.push(a);var f=this.createBullet(o,u,a,s),l=this.labelText;l&&(o=this.createLabel(o,u,a,l),this.positionLabel(u,a,o,f),this.allBullets.push(o));isNaN(r)&&(r=u);isNaN(i)&&(i=a)}}t.push(r);n.push(i);this.drawLineGraph(t,n);this.launchAnimation()},positionLabel:function(e,t,n,r,i,s){i="middle";s=!1;var o=this.labelPosition,u=n.getBBox(),a=r.graphDataItem,f=this.chart.rotate,l=a.isNegative;t-=u.height/4/2;switch(o){case"top":o=f?"top":l?"bottom":"top";break;case"right":o=f?l?"left":"right":"right";break;case"bottom":o=f?"bottom":l?"top":"bottom";break;case"left":o=f?l?"right":"left":"left"}var c=a.columnGraphics,h=0,p=0;c&&(h=c.x,p=c.y);var d=this.labelOffset;switch(o){case"top":t-=r.size/2+u.height/2+d;break;case"right":i="start";e+=r.size/2+d;break;case"bottom":t+=r.size/2+u.height/2+d;break;case"left":i="end";e-=r.size/2+d;break;case"inside":"column"==this.type&&(s=!0,f?l?(i="end",e=h-3-d):(i="start",e=h+3+d):t=l?p+7+d:p-10-d);break;case"middle":"column"==this.type&&(s=!0,f?e-=(e-h)/2+d-3:t-=(t-p)/2+d-3)}"auto"!=this.labelAnchor&&(i=this.labelAnchor);n.attr({"text-anchor":i});this.labelRotation&&n.rotate(this.labelRotation);n.translate(e,t);u=n.getBBox();c&&s&&(u.height>a.columnHeight||u.width>a.columnWidth)&&(n.remove(),n=!1);if(n&&"serial"==this.chart.type)if(f){if(0>t||t>this.height)n.remove(),n=!1}else if(0>e||e>this.width)n.remove(),n=!1;return n},getGradRotation:function(){var e=270;"horizontal"==this.gradientOrientation&&(e=0);return this.gradientRotation=e},createSerialGraph:function(){this.dashLengthSwitched=this.fillColorsSwitched=this.lineColorSwitched=void 0;var e=this.chart,t=this.id,n=this.index,r=this.data,i=this.chart.container,s=this.valueAxis,o=this.type,u=this.columnWidthReal,a=this.showBulletsAt;isNaN(this.columnWidth)||(u=this.columnWidth);isNaN(u)&&(u=.8);var f=this.useNegativeColorIfDown,l=this.width,c=this.height,h=this.y,p=this.rotate,d=this.columnCount,v=AmCharts.toCoordinate(this.cornerRadiusTop,u/2),m=this.connect,g=[],y=[],b,w,E,S,x=this.chart.graphs.length,T,N=this.dx/this.tcc,C=this.dy/this.tcc,k=s.stackType,L=this.start,A=this.end,O=this.scrollbar,M="graph-column-";O&&(M="scrollbar-graph-column-");var _=this.categoryAxis,D=this.baseCoord,P=this.negativeBase,H=this.columnIndex,B=this.lineThickness,j=this.lineAlpha,F=this.lineColorR,I=this.dashLength,q=this.set,R,U=this.getGradRotation(),z=this.chart.columnSpacing,W=_.cellWidth,X=(W*u-d)/d;z>X&&(z=X);var V,$,J,K=c+1,Q=l+1,G=0,Y=0,Z,et,tt,nt,rt=this.fillColorsR,it=this.negativeFillColors,st=this.negativeLineColor,ot=this.fillAlphas,ut=this.negativeFillAlphas;"object"==typeof ot&&(ot=ot[0]);"object"==typeof ut&&(ut=ut[0]);var at=s.getCoordinate(s.min);s.logarithmic&&(at=s.getCoordinate(s.minReal));this.minCoord=at;this.resetBullet&&(this.bullet="none");if(!(O||"line"!=o&&"smoothedLine"!=o&&"step"!=o||(1==r.length&&"step"!=o&&"none"==this.bullet&&(this.bullet="round",this.resetBullet=!0),!it&&void 0==st||f))){var ft=P;ft>s.max&&(ft=s.max);ft<s.min&&(ft=s.min);s.logarithmic&&(ft=s.minReal);var lt=s.getCoordinate(ft),ct=s.getCoordinate(s.max);p?(K=c,Q=Math.abs(ct-lt)+1,Z=c,et=Math.abs(at-lt)+1,nt=Y=0,s.reversed?(G=0,tt=lt):(G=lt,tt=0)):(Q=l,K=Math.abs(ct-lt)+1,et=l,Z=Math.abs(at-lt)+1,tt=G=0,s.reversed?(nt=h,Y=lt):nt=lt+1)}var ht=Math.round;this.pmx=ht(G);this.pmy=ht(Y);this.pmh=ht(K);this.pmw=ht(Q);this.nmx=ht(tt);this.nmy=ht(nt);this.nmh=ht(Z);this.nmw=ht(et);AmCharts.isModern||(this.nmy=this.nmx=0,this.nmh=this.height);this.clustered||(d=1);u="column"==o?(W*u-z*(d-1))/d:W*u;1>u&&(u=1);var pt=this.fixedColumnWidth;isNaN(pt)||(u=pt);var dt;if("line"==o||"step"==o||"smoothedLine"==o){if(0<L){for(dt=L-1;-1<dt;dt--)if(V=r[dt],$=V.axes[s.id].graphs[t],J=$.values.value,!isNaN(J)){L=dt;break}if(this.lineColorField)for(dt=L;-1<dt;dt--)if(V=r[dt],$=V.axes[s.id].graphs[t],$.lineColor){this.bulletColorSwitched=this.lineColorSwitched=$.lineColor;break}if(this.fillColorsField)for(dt=L;-1<dt;dt--)if(V=r[dt],$=V.axes[s.id].graphs[t],$.fillColors){this.fillColorsSwitched=$.fillColors;break}if(this.dashLengthField)for(dt=L;-1<dt;dt--)if(V=r[dt],$=V.axes[s.id].graphs[t],!isNaN($.dashLength)){this.dashLengthSwitched=$.dashLength;break}}if(A<r.length-1)for(dt=A+1;dt<r.length;dt++)if(V=r[dt],$=V.axes[s.id].graphs[t],J=$.values.value,!isNaN(J)){A=dt;break}}A<r.length-1&&A++;var vt=[],mt=[],gt=!1;if("line"==o||"step"==o||"smoothedLine"==o)if(this.stackable&&"regular"==k||"100%"==k||this.fillToGraph)gt=!0;var yt=this.noStepRisers,bt=-1e3,wt=-1e3,Et=this.minDistance,St=!0,xt=!1;for(dt=L;dt<=A;dt++){V=r[dt];$=V.axes[s.id].graphs[t];$.index=dt;var Tt,Nt=NaN;if(f&&void 0==this.openField)for(var Ct=dt+1;Ct<r.length&&(!r[Ct]||!(Tt=r[dt+1].axes[s.id].graphs[t])||!Tt.values||(Nt=Tt.values.value,isNaN(Nt)));Ct++);var kt,Lt,At,Ot,Mt=NaN,_t=NaN,Dt=NaN,Pt=NaN,Ht=NaN,Bt=NaN,jt=NaN,Ft=NaN,It=NaN,qt=NaN,Rt=NaN,Ut=NaN,zt=NaN,Wt=NaN,Xt=NaN,Vt=NaN,$t=NaN,Jt=void 0,Kt=rt,Qt=ot,Gt=F,Yt,Zt,en=this.proCandlesticks,tn=this.topRadius,nn=this.pattern;void 0!=$.pattern&&(nn=$.pattern);void 0!=$.color&&(Kt=$.color);$.fillColors&&(Kt=$.fillColors);isNaN($.alpha)||(Qt=$.alpha);isNaN($.dashLength)||(I=$.dashLength);var rn=$.values;s.recalculateToPercents&&(rn=$.percents);if(rn){Wt=this.stackable&&"none"!=k&&"3d"!=k?rn.close:rn.value;if("candlestick"==o||"ohlc"==o)Wt=rn.close,Vt=rn.low,jt=s.getCoordinate(Vt),Xt=rn.high,It=s.getCoordinate(Xt);$t=rn.open;Dt=s.getCoordinate(Wt);isNaN($t)||(Ht=s.getCoordinate($t),f&&(Nt=$t,$t=Ht=NaN));f&&(void 0==this.openField?Tt&&(Tt.isNegative=Nt<Wt?!0:!1,isNaN(Nt)&&($.isNegative=!St)):$.isNegative=Nt>Wt?!0:!1);if(!O)switch(this.showBalloonAt){case"close":$.y=Dt;break;case"open":$.y=Ht;break;case"high":$.y=It;break;case"low":$.y=jt}var Mt=V.x[_.id],sn=this.periodSpan-1,on=Math.floor(W/2)+Math.floor(sn*W/2),un=on,an=0;"left"==this.stepDirection&&(an=(2*W+sn*W)/2,Mt-=an);"center"==this.stepDirection&&(an=W/2,Mt-=an);"start"==this.pointPosition&&(Mt-=W/2+Math.floor(sn*W/2),on=0,un=Math.floor(W)+Math.floor(sn*W));"end"==this.pointPosition&&(Mt+=W/2+Math.floor(sn*W/2),on=Math.floor(W)+Math.floor(sn*W),un=0);if(yt){var fn=this.columnWidth;isNaN(fn)||(on*=fn,un*=fn)}O||($.x=Mt);-1e5>Mt&&(Mt=-1e5);Mt>l+1e5&&(Mt=l+1e5);p?(_t=Dt,Pt=Ht,Ht=Dt=Mt,isNaN($t)&&!this.fillToGraph&&(Pt=D),Bt=jt,Ft=It):(Pt=_t=Mt,isNaN($t)&&!this.fillToGraph&&(Ht=D));if(!en&&Wt<$t||en&&Wt<R)$.isNegative=!0,it&&(Kt=it),ut&&(Qt=ut),void 0!=st&&(Gt=st);xt=!1;isNaN(Wt)||(f?Wt>Nt?(St&&(xt=!0),St=!1):(St||(xt=!0),St=!0):$.isNegative=Wt<P?!0:!1,R=Wt);switch(o){case"line":if(isNaN(Wt))m||(this.drawLineGraph(g,y,vt,mt),g=[],y=[],vt=[],mt=[]);else{if(Math.abs(_t-bt)>=Et||Math.abs(Dt-wt)>=Et)g.push(_t),y.push(Dt),bt=_t,wt=Dt;qt=_t;Rt=Dt;Ut=_t;zt=Dt;!gt||isNaN(Ht)||isNaN(Pt)||(vt.push(Pt),mt.push(Ht));if(xt||void 0!=$.lineColor||void 0!=$.fillColors||!isNaN($.dashLength))this.drawLineGraph(g,y,vt,mt),g=[_t],y=[Dt],vt=[],mt=[],!gt||isNaN(Ht)||isNaN(Pt)||(vt.push(Pt),mt.push(Ht)),f?St?(this.lineColorSwitched=F,this.fillColorsSwitched=rt):(this.lineColorSwitched=st,this.fillColorsSwitched=it):(this.lineColorSwitched=$.lineColor,this.fillColorsSwitched=$.fillColors),this.dashLengthSwitched=$.dashLength;$.gap&&(this.drawLineGraph(g,y,vt,mt),g=[],y=[],vt=[],mt=[])}break;case"smoothedLine":if(isNaN(Wt))m||(this.drawSmoothedGraph(g,y,vt,mt),g=[],y=[],vt=[],mt=[]);else{if(Math.abs(_t-bt)>=Et||Math.abs(Dt-wt)>=Et)g.push(_t),y.push(Dt),bt=_t,wt=Dt;qt=_t;Rt=Dt;Ut=_t;zt=Dt;!gt||isNaN(Ht)||isNaN(Pt)||(vt.push(Pt),mt.push(Ht));void 0==$.lineColor&&void 0==$.fillColors&&isNaN($.dashLength)||(this.drawSmoothedGraph(g,y,vt,mt),g=[_t],y=[Dt],vt=[],mt=[],!gt||isNaN(Ht)||isNaN(Pt)||(vt.push(Pt),mt.push(Ht)),this.lineColorSwitched=$.lineColor,this.fillColorsSwitched=$.fillColors,this.dashLengthSwitched=$.dashLength);$.gap&&(this.drawSmoothedGraph(g,y,vt,mt),g=[],y=[],vt=[],mt=[])}break;case"step":if(!isNaN(Wt)){p?(isNaN(b)||(g.push(b),y.push(Dt-on)),y.push(Dt-on),g.push(_t),y.push(Dt+un),g.push(_t),!gt||isNaN(Ht)||isNaN(Pt)||(isNaN(E)||(vt.push(E),mt.push(Ht-on)),vt.push(Pt),mt.push(Ht-on),vt.push(Pt),mt.push(Ht+un))):(isNaN(w)||(y.push(w),g.push(b),y.push(w),g.push(_t-on)),g.push(_t-on),y.push(Dt),g.push(_t+un),y.push(Dt),!gt||isNaN(Ht)||isNaN(Pt)||(isNaN(S)||(vt.push(Pt-on),mt.push(S)),vt.push(Pt-on),mt.push(Ht),vt.push(Pt+un),mt.push(Ht)));b=_t;w=Dt;E=Pt;S=Ht;qt=_t;Rt=Dt;Ut=_t;zt=Dt;if(xt||void 0!=$.lineColor||void 0!=$.fillColors||!isNaN($.dashLength)){var ln=g[g.length-2],cn=y[y.length-2];g.pop();y.pop();this.drawLineGraph(g,y,vt,mt);g=[ln];y=[cn];vt=[];mt=[];this.lineColorSwitched=$.lineColor;this.fillColorsSwitched=$.fillColors;this.dashLengthSwitched=$.dashLength;f&&(St?(this.lineColorSwitched=F,this.fillColorsSwitched=rt):(this.lineColorSwitched=st,this.fillColorsSwitched=it))}if(yt||$.gap)b=w=NaN,this.drawLineGraph(g,y,vt,mt),g=[],y=[],vt=[],mt=[]}else if(!m){if(1>=this.periodSpan||1<this.periodSpan&&_t-b>on+un)b=w=NaN;this.drawLineGraph(g,y,vt,mt);g=[];y=[];vt=[];mt=[]}break;case"column":Yt=Gt;void 0!=$.lineColor&&(Yt=$.lineColor);if(!isNaN(Wt)){f||($.isNegative=Wt<P?!0:!1);$.isNegative&&(it&&(Kt=it),void 0!=st&&(Yt=st));var hn=s.min,pn=s.max;if(!(Wt<hn&&$t<hn||Wt>pn&&$t>pn)){var dn;if(p){"3d"==k?(Lt=Dt-(d/2-this.depthCount+1)*(u+z)+z/2+C*H,kt=Pt+N*H,dn=H):(Lt=Math.floor(Dt-(d/2-H)*(u+z)+z/2),kt=Pt,dn=0);At=u;qt=_t;Rt=Lt+u/2;isNaN(Pt)||Pt>_t&&!$.isNegative&&(qt=Pt);Ut=_t;zt=Lt+u/2;Lt+At>c+dn*C&&(At=c-Lt+dn*C);Lt<dn*C&&(At+=Lt,Lt=dn*C);Ot=_t-Pt;var vn=kt;kt=AmCharts.fitToBounds(kt,0,l);Ot+=vn-kt;Ot=AmCharts.fitToBounds(Ot,-kt,l-kt+N*H);Lt<c&&0<At&&(Jt=new AmCharts.Cuboid(i,Ot,At,N-e.d3x,C-e.d3y,Kt,Qt,B,Yt,j,U,v,p,I,nn,tn,M),$.columnWidth=Math.abs(Ot),$.columnHeight=Math.abs(At))}else{"3d"==k?(kt=_t-(d/2-this.depthCount+1)*(u+z)+z/2+N*H,Lt=Ht+C*H,dn=H):(kt=_t-(d/2-H)*(u+z)+z/2,Lt=Ht,dn=0);At=u;qt=kt+u/2;Rt=Dt;isNaN(Ht)||Ht<Dt&&!$.isNegative&&(Rt=Ht);Ut=kt+u/2;zt=Dt;kt+At>l+dn*N&&(At=l-kt+dn*N);kt<dn*N&&(At+=kt-dn*N,kt=dn*N);Ot=Dt-Ht;var mn=Lt;Lt=AmCharts.fitToBounds(Lt,this.dy,c);Ot+=mn-Lt;Ot=AmCharts.fitToBounds(Ot,-Lt+C*H,c-Lt);kt<l+H*N&&0<At&&(this.showOnAxis&&(Lt-=C/2),Jt=new AmCharts.Cuboid(i,At,Ot,N-e.d3x,C-e.d3y,Kt,Qt,B,Yt,this.lineAlpha,U,v,p,I,nn,tn,M),$.columnHeight=Math.abs(Ot),$.columnWidth=Math.abs(At))}}if(Jt&&(Zt=Jt.set,AmCharts.setCN(e,Jt.set,"graph-"+this.type),AmCharts.setCN(e,Jt.set,"graph-"+this.id),$.className&&AmCharts.setCN(e,Jt.set,$.className,!0),$.columnGraphics=Zt,Zt.translate(kt,Lt),this.columnsSet.push(Zt),($.url||this.showHandOnHover)&&Zt.setAttr("cursor","pointer"),!O)){"none"==k&&(T=p?(this.end+1-dt)*x-n:x*dt+n);"3d"==k&&(p?(T=(this.end+1-dt)*x-n-1e3*this.depthCount,qt+=N*this.columnIndex,Ut+=N*this.columnIndex,$.y+=N*this.columnIndex):(T=(x-n)*(dt+1)+1e3*this.depthCount,Rt+=C*this.columnIndex,zt+=C*this.columnIndex,$.y+=C*this.columnIndex));if("regular"==k||"100%"==k)T=p?0<rn.value?(this.end+1-dt)*x+n:(this.end+1-dt)*x-n:0<rn.value?x*dt+n:x*dt-n;this.columnsArray.push({column:Jt,depth:T});$.x=p?Lt+At/2:kt+At/2;this.ownColumns.push(Jt);this.animateColumns(Jt,dt,_t,Pt,Dt,Ht);this.addListeners(Zt,$)}}break;case"candlestick":if(!isNaN($t)&&!isNaN(Wt)){var gn,yn;Yt=Gt;void 0!=$.lineColor&&(Yt=$.lineColor);if(p){if(Lt=Dt-u/2,kt=Pt,At=u,Lt+At>c&&(At=c-Lt),0>Lt&&(At+=Lt,Lt=0),Lt<c&&0<At){var bn,wn;Wt>$t?(bn=[_t,Ft],wn=[Pt,Bt]):(bn=[Pt,Ft],wn=[_t,Bt]);!isNaN(Ft)&&!isNaN(Bt)&&Dt<c&&0<Dt&&(gn=AmCharts.line(i,bn,[Dt,Dt],Yt,j,B),yn=AmCharts.line(i,wn,[Dt,Dt],Yt,j,B));Ot=_t-Pt;Jt=new AmCharts.Cuboid(i,Ot,At,N,C,Kt,ot,B,Yt,j,U,v,p,I,nn,tn,M)}}else if(kt=_t-u/2,Lt=Ht+B/2,At=u,kt+At>l&&(At=l-kt),0>kt&&(At+=kt,kt=0),Ot=Dt-Ht,kt<l&&0<At){en&&Wt>=$t&&(Qt=0);var Jt=new AmCharts.Cuboid(i,At,Ot,N,C,Kt,Qt,B,Yt,j,U,v,p,I,nn,tn,M),En,Sn;Wt>$t?(En=[Dt,It],Sn=[Ht,jt]):(En=[Ht,It],Sn=[Dt,jt]);!isNaN(It)&&!isNaN(jt)&&_t<l&&0<_t&&(gn=AmCharts.line(i,[_t,_t],En,Yt,j,B),yn=AmCharts.line(i,[_t,_t],Sn,Yt,j,B),AmCharts.setCN(e,gn,this.bcn+"line-high"),$.className&&AmCharts.setCN(e,gn,$.className,!0),AmCharts.setCN(e,yn,this.bcn+"line-low"),$.className&&AmCharts.setCN(e,yn,$.className,!0))}Jt&&(Zt=Jt.set,$.columnGraphics=Zt,q.push(Zt),Zt.translate(kt,Lt-B/2),($.url||this.showHandOnHover)&&Zt.setAttr("cursor","pointer"),gn&&(q.push(gn),q.push(yn)),qt=_t,Rt=Dt,p?(zt=Dt,Ut=_t,"open"==a&&(Ut=Pt),"high"==a&&(Ut=Ft),"low"==a&&(Ut=Bt)):(zt=Dt,"open"==a&&(zt=Ht),"high"==a&&(zt=It),"low"==a&&(zt=jt),Ut=_t),O||($.x=p?Lt+At/2:kt+At/2,this.animateColumns(Jt,dt,_t,Pt,Dt,Ht),this.addListeners(Zt,$)))}break;case"ohlc":if(!(isNaN($t)||isNaN(Xt)||isNaN(Vt)||isNaN(Wt))){var xn=i.set();q.push(xn);Wt<$t&&($.isNegative=!0,void 0!=st&&(Gt=st));var Tn,Nn,Cn;if(p){var kn=Dt-u/2,kn=AmCharts.fitToBounds(kn,0,c),Ln=AmCharts.fitToBounds(Dt,0,c),An=Dt+u/2,An=AmCharts.fitToBounds(An,0,c);Nn=AmCharts.line(i,[Pt,Pt],[kn,Ln],Gt,j,B,I);0<Dt&&Dt<c&&(Tn=AmCharts.line(i,[Bt,Ft],[Dt,Dt],Gt,j,B,I));Cn=AmCharts.line(i,[_t,_t],[Ln,An],Gt,j,B,I);zt=Dt;Ut=_t;"open"==a&&(Ut=Pt);"high"==a&&(Ut=Ft);"low"==a&&(Ut=Bt)}else{var On=_t-u/2,On=AmCharts.fitToBounds(On,0,l),Mn=AmCharts.fitToBounds(_t,0,l),_n=_t+u/2,_n=AmCharts.fitToBounds(_n,0,l);Nn=AmCharts.line(i,[On,Mn],[Ht,Ht],Gt,j,B,I);0<_t&&_t<l&&(Tn=AmCharts.line(i,[_t,_t],[jt,It],Gt,j,B,I));Cn=AmCharts.line(i,[Mn,_n],[Dt,Dt],Gt,j,B,I);zt=Dt;"open"==a&&(zt=Ht);"high"==a&&(zt=It);"low"==a&&(zt=jt);Ut=_t}q.push(Nn);q.push(Tn);q.push(Cn);AmCharts.setCN(e,Nn,this.bcn+"stroke-open");AmCharts.setCN(e,Cn,this.bcn+"stroke-close");AmCharts.setCN(e,Tn,this.bcn+"stroke");$.className&&AmCharts.setCN(e,xn,$.className,!0);qt=_t;Rt=Dt}}if(!O&&!isNaN(Wt)){var Dn=this.hideBulletsCount;if(this.end-this.start<=Dn||0===Dn){var Pn=this.createBullet($,Ut,zt,dt),Hn=this.labelText;if(Hn){var Bn=this.createLabel($,Ut,zt,Hn);(Bn=this.positionLabel(qt,Rt,Bn,Pn,At,Ot))&&this.allBullets.push(Bn)}if("regular"==k||"100%"==k){var jn=s.totalText;if(jn){var Fn=this.createLabel($,0,0,jn,s.totalTextColor);this.allBullets.push(Fn);var In=Fn.getBBox(),qn=In.width,Rn=In.height,Un,zn,Wn=s.totalTextOffset,Xn=s.totals[dt];Xn&&Xn.remove();var Vn=0;"column"!=o&&(Vn=this.bulletSize);p?(zn=Dt,Un=0>Wt?_t-qn/2-2-Vn-Wn:_t+qn/2+3+Vn+Wn):(Un=_t,zn=0>Wt?Dt+Rn/2+Vn+Wn:Dt-Rn/2-3-Vn-Wn);Fn.translate(Un,zn);s.totals[dt]=Fn;p?(0>zn||zn>c)&&Fn.remove():(0>Un||Un>l)&&Fn.remove()}}}}}}if("line"==o||"step"==o||"smoothedLine"==o)"smoothedLine"==o?this.drawSmoothedGraph(g,y,vt,mt):this.drawLineGraph(g,y,vt,mt),O||this.launchAnimation();this.bulletsHidden&&this.hideBullets();this.customBulletsHidden&&this.hideCustomBullets()},animateColumns:function(e,t,n,r,i,s){var o=this;n=o.chart.startDuration;0<n&&!o.animationPlayed&&(o.seqAn?(e.set.hide(),o.animationArray.push(e),e=setTimeout(function(){o.animate.call(o)},n/(o.end-o.start+1)*(t-o.start)*1e3),o.timeOuts.push(e)):o.animate(e))},createLabel:function(e,t,n,r,i){var s=this.chart,o=e.labelColor;o||(o=this.color);o||(o=s.color);i&&(o=i);i=this.fontSize;void 0===i&&(this.fontSize=i=s.fontSize);var u=this.labelFunction;r=s.formatString(r,e);r=AmCharts.cleanFromEmpty(r);u&&(r=u(e,r));e=AmCharts.text(this.container,r,o,s.fontFamily,i);e.node.style.pointerEvents="none";e.translate(t,n);this.bulletSet.push(e);return e},positiveClip:function(e){e.clipRect(this.pmx,this.pmy,this.pmw,this.pmh)},negativeClip:function(e){e.clipRect(this.nmx,this.nmy,this.nmw,this.nmh)},drawLineGraph:function(e,t,n,r){var i=this;if(1<e.length){var s=i.set,o=i.chart,u=i.container,a=u.set(),f=u.set();s.push(f);s.push(a);var l=i.lineAlpha,c=i.lineThickness,s=i.fillAlphas,h=i.lineColorR,p=i.negativeLineAlpha;isNaN(p)&&(p=l);var d=i.lineColorSwitched;d&&(h=d);var d=i.fillColorsR,v=i.fillColorsSwitched;v&&(d=v);var m=i.dashLength;(v=i.dashLengthSwitched)&&(m=v);var v=i.negativeLineColor,g=i.negativeFillColors,y=i.negativeFillAlphas,b=i.baseCoord;0!==i.negativeBase&&(b=i.valueAxis.getCoordinate(i.negativeBase));l=AmCharts.line(u,e,t,h,l,c,m,!1,!0);AmCharts.setCN(o,l,i.bcn+"stroke");a.push(l);a.click(function(e){i.handleGraphEvent(e,"clickGraph")}).mouseover(function(e){i.handleGraphEvent(e,"rollOverGraph")}).mouseout(function(e){i.handleGraphEvent(e,"rollOutGraph")});void 0===v||i.useNegativeColorIfDown||(c=AmCharts.line(u,e,t,v,p,c,m,!1,!0),AmCharts.setCN(o,c,i.bcn+"stroke"),AmCharts.setCN(o,c,i.bcn+"stroke-negative"),f.push(c));if(0<s||0<y)if(c=e.join(";").split(";"),p=t.join(";").split(";"),l=o.type,"serial"==l?0<n.length?(n.reverse(),r.reverse(),c=e.concat(n),p=t.concat(r)):i.rotate?(p.push(p[p.length-1]),c.push(b),p.push(p[0]),c.push(b),p.push(p[0]),c.push(c[0])):(c.push(c[c.length-1]),p.push(b),c.push(c[0]),p.push(b),c.push(e[0]),p.push(p[0])):"xy"==l&&(t=i.fillToAxis)&&(AmCharts.isString(t)&&(t=o.getValueAxisById(t)),"H"==t.orientation?(b="top"==t.position?0:t.viH,c.push(c[c.length-1]),p.push(b),c.push(c[0]),p.push(b),c.push(e[0]),p.push(p[0])):(b="left"==t.position?0:t.viW,p.push(p[p.length-1]),c.push(b),p.push(p[0]),c.push(b),p.push(p[0]),c.push(c[0]))),e=i.gradientRotation,0<s&&(t=AmCharts.polygon(u,c,p,d,s,1,"#000",0,e),t.pattern(i.pattern),AmCharts.setCN(o,t,i.bcn+"fill"),a.push(t)),g||void 0!==v)isNaN(y)&&(y=s),g||(g=v),u=AmCharts.polygon(u,c,p,g,y,1,"#000",0,e),AmCharts.setCN(o,u,i.bcn+"fill"),AmCharts.setCN(o,u,i.bcn+"fill-negative"),u.pattern(i.pattern),f.push(u),f.click(function(e){i.handleGraphEvent(e,"clickGraph")}).mouseover(function(e){i.handleGraphEvent(e,"rollOverGraph")}).mouseout(function(e){i.handleGraphEvent(e,"rollOutGraph")});i.applyMask(f,a)}},applyMask:function(e,t){var n=e.length();"serial"!=this.chart.type||this.scrollbar||(this.positiveClip(t),0<n&&this.negativeClip(e))},drawSmoothedGraph:function(e,t,n,r){if(1<e.length){var i=this.set,s=this.chart,o=this.container,u=o.set(),a=o.set();i.push(a);i.push(u);var f=this.lineAlpha,l=this.lineThickness,i=this.dashLength,c=this.fillAlphas,h=this.lineColorR,p=this.fillColorsR,d=this.negativeLineColor,v=this.negativeFillColors,m=this.negativeFillAlphas,g=this.baseCoord,y=this.lineColorSwitched;y&&(h=y);(y=this.fillColorsSwitched)&&(p=y);y=this.negativeLineAlpha;isNaN(y)&&(y=f);f=new AmCharts.Bezier(o,e,t,h,f,l,p,0,i);AmCharts.setCN(s,f,this.bcn+"stroke");u.push(f.path);void 0!==d&&(l=new AmCharts.Bezier(o,e,t,d,y,l,p,0,i),AmCharts.setCN(s,l,this.bcn+"stroke"),AmCharts.setCN(s,l,this.bcn+"stroke-negative"),a.push(l.path));0<c&&(f=e.join(";").split(";"),h=t.join(";").split(";"),l="",0<n.length?(n.push("M"),r.push("M"),n.reverse(),r.reverse(),f=e.concat(n),h=t.concat(r)):(this.rotate?(l+=" L"+g+","+t[t.length-1],l+=" L"+g+","+t[0]):(l+=" L"+e[e.length-1]+","+g,l+=" L"+e[0]+","+g),l+=" L"+e[0]+","+t[0]),n=new AmCharts.Bezier(o,f,h,NaN,0,0,p,c,i,l),AmCharts.setCN(s,n,this.bcn+"fill"),n.path.pattern(this.pattern),u.push(n.path),v||void 0!==d)&&(m||(m=c),v||(v=d),e=new AmCharts.Bezier(o,e,t,NaN,0,0,v,m,i,l),e.path.pattern(this.pattern),AmCharts.setCN(s,e,this.bcn+"fill"),AmCharts.setCN(s,e,this.bcn+"fill-negative"),a.push(e.path));this.applyMask(a,u)}},launchAnimation:function(){var e=this,t=e.chart.startDuration;if(0<t&&!e.animationPlayed){var n=e.set,r=e.bulletSet;AmCharts.VML||(n.attr({opacity:e.startAlpha}),r.attr({opacity:e.startAlpha}));n.hide();r.hide();e.seqAn?(t=setTimeout(function(){e.animateGraphs.call(e)},e.index*t*1e3),e.timeOuts.push(t)):e.animateGraphs()}},animateGraphs:function(){var e=this.chart,t=this.set,n=this.bulletSet,r=this.x,i=this.y;t.show();n.show();var s=e.startDuration,e=e.startEffect;t&&(this.rotate?(t.translate(-1e3,i),n.translate(-1e3,i)):(t.translate(r,-1e3),n.translate(r,-1e3)),t.animate({opacity:1,translate:r+","+i},s,e),n.animate({opacity:1,translate:r+","+i},s,e))},animate:function(e){var t=this.chart,n=this.animationArray;!e&&0<n.length&&(e=n[0],n.shift());n=AmCharts[AmCharts.getEffect(t.startEffect)];t=t.startDuration;e&&(this.rotate?e.animateWidth(t,n):e.animateHeight(t,n),e.set.show())},legendKeyColor:function(){var e=this.legendColor,t=this.lineAlpha;void 0===e&&(e=this.lineColorR,0===t&&(t=this.fillColorsR)&&(e="object"==typeof t?t[0]:t));return e},legendKeyAlpha:function(){var e=this.legendAlpha;void 0===e&&(e=this.lineAlpha,this.fillAlphas>e&&(e=this.fillAlphas),0===e&&(e=this.bulletAlpha),0===e&&(e=1));return e},createBullet:function(e,t,n,r){if(!isNaN(t)&&!isNaN(n)){r=this.chart;var i=this.container,s=this.bulletOffset,o=this.bulletSize;isNaN(e.bulletSize)||(o=e.bulletSize);var u=e.values.value,a=this.maxValue,f=this.minValue,l=this.maxBulletSize,c=this.minBulletSize;isNaN(a)||(isNaN(u)||(o=(u-f)/(a-f)*(l-c)+c),f==a&&(o=l));a=o;this.bulletAxis&&(o=e.values.error,isNaN(o)||(u=o),o=this.bulletAxis.stepWidth*u);o<this.minBulletSize&&(o=this.minBulletSize);this.rotate?t=e.isNegative?t-s:t+s:n=e.isNegative?n+s:n-s;var h,c=this.bulletColorR;e.lineColor&&(this.bulletColorSwitched=e.lineColor);this.bulletColorSwitched&&(c=this.bulletColorSwitched);e.isNegative&&void 0!==this.bulletColorNegative&&(c=this.bulletColorNegative);void 0!==e.color&&(c=e.color);var p;"xy"==r.type&&this.valueField&&(p=this.pattern,e.pattern&&(p=e.pattern));s=this.bullet;e.bullet&&(s=e.bullet);var u=this.bulletBorderThickness,f=this.bulletBorderColorR,l=this.bulletBorderAlpha,d=this.bulletAlpha;f||(f=c);this.useLineColorForBulletBorder&&(f=this.lineColorR);var v=e.alpha;isNaN(v)||(d=v);if("none"!=this.bullet||e.bullet)h=AmCharts.bullet(i,s,o,c,d,u,f,l,a,0,p);if(this.customBullet||e.customBullet)p=this.customBullet,e.customBullet&&(p=e.customBullet),p&&(h&&h.remove(),"function"==typeof p?(h=new p,h.chart=r,e.bulletConfig&&(h.availableSpace=n,h.graph=this,h.graphDataItem=e,h.bulletY=n,e.bulletConfig.minCoord=this.minCoord-n,h.bulletConfig=e.bulletConfig),h.write(i),h=h.set):(r.path&&(p=r.path+p),h=i.set(),i=i.image(p,0,0,o,o),h.push(i),this.centerCustomBullets&&i.translate(-o/2,-o/2)));h&&((e.url||this.showHandOnHover)&&h.setAttr("cursor","pointer"),"serial"==r.type&&(0>t-0||t-0>this.width||n<-o/2||n-0>this.height)&&(h.remove(),h=null),h&&(this.bulletSet.push(h),h.translate(t,n),this.addListeners(h,e),this.allBullets.push(h)),e.bx=t,e.by=n,AmCharts.setCN(r,h,this.bcn+"bullet"),e.className&&AmCharts.setCN(r,h,e.className,!0));h?(h.size=o||0,e.bulletGraphics=h):h={size:0};h.graphDataItem=e;return h}},showBullets:function(){var e=this.allBullets,t;this.bulletsHidden=!1;for(t=0;t<e.length;t++)e[t].show()},hideBullets:function(){var e=this.allBullets,t;this.bulletsHidden=!0;for(t=0;t<e.length;t++)e[t].hide()},showCustomBullets:function(){var e=this.allBullets,t;this.customBulletsHidden=!1;for(t=0;t<e.length;t++)e[t].graphDataItem.customBullet&&e[t].show()},hideCustomBullets:function(){var e=this.allBullets,t;this.customBulletsHidden=!0;for(t=0;t<e.length;t++)e[t].graphDataItem.customBullet&&e[t].hide()},addListeners:function(e,t){var n=this;e.mouseover(function(e){n.handleRollOver(t,e)}).mouseout(function(e){n.handleRollOut(t,e)}).touchend(function(e){n.handleRollOver(t,e);n.chart.panEventsEnabled&&n.handleClick(t,e)}).touchstart(function(e){n.handleRollOver(t,e)}).click(function(e){n.handleClick(t,e)}).dblclick(function(e){n.handleDoubleClick(t,e)}).contextmenu(function(e){n.handleRightClick(t,e)})},handleRollOver:function(e,t){if(e){var n=this.chart,r={type:"rollOverGraphItem",item:e,index:e.index,graph:this,target:this,chart:this.chart,event:t};this.fire("rollOverGraphItem",r);n.fire("rollOverGraphItem",r);clearTimeout(n.hoverInt);r=this.showBalloon;n.chartCursor&&"serial"==n.type&&(r=!1,!n.chartCursor.valueBalloonsEnabled&&this.showBalloon&&(r=!0));if(r){var r=n.formatString(this.balloonText,e,!0),i=this.balloonFunction;i&&(r=i(e,e.graph));r=AmCharts.cleanFromEmpty(r);i=n.getBalloonColor(this,e);n.balloon.showBullet=!1;n.balloon.pointerOrientation="V";var s=e.x,o=e.y;n.rotate&&(s=e.y,o=e.x);n.showBalloon(r,i,!0,s+n.marginLeftReal,o+n.marginTopReal)}}this.handleGraphEvent(t,"rollOverGraph")},handleRollOut:function(e,t){this.chart.hideBalloon();if(e){var n={type:"rollOutGraphItem",item:e,index:e.index,graph:this,target:this,chart:this.chart,event:t};this.fire("rollOutGraphItem",n);this.chart.fire("rollOutGraphItem",n)}this.handleGraphEvent(t,"rollOutGraph")},handleClick:function(e,t){if(e){var n={type:"clickGraphItem",item:e,index:e.index,graph:this,target:this,chart:this.chart,event:t};this.fire("clickGraphItem",n);this.chart.fire("clickGraphItem",n);AmCharts.getURL(e.url,this.urlTarget)}this.handleGraphEvent(t,"clickGraph")},handleGraphEvent:function(e,t){var n={type:t,graph:this,target:this,chart:this.chart,event:e};this.fire(t,n);this.chart.fire(t,n)},handleRightClick:function(e,t){if(e){var n={type:"rightClickGraphItem",item:e,index:e.index,graph:this,target:this,chart:this.chart,event:t};this.fire("rightClickGraphItem",n);this.chart.fire("rightClickGraphItem",n)}},handleDoubleClick:function(e,t){if(e){var n={type:"doubleClickGraphItem",item:e,index:e.index,graph:this,target:this,chart:this.chart,event:t};this.fire("doubleClickGraphItem",n);this.chart.fire("doubleClickGraphItem",n)}},zoom:function(e,t){this.start=e;this.end=t;this.draw()},changeOpacity:function(e){var t=this.set;t&&t.setAttr("opacity",e);if(t=this.ownColumns){var n;for(n=0;n<t.length;n++){var r=t[n].set;r&&r.setAttr("opacity",e)}}(t=this.bulletSet)&&t.setAttr("opacity",e)},destroy:function(){AmCharts.remove(this.set);AmCharts.remove(this.bulletSet);var e=this.timeOuts;if(e){var t;for(t=0;t<e.length;t++)clearTimeout(e[t])}this.timeOuts=[]}});AmCharts.ChartCursor=AmCharts.Class({construct:function(e){this.cname="ChartCursor";this.createEvents("changed","zoomed","onHideCursor","draw","selected","moved");this.enabled=!0;this.cursorAlpha=1;this.selectionAlpha=.2;this.cursorColor="#CC0000";this.categoryBalloonAlpha=1;this.color="#FFFFFF";this.type="cursor";this.zoomed=!1;this.zoomable=!0;this.pan=!1;this.categoryBalloonDateFormat="MMM DD, YYYY";this.categoryBalloonEnabled=this.valueBalloonsEnabled=!0;this.rolledOver=!1;this.cursorPosition="middle";this.bulletsEnabled=this.skipZoomDispatch=!1;this.bulletSize=8;this.selectWithoutZooming=this.oneBalloonOnly=!1;this.graphBulletSize=1.7;this.animationDuration=.3;this.zooming=!1;this.adjustment=0;this.avoidBalloonOverlapping=!0;AmCharts.applyTheme(this,e,this.cname)},draw:function(){var e=this;e.destroy();var t=e.chart,n=t.container;e.rotate=t.rotate;e.container=n;n=n.set();n.translate(e.x,e.y);e.set=n;t.cursorSet.push(n);n=new AmCharts.AmBalloon;n.className="category";n.chart=t;e.categoryBalloon=n;AmCharts.copyProperties(t.balloon,n);n.cornerRadius=0;n.shadowAlpha=0;n.borderThickness=1;n.borderAlpha=1;n.showBullet=!1;var r=e.categoryBalloonColor;void 0===r&&(r=e.cursorColor);n.fillColor=r;n.fillAlpha=e.categoryBalloonAlpha;n.borderColor=r;n.color=e.color;r=e.valueLineAxis;AmCharts.isString(r)&&(r=t.getValueAxisById(r));r||(r=t.valueAxes[0]);e.valueLineAxis=r;e.valueLineBalloonEnabled&&(r=new AmCharts.AmBalloon,e.vaBalloon=r,AmCharts.copyProperties(n,r),r.animationDuration=0,e.rotate||(r.pointerOrientation="H"));e.rotate&&(n.pointerOrientation="H");e.extraWidth=0;e.prevX=[];e.prevY=[];e.prevTX=[];e.prevTY=[];if(e.valueBalloonsEnabled)for(n=0;n<t.graphs.length;n++)r=new AmCharts.AmBalloon,r.className=t.graphs[n].id,r.chart=t,AmCharts.copyProperties(t.balloon,r),t.graphs[n].valueBalloon=r;"cursor"==e.type?e.createCursor():e.createCrosshair();e.interval=setInterval(function(){e.detectMovement.call(e)},40)},updateData:function(){var e=this.chart;this.data=e.chartData;this.firstTime=e.firstTime;this.lastTime=e.lastTime},createCursor:function(){var e=this.chart,t=this.cursorAlpha,n=e.categoryAxis,r=this.categoryBalloon,i,s,o,u;o=e.dx;u=e.dy;var a=this.width,f=this.height,l=e.rotate;r.pointerWidth=n.tickLength;l?(i=[0,a,a+o],s=[0,0,u],o=[o,0,0],u=[u,0,f]):(i=[o,0,0],s=[u,0,f],o=[0,a,a+o],u=[0,0,u]);i=AmCharts.line(this.container,i,s,this.cursorColor,t,1);AmCharts.setCN(e,i,"cursor-line");this.line=i;(s=this.fullRectSet)?(s.push(i),s.translate(this.x,this.y)):this.set.push(i);this.valueLineEnabled&&(i=this.valueLineAlpha,isNaN(i)||(t=i),t=AmCharts.line(this.container,o,u,this.cursorColor,t,1),AmCharts.setCN(e,t,"cursor-value-line"),this.vLine=t,this.set.push(t));this.setBalloonBounds(r,n,l);(e=this.vaBalloon)&&this.setBalloonBounds(e,this.valueLineAxis,!l);this.hideCursor()},createCrosshair:function(){var e=this.cursorAlpha,t=this.container,n=AmCharts.line(t,[0,0],[0,this.height],this.cursorColor,e,1),e=AmCharts.line(t,[0,this.width],[0,0],this.cursorColor,e,1);AmCharts.setCN(this.chart,n,"cursor-line");AmCharts.setCN(this.chart,e,"cursor-line");this.set.push(n);this.set.push(e);this.vLine=n;this.hLine=e;this.hideCursor()},detectMovement:function(){var e=this.chart;if(e.mouseIsOver){var t=e.mouseX-this.x,n=e.mouseY-this.y;-.5<t&&t<this.width+1&&0<n&&n<this.height?(this.drawing?this.rolledOver||e.setMouseCursor("crosshair"):this.pan&&(this.rolledOver||e.setMouseCursor("move")),this.rolledOver=!0,(this.valueLineEnabled||this.valueLineBalloonEnabled)&&this.updateVLine(t,n),this.setPosition()):this.rolledOver&&(this.handleMouseOut(),this.rolledOver=!1)}else this.rolledOver&&(this.handleMouseOut(),this.rolledOver=!1)},updateVLine:function(e,t){var n=this.vLine,r=this.vaBalloon;if((n||r)&&!this.panning&&!this.drawing){n&&n.show();var i=this.valueLineAxis,s,o=this.rotate;o?(n&&n.translate(e,0),i&&(s=i.coordinateToValue(e)),n=e):(n&&n.translate(0,t),i&&(s=i.coordinateToValue(t)),n=t-1);if(r&&!isNaN(s)&&this.prevLineValue!=s){var u=i.formatValue(s,!0);r&&(this.setBalloonPosition(r,i,n,!o),r.showBalloon(u))}this.prevLineValue=s}},getMousePosition:function(){var e,t=this.width,n=this.height;e=this.chart;this.rotate?(e=e.mouseY-this.y,0>e&&(e=0),e>n&&(e=n)):(e=e.mouseX-this.x-1,0>e&&(e=0),e>t&&(e=t));return e},updateCrosshair:function(){var e=this.chart,t=e.mouseX-this.x,n=e.mouseY-this.y,r=this.vLine,i=this.hLine,t=AmCharts.fitToBounds(t,0,this.width),n=AmCharts.fitToBounds(n,0,this.height);0<this.cursorAlpha&&(r.show(),i.show(),r.translate(t,0),i.translate(0,n));this.zooming&&(e.hideXScrollbar&&(t=NaN),e.hideYScrollbar&&(n=NaN),this.updateSelectionSize(t,n));this.fireMoved();e.mouseIsOver||this.zooming||this.hideCursor()},fireMoved:function(){var e=this.chart,t={type:"moved",target:this};t.chart=e;t.zooming=this.zooming;t.x=e.mouseX-this.x;t.y=e.mouseY-this.y;this.fire("moved",t)},updateSelectionSize:function(e,t){AmCharts.remove(this.selection);var n=this.selectionPosX,r=this.selectionPosY,i=0,s=0,o=this.width,u=this.height;isNaN(e)||(n>e&&(i=e,o=n-e),n<e&&(i=n,o=e-n),n==e&&(i=e,o=0),o+=this.extraWidth,i-=this.extraWidth/2);isNaN(t)||(r>t&&(s=t,u=r-t),r<t&&(s=r,u=t-r),r==t&&(s=t,u=0),u+=this.extraWidth,s-=this.extraWidth/2);0<o&&0<u&&(n=AmCharts.rect(this.container,o,u,this.cursorColor,this.selectionAlpha),AmCharts.setCN(this.chart,n,"cursor-selection"),n.translate(i+this.x,s+this.y),this.selection=n)},arrangeBalloons:function(){var e=this.valueBalloons,t=this.x,n=this.y,r=this.height+n;e.sort(this.compareY);var i;for(i=0;i<e.length;i++){var s=e[i].balloon;s.setBounds(t,n,t+this.width,r);s.prevX=this.prevX[i];s.prevY=this.prevY[i];s.prevTX=this.prevTX[i];s.prevTY=this.prevTY[i];s.draw();r=s.yPos-3}this.arrangeBalloons2()},compareY:function(e,t){return e.yy<t.yy?1:-1},arrangeBalloons2:function(){var e=this.valueBalloons;e.reverse();var t,n=this.x,r,i,s=e.length;for(i=0;i<s;i++){var o=e[i].balloon;t=o.bottom;var u=o.bottom-o.yPos,a=s-i-1;0<i&&t-u<r+3&&(o.setBounds(n,r+3,n+this.width,r+u+3),o.prevX=this.prevX[a],o.prevY=this.prevY[a],o.prevTX=this.prevTX[a],o.prevTY=this.prevTY[a],o.draw());o.set&&o.set.show();this.prevX[a]=o.prevX;this.prevY[a]=o.prevY;this.prevTX[a]=o.prevTX;this.prevTY[a]=o.prevTY;r=o.bottom}},showBullets:function(){AmCharts.remove(this.allBullets);var e=this.container,t=e.set();this.set.push(t);this.set.show();this.allBullets=t;var t=this.chart.graphs,n;for(n=0;n<t.length;n++){var r=t[n];if(!r.hidden&&r.balloonText){var i=this.data[this.index].axes[r.valueAxis.id].graphs[r.id],s=i.y;if(!isNaN(s)){var o,u;o=i.x;this.rotate?(u=s,s=o):u=o;r=AmCharts.circle(e,this.bulletSize/2,this.chart.getBalloonColor(r,i,!0),r.cursorBulletAlpha);r.translate(u,s);this.allBullets.push(r)}}}},destroy:function(){this.clear();AmCharts.remove(this.selection);this.selection=null;var e=this.categoryBalloon;e&&e.destroy();(e=this.vaBalloon)&&e.destroy();this.destroyValueBalloons();AmCharts.remove(this.set)},clear:function(){clearInterval(this.interval)},destroyValueBalloons:function(){var e=this.valueBalloons;if(e){var t;for(t=0;t<e.length;t++)e[t].balloon.hide()}},zoom:function(e,t,n,r){var i=this.chart;this.destroyValueBalloons();this.zooming=!1;var s;this.rotate?this.selectionPosY=s=i.mouseY:this.selectionPosX=s=i.mouseX;this.start=e;this.end=t;this.startTime=n;this.endTime=r;this.zoomed=!0;r=i.categoryAxis;s=this.rotate;t=this.width;n=this.height;e=r.stepWidth;if(this.fullWidth){var o=1;r.parseDates&&!r.equalSpacing&&(o=r.minDuration());s?this.extraWidth=n=e*o:(this.extraWidth=t=e*o,this.categoryBalloon.minWidth=t);this.line&&this.line.remove();this.line=AmCharts.rect(this.container,t,n,this.cursorColor,this.cursorAlpha,0);AmCharts.setCN(i,this.line,"cursor-fill");this.fullRectSet&&this.fullRectSet.push(this.line)}this.stepWidth=e;this.tempVal=this.valueBalloonsEnabled;this.valueBalloonsEnabled=!1;this.setPosition();this.valueBalloonsEnabled=this.tempVal;this.hideCursor()},hideObj:function(e){e&&e.hide()},hideCursor:function(e){void 0===e&&(e=!0);this.hideObj(this.set);this.hideObj(this.categoryBalloon);this.hideObj(this.line);this.hideObj(this.vLine);this.hideObj(this.hLine);this.hideObj(this.vaBalloon);this.hideObj(this.allBullets);this.destroyValueBalloons();this.selectWithoutZooming||AmCharts.remove(this.selection);this.previousIndex=NaN;e&&this.fire("onHideCursor",{type:"onHideCursor",chart:this.chart,target:this});this.drawing||this.chart.setMouseCursor("auto");this.normalizeBulletSize()},setPosition:function(e,t,n){void 0===t&&(t=!0);if("cursor"==this.type){if(this.tempPosition=NaN,AmCharts.ifArray(this.data))isNaN(e)&&(e=this.getMousePosition()),(e!=this.previousMousePosition||!0===this.zoomed||this.oneBalloonOnly)&&!isNaN(e)&&("mouse"==this.cursorPosition&&(this.tempPosition=e),isNaN(n)&&(n=this.chart.categoryAxis.xToIndex(e)),n!=this.previousIndex||this.zoomed||"mouse"==this.cursorPosition||this.oneBalloonOnly)&&(this.updateCursor(n,t),this.zoomed=!1),this.previousMousePosition=e}else this.updateCrosshair()},normalizeBulletSize:function(){var e=this.resizedBullets;if(e)for(var t=0;t<e.length;t++){var n=e[t],r=n.bulletGraphics;r&&(r.translate(n.bx,n.by,1),n=n.graph,isNaN(this.graphBulletAlpha)||(r.setAttr("fill-opacity",n.bulletAlpha),r.setAttr("stroke-opacity",n.bulletBorderAlpha)))}},updateCursor:function(e,t){var n=this.chart,r=this.fullWidth,i=n.mouseX-this.x,s=n.mouseY-this.y;this.drawingNow&&(AmCharts.remove(this.drawingLine),this.drawingLine=AmCharts.line(this.container,[this.x+this.drawStartX,this.x+i],[this.y+this.drawStartY,this.y+s],this.cursorColor,1,1));if(this.enabled){void 0===t&&(t=!0);this.index=e+=this.adjustment;var o=n.categoryAxis,u=n.dx,a=n.dy,f=this.x+1,l=this.y+1,c=this.width,h=this.height,p=this.data[e];this.fireMoved();if(p){var d=p.x[o.id],v=n.rotate,m=this.stepWidth,g=this.categoryBalloon,y=this.firstTime,b=this.lastTime,w=this.cursorPosition,E=this.zooming,S=this.panning,x=n.graphs;if(n.mouseIsOver||E||S||this.forceShow)if(this.forceShow=!1,S){var u=this.panClickPos,n=this.panClickEndTime,E=this.panClickStartTime,T=this.panClickEnd,f=this.panClickStart,i=(v?u-s:u-i)/m;if(!o.parseDates||o.equalSpacing)i=Math.round(i);0!==i&&(u={type:"zoomed",target:this},u.chart=this.chart,o.parseDates&&!o.equalSpacing?(n+i>b&&(i=b-n),E+i<y&&(i=y-E),u.start=Math.round(E+i),u.end=Math.round(n+i),this.fire(u.type,u)):T+i>=this.data.length||0>f+i||(u.start=f+i,u.end=T+i,this.fire(u.type,u)))}else{"start"==w?d-=o.cellWidth/2:"mouse"==w&&(n.mouseIsOver?d=v?s-2:i-2:isNaN(this.tempPosition)||(d=this.tempPosition-2));if(v){if(0>d)if(E)d=0;else{this.hideCursor();return}if(d>h+1)if(E)d=h+1;else{this.hideCursor();return}}else{if(0>d)if(E)d=0;else{this.hideCursor();return}if(d>c)if(E)d=c;else{this.hideCursor();return}}if(0<this.cursorAlpha){var N=this.line;v?(y=0,b=d+a,r&&(b-=o.cellWidth/2)):(y=d,b=0,r&&(y-=o.cellWidth/2));m=this.animationDuration;0<m&&!this.zooming?isNaN(this.previousX)?N.translate(y,b):(N.translate(this.previousX,this.previousY),N.animate({translate:y+","+b},m,"easeOutSine")):N.translate(y,b);this.previousX=y;this.previousY=b;N.show()}this.linePos=v?d+a:d;E&&(r&&N.hide(),v?this.updateSelectionSize(NaN,d):this.updateSelectionSize(d,NaN));m=!0;E&&(m=!1);this.categoryBalloonEnabled&&m?(this.setBalloonPosition(g,o,d,v),(y=this.categoryBalloonFunction)?g.showBalloon(y(p.category)):o.parseDates?(o=AmCharts.formatDate(p.category,this.categoryBalloonDateFormat,n),-1!=o.indexOf("fff")&&(o=AmCharts.formatMilliseconds(o,p.category)),g.showBalloon(o)):g.showBalloon(AmCharts.fixNewLines(p.category))):g.hide();x&&this.bulletsEnabled&&this.showBullets();if(this.oneBalloonOnly){d=Infinity;for(o=0;o<x.length;o++)y=x[o],y.showBalloon&&!y.hidden&&y.balloonText&&(b=p.axes[y.valueAxis.id].graphs[y.id],g=b.y,isNaN(g)||(v?Math.abs(i-g)<d&&(d=Math.abs(i-g),T=y):Math.abs(s-g)<d&&(d=Math.abs(s-g),T=y)));this.mostCloseGraph&&(T=this.mostCloseGraph)}if(e!=this.previousIndex||T!=this.previousMostCloseGraph)if(this.normalizeBulletSize(),this.destroyValueBalloons(),this.resizedBullets=[],x&&this.valueBalloonsEnabled&&m&&n.balloon.enabled){this.valueBalloons=m=[];for(o=0;o<x.length;o++)if(y=x[o],g=NaN,(!this.oneBalloonOnly||y==T)&&y.showBalloon&&!y.hidden&&y.balloonText&&("step"==y.type&&"left"==y.stepDirection&&(p=this.data[e+1]),p)){if(b=p.axes[y.valueAxis.id].graphs[y.id])g=b.y;if(this.showNextAvailable&&isNaN(g)&&e+1<this.data.length)for(d=e+1;d<this.data.length;d++)if(r=this.data[d])if(b=r.axes[y.valueAxis.id].graphs[y.id],g=b.y,!isNaN(g))break;if(!isNaN(g)){r=b.x;a=!0;if(v){if(d=g,0>r||r>h)a=!1}else if(d=r,r=g,0>d||d>c+u+1)a=!1;a&&(a=this.graphBulletSize,N=this.graphBulletAlpha,1==a&&isNaN(N)||!AmCharts.isModern||!(w=b.bulletGraphics)||(w.getBBox(),w.translate(b.bx,b.by,a),this.resizedBullets.push(b),isNaN(N)||(w.setAttr("fill-opacity",N),w.setAttr("stroke-opacity",N))),a=y.valueBalloon,N=n.getBalloonColor(y,b),a.setBounds(f,l,f+c,l+h),a.pointerOrientation="H",w=this.balloonPointerOrientation,"vertical"==w&&(a.pointerOrientation="V"),"horizontal"==w&&(a.pointerOrientation="H"),a.changeColor(N),void 0!==y.balloonAlpha&&(a.fillAlpha=y.balloonAlpha),void 0!==y.balloonTextColor&&(a.color=y.balloonTextColor),a.setPosition(d+f,r+l),d=n.formatString(y.balloonText,b,!0),(r=y.balloonFunction)&&(d=r(b,y).toString()),""!==d&&(v?a.showBalloon(d):(a.text=d,a.show=!0),m.push({yy:g,balloon:a})),!v&&a.set&&(a.set.hide(),y=a.textDiv)&&(y.style.visibility="hidden"))}}this.avoidBalloonOverlapping&&this.arrangeBalloons()}t?(u={type:"changed"},u.index=e,u.chart=this.chart,u.zooming=E,u.mostCloseGraph=T,u.position=v?s:i,u.target=this,n.fire("changed",u),this.fire("changed",u),this.skipZoomDispatch=!1):(this.skipZoomDispatch=!0,n.updateLegendValues(e));this.previousIndex=e;this.previousMostCloseGraph=T}}}else this.hideCursor()},setBalloonPosition:function(e,t,n,r){var i=t.position,s=t.inside;t=t.axisThickness;var o=this.chart,u=o.dx,o=o.dy,a=this.x,f=this.y,l=this.width,c=this.height;r?(s&&("right"==i?e.setBounds(a,f+o,a+l+u,f+n+o):e.setBounds(a,f+o,a+l+u,f+n)),"right"==i?s?e.setPosition(a+l+u,f+n+o):e.setPosition(a+l+u+t,f+n+o):s?e.setPosition(a,f+n):e.setPosition(a-t,f+n)):"top"==i?s?e.setPosition(a+n+u,f+o):e.setPosition(a+n+u,f+o-t+1):s?e.setPosition(a+n,f+c):e.setPosition(a+n,f+c+t-1)},setBalloonBounds:function(e,t,n){var r=t.position,i=t.inside,s=t.axisThickness,o=t.tickLength,u=this.chart,a=u.dx,u=u.dy,f=this.x,l=this.y,c=this.width,h=this.height;n?(i&&(e.pointerWidth=0),"right"==r?i?e.setBounds(f,l+u,f+c+a,l+h+u):e.setBounds(f+c+a+s,l+u,f+c+1e3,l+h+u):i?e.setBounds(f,l,c+f,h+l):e.setBounds(-1e3,-1e3,f-o-s,l+h+15)):(e.maxWidth=c,t.parseDates&&(o=0,e.pointerWidth=0),"top"==r?i?e.setBounds(f+a,l+u,c+a+f,h+l):e.setBounds(f+a,-1e3,c+a+f,l+u-o-s):i?e.setBounds(f,l,c+f,h+l-o):e.setBounds(f,l+h+o+s-1,f+c,l+h+o+s))},enableDrawing:function(e){this.enabled=!e;this.hideCursor();this.rolledOver=!1;this.drawing=e},isZooming:function(e){e&&e!=this.zooming&&this.handleMouseDown("fake");e||e==this.zooming||this.handleMouseUp()},handleMouseOut:function(){if(this.enabled)if(this.zooming)this.setPosition();else{this.index=void 0;var e={type:"changed",index:void 0,target:this};e.chart=this.chart;this.fire("changed",e);this.hideCursor()}},handleReleaseOutside:function(){this.handleMouseUp()},handleMouseUp:function(){var e=this.chart,t=this.data,n;if(e){var r=e.mouseX-this.x,i=e.mouseY-this.y;if(this.drawingNow){this.drawingNow=!1;AmCharts.remove(this.drawingLine);n=this.drawStartX;var s=this.drawStartY;if(2<Math.abs(n-r)||2<Math.abs(s-i))n={type:"draw",target:this,chart:e,initialX:n,initialY:s,finalX:r,finalY:i},this.fire(n.type,n)}if(this.enabled&&0<t.length){if(this.pan)this.rolledOver=!1;else if(this.zoomable&&this.zooming){n=this.selectWithoutZooming?{type:"selected"}:{type:"zoomed"};n.target=this;n.chart=e;if("cursor"==this.type)this.rotate?this.selectionPosY=i:this.selectionPosX=i=r,4>Math.abs(i-this.initialMouse)&&this.fromIndex==this.index||(this.index<this.fromIndex?(n.end=this.fromIndex,n.start=this.index):(n.end=this.index,n.start=this.fromIndex),i=e.categoryAxis,i.parseDates&&!i.equalSpacing&&(t[n.start]&&(n.start=t[n.start].time),t[n.end]&&(n.end=e.getEndTime(t[n.end].time))),this.skipZoomDispatch||this.fire(n.type,n));else{var o=this.initialMouseX,u=this.initialMouseY;3>Math.abs(r-o)&&3>Math.abs(i-u)||(t=Math.min(o,r),s=Math.min(u,i),r=Math.abs(o-r),i=Math.abs(u-i),e.hideXScrollbar&&(t=0,r=this.width),e.hideYScrollbar&&(s=0,i=this.height),n.selectionHeight=i,n.selectionWidth=r,n.selectionY=s,n.selectionX=t,this.skipZoomDispatch||this.fire(n.type,n))}this.selectWithoutZooming||AmCharts.remove(this.selection)}this.skipZoomDispatch=!1}}this.panning=this.zooming=!1},showCursorAt:function(e){var t=this.chart.categoryAxis;e=t.parseDates?t.dateToCoordinate(e):t.categoryToCoordinate(e);this.previousMousePosition=NaN;this.forceShow=!0;this.setPosition(e,!1)},clearSelection:function(){AmCharts.remove(this.selection)},handleMouseDown:function(e){if(this.zoomable||this.pan||this.drawing){var t=this.rotate,n=this.chart,r=n.mouseX-this.x,i=n.mouseY-this.y;if(0<r&&r<this.width&&0<i&&i<this.height||"fake"==e)this.setPosition(),this.selectWithoutZooming&&AmCharts.remove(this.selection),this.drawing?(this.drawStartY=i,this.drawStartX=r,this.drawingNow=!0):this.pan?(this.zoomable=!1,n.setMouseCursor("move"),this.panning=!0,this.panClickPos=t?i:r,this.panClickStart=this.start,this.panClickEnd=this.end,this.panClickStartTime=this.startTime,this.panClickEndTime=this.endTime):this.zoomable&&("cursor"==this.type?(this.fromIndex=this.index,t?(this.initialMouse=i,this.selectionPosY=this.linePos):(this.initialMouse=r,this.selectionPosX=this.linePos)):(this.initialMouseX=r,this.initialMouseY=i,this.selectionPosX=r,this.selectionPosY=i),this.zooming=!0)}}});AmCharts.SimpleChartScrollbar=AmCharts.Class({construct:function(e){this.createEvents("zoomed");this.backgroundColor="#D4D4D4";this.backgroundAlpha=1;this.selectedBackgroundColor="#EFEFEF";this.scrollDuration=this.selectedBackgroundAlpha=1;this.resizeEnabled=!0;this.hideResizeGrips=!1;this.scrollbarHeight=20;this.updateOnReleaseOnly=!1;9>document.documentMode&&(this.updateOnReleaseOnly=!0);this.dragIconWidth=18;this.dragIconHeight=25;AmCharts.applyTheme(this,e,"SimpleChartScrollbar")},draw:function(){var e=this;e.destroy();if(e.enabled){e.interval=setInterval(function(){e.updateScrollbar.call(e)},40);var t=e.chart.container,n=e.rotate,r=e.chart,i=t.set();e.set=i;r.scrollbarsSet.push(i);var s,o;n?(s=e.scrollbarHeight,o=r.plotAreaHeight):(o=e.scrollbarHeight,s=r.plotAreaWidth);e.width=s;if((e.height=o)&&s){var u=AmCharts.rect(t,s,o,e.backgroundColor,e.backgroundAlpha,1,e.backgroundColor,e.backgroundAlpha);AmCharts.setCN(r,u,"scrollbar-bg");e.bg=u;i.push(u);u=AmCharts.rect(t,s,o,"#000",.005);i.push(u);e.invisibleBg=u;u.click(function(){e.handleBgClick()}).mouseover(function(){e.handleMouseOver()}).mouseout(function(){e.handleMouseOut()}).touchend(function(){e.handleBgClick()});u=AmCharts.rect(t,s,o,e.selectedBackgroundColor,e.selectedBackgroundAlpha);AmCharts.setCN(r,u,"scrollbar-bg-selected");e.selectedBG=u;i.push(u);s=AmCharts.rect(t,s,o,"#000",.005);e.dragger=s;i.push(s);s.mousedown(function(t){e.handleDragStart(t)}).mouseup(function(){e.handleDragStop()}).mouseover(function(){e.handleDraggerOver()}).mouseout(function(){e.handleMouseOut()}).touchstart(function(t){e.handleDragStart(t)}).touchend(function(){e.handleDragStop()});s=r.pathToImages;n?(u=s+"dragIconH.gif",s=e.dragIconWidth,n=e.dragIconHeight):(u=s+"dragIcon.gif",n=e.dragIconWidth,s=e.dragIconHeight);o=t.image(u,0,0,n,s);AmCharts.setCN(r,o,"scrollbar-grip-left");u=t.image(u,0,0,n,s);AmCharts.setCN(r,u,"scrollbar-grip-right");var a=10,f=20;r.panEventsEnabled&&(a=25,f=e.scrollbarHeight);var l=AmCharts.rect(t,a,f,"#000",.005),c=AmCharts.rect(t,a,f,"#000",.005);c.translate(-(a-n)/2,-(f-s)/2);l.translate(-(a-n)/2,-(f-s)/2);n=t.set([o,c]);t=t.set([u,l]);e.iconLeft=n;i.push(e.iconLeft);e.iconRight=t;i.push(t);n.mousedown(function(){e.leftDragStart()}).mouseup(function(){e.leftDragStop()}).mouseover(function(){e.iconRollOver()}).mouseout(function(){e.iconRollOut()}).touchstart(function(t){e.leftDragStart()}).touchend(function(){e.leftDragStop()});t.mousedown(function(){e.rightDragStart()}).mouseup(function(){e.rightDragStop()}).mouseover(function(){e.iconRollOver()}).mouseout(function(){e.iconRollOut()}).touchstart(function(t){e.rightDragStart()}).touchend(function(){e.rightDragStop()});AmCharts.ifArray(r.chartData)?i.show():i.hide();e.hideDragIcons();e.clipDragger(!1)}i.translate(e.x,e.y);i.node.style.msTouchAction="none"}},updateScrollbarSize:function(e,t){e=Math.round(e);t=Math.round(t);var n=this.dragger,r,i,s,o;this.rotate?(r=0,i=e,s=this.width+1,o=t-e,n.setAttr("height",t-e),n.setAttr("y",i)):(r=e,i=0,s=t-e,o=this.height+1,n.setAttr("width",t-e),n.setAttr("x",r));this.clipAndUpdate(r,i,s,o)},updateScrollbar:function(){var e,t=!1,n,r,i=this.x,s=this.y,o=this.dragger,u=this.getDBox();if(u){n=u.x+i;r=u.y+s;var a=u.width,u=u.height,f=this.rotate,l=this.chart,c=this.width,h=this.height,p=l.mouseX,d=l.mouseY;e=this.initialMouse;this.forceClip&&this.clipDragger(!0);l.mouseIsOver&&(this.dragging&&(l=this.initialCoord,f?(e=l+(d-e),0>e&&(e=0),l=h-u,e>l&&(e=l),o.setAttr("y",e)):(e=l+(p-e),0>e&&(e=0),l=c-a,e>l&&(e=l),o.setAttr("x",e)),this.clipDragger(!0)),this.resizingRight&&(f?(e=d-r,e+r>h+s&&(e=h-r+s),0>e?(this.resizingRight=!1,t=this.resizingLeft=!0):(0===e&&(e=.1),o.setAttr("height",e))):(e=p-n,e+n>c+i&&(e=c-n+i),0>e?(this.resizingRight=!1,t=this.resizingLeft=!0):(0===e&&(e=.1),o.setAttr("width",e))),this.clipDragger(!0)),this.resizingLeft&&(f?(n=r,r=d,r<s&&(r=s),r>h+s&&(r=h+s),e=!0===t?n-r:u+n-r,0>e?(this.resizingRight=!0,this.resizingLeft=!1,o.setAttr("y",n+u-s)):(0===e&&(e=.1),o.setAttr("y",r-s),o.setAttr("height",e))):(r=p,r<i&&(r=i),r>c+i&&(r=c+i),e=!0===t?n-r:a+n-r,0>e?(this.resizingRight=!0,this.resizingLeft=!1,o.setAttr("x",n+a-i)):(0===e&&(e=.1),o.setAttr("x",r-i),o.setAttr("width",e))),this.clipDragger(!0)))}},stopForceClip:function(){this.forceClip=!1},clipDragger:function(e){var t=this.getDBox();if(t){var n=t.x,r=t.y,i=t.width,t=t.height,s=!1;if(this.rotate){if(n=0,i=this.width+1,this.clipY!=r||this.clipH!=t)s=!0}else if(r=0,t=this.height+1,this.clipX!=n||this.clipW!=i)s=!0;s&&(this.clipAndUpdate(n,r,i,t),e&&(this.updateOnReleaseOnly||this.dispatchScrollbarEvent()))}},maskGraphs:function(){},clipAndUpdate:function(e,t,n,r){this.clipX=e;this.clipY=t;this.clipW=n;this.clipH=r;this.selectedBG.clipRect(e,t,n,r);this.updateDragIconPositions();this.maskGraphs(e,t,n,r)},dispatchScrollbarEvent:function(){if(this.skipEvent)this.skipEvent=!1;else{var e=this.chart;e.hideBalloon();var t=this.getDBox(),n=t.x,r=t.y,i=t.width,t=t.height;this.rotate?(n=r,i=this.height/t):i=this.width/i;e={type:"zoomed",position:n,chart:e,target:this,multiplier:i};this.fire(e.type,e)}},updateDragIconPositions:function(){var e=this.getDBox(),t=e.x,n=e.y,r=this.iconLeft,i=this.iconRight,s,o,u=this.scrollbarHeight;this.rotate?(s=this.dragIconWidth,o=this.dragIconHeight,r.translate((u-o)/2,n-s/2),i.translate((u-o)/2,n+e.height-s/2)):(s=this.dragIconHeight,o=this.dragIconWidth,r.translate(t-o/2,(u-s)/2),i.translate(t-o/2+e.width,(u-s)/2))},showDragIcons:function(){this.resizeEnabled&&(this.iconLeft.show(),this.iconRight.show())},hideDragIcons:function(){if(!this.resizingLeft&&!this.resizingRight&&!this.dragging){if(this.hideResizeGrips||!this.resizeEnabled)this.iconLeft.hide(),this.iconRight.hide();this.removeCursors()}},removeCursors:function(){this.chart.setMouseCursor("auto")},relativeZoom:function(e,t){this.dragger.stop();this.multiplier=e;this.position=t;this.updateScrollbarSize(t,this.rotate?t+this.height/e:t+this.width/e)},destroy:function(){this.clear();AmCharts.remove(this.set);AmCharts.remove(this.iconRight);AmCharts.remove(this.iconLeft)},clear:function(){clearInterval(this.interval)},handleDragStart:function(){var e=this.chart;this.dragger.stop();this.removeCursors();this.dragging=!0;var t=this.getDBox();this.rotate?(this.initialCoord=t.y,this.initialMouse=e.mouseY):(this.initialCoord=t.x,this.initialMouse=e.mouseX)},handleDragStop:function(){this.updateOnReleaseOnly&&(this.updateScrollbar(),this.skipEvent=!1,this.dispatchScrollbarEvent());this.dragging=!1;this.mouseIsOver&&this.removeCursors();this.updateScrollbar()},handleDraggerOver:function(){this.handleMouseOver()},leftDragStart:function(){this.dragger.stop();this.resizingLeft=!0},leftDragStop:function(){this.resizingLeft=!1;this.mouseIsOver||this.removeCursors();this.updateOnRelease()},rightDragStart:function(){this.dragger.stop();this.resizingRight=!0},rightDragStop:function(){this.resizingRight=!1;this.mouseIsOver||this.removeCursors();this.updateOnRelease()},iconRollOut:function(){this.removeCursors()},iconRollOver:function(){this.rotate?this.chart.setMouseCursor("n-resize"):this.chart.setMouseCursor("e-resize");this.handleMouseOver()},getDBox:function(){if(this.dragger)return this.dragger.getBBox()},handleBgClick:function(){var e=this;if(!e.resizingRight&&!e.resizingLeft){e.zooming=!0;var t,n,r=e.scrollDuration,i=e.dragger;t=e.getDBox();var s=t.height,o=t.width;n=e.chart;var u=e.y,a=e.x,f=e.rotate;f?(t="y",n=n.mouseY-s/2-u,n=AmCharts.fitToBounds(n,0,e.height-s)):(t="x",n=n.mouseX-o/2-a,n=AmCharts.fitToBounds(n,0,e.width-o));e.updateOnReleaseOnly?(e.skipEvent=!1,i.setAttr(t,n),e.dispatchScrollbarEvent(),e.clipDragger()):(n=Math.round(n),f?i.animate({y:n},r,">"):i.animate({x:n},r,">"),e.forceClip=!0,clearTimeout(e.forceTO),e.forceTO=setTimeout(function(){e.stopForceClip.call(e)},5e3*r))}},updateOnRelease:function(){this.updateOnReleaseOnly&&(this.updateScrollbar(),this.skipEvent=!1,this.dispatchScrollbarEvent())},handleReleaseOutside:function(){if(this.set){if(this.resizingLeft||this.resizingRight||this.dragging)this.updateOnRelease(),this.removeCursors();this.mouseIsOver=this.dragging=this.resizingRight=this.resizingLeft=!1;this.hideDragIcons();this.updateScrollbar()}},handleMouseOver:function(){this.mouseIsOver=!0;this.showDragIcons()},handleMouseOut:function(){this.mouseIsOver=!1;this.hideDragIcons()}});AmCharts.ChartScrollbar=AmCharts.Class({inherits:AmCharts.SimpleChartScrollbar,construct:function(e){this.cname="ChartScrollbar";AmCharts.ChartScrollbar.base.construct.call(this,e);this.enabled=!0;this.graphLineColor="#BBBBBB";this.graphLineAlpha=0;this.graphFillColor="#BBBBBB";this.graphFillAlpha=1;this.selectedGraphLineColor="#888888";this.selectedGraphLineAlpha=0;this.selectedGraphFillColor="#888888";this.selectedGraphFillAlpha=1;this.gridCount=0;this.gridColor="#FFFFFF";this.gridAlpha=.7;this.skipEvent=this.autoGridCount=!1;this.color="#FFFFFF";this.scrollbarCreated=!1;this.offset=0;AmCharts.applyTheme(this,e,this.cname)},init:function(){var e=this.categoryAxis,t=this.chart;e||(this.categoryAxis=e=new AmCharts.CategoryAxis);e.chart=t;e.id="scrollbar";e.dateFormats=t.categoryAxis.dateFormats;e.markPeriodChange=t.categoryAxis.markPeriodChange;e.boldPeriodBeginning=t.categoryAxis.boldPeriodBeginning;e.axisItemRenderer=AmCharts.RecItem;e.axisRenderer=AmCharts.RecAxis;e.guideFillRenderer=AmCharts.RecFill;e.inside=!0;e.fontSize=this.fontSize;e.tickLength=0;e.axisAlpha=0;AmCharts.isString(this.graph)&&(this.graph=AmCharts.getObjById(t.graphs,this.graph));if(e=this.graph){var n=this.valueAxis;n||(this.valueAxis=n=new AmCharts.ValueAxis,n.visible=!1,n.scrollbar=!0,n.axisItemRenderer=AmCharts.RecItem,n.axisRenderer=AmCharts.RecAxis,n.guideFillRenderer=AmCharts.RecFill,n.labelsEnabled=!1,n.chart=t);t=this.unselectedGraph;t||(t=new AmCharts.AmGraph,t.scrollbar=!0,this.unselectedGraph=t,t.negativeBase=e.negativeBase,t.noStepRisers=e.noStepRisers);t=this.selectedGraph;t||(t=new AmCharts.AmGraph,t.scrollbar=!0,this.selectedGraph=t,t.negativeBase=e.negativeBase,t.noStepRisers=e.noStepRisers)}this.scrollbarCreated=!0},draw:function(){var e=this;AmCharts.ChartScrollbar.base.draw.call(e);e.scrollbarCreated||e.init();var t=e.chart,n=t.chartData,r=e.categoryAxis,i=e.rotate,s=e.x,o=e.y,u=e.width,a=e.height,f=t.categoryAxis,l=e.set;r.setOrientation(!i);r.parseDates=f.parseDates;r.rotate=i;r.equalSpacing=f.equalSpacing;r.minPeriod=f.minPeriod;r.startOnAxis=f.startOnAxis;r.viW=u;r.viH=a;r.width=u;r.height=a;r.gridCount=e.gridCount;r.gridColor=e.gridColor;r.gridAlpha=e.gridAlpha;r.color=e.color;r.tickLength=0;r.axisAlpha=0;r.autoGridCount=e.autoGridCount;r.parseDates&&!r.equalSpacing&&r.timeZoom(t.firstTime,t.lastTime);r.zoom(0,n.length-1);if(f=e.graph){var c=e.valueAxis,h=f.valueAxis;c.id=h.id;c.rotate=i;c.setOrientation(i);c.width=u;c.height=a;c.viW=u;c.viH=a;c.dataProvider=n;c.reversed=h.reversed;c.logarithmic=h.logarithmic;c.gridAlpha=0;c.axisAlpha=0;l.push(c.set);i?(c.y=o,c.x=0):(c.x=s,c.y=0);var s=Infinity,o=-Infinity,p;for(p=0;p<n.length;p++){var d=n[p].axes[h.id].graphs[f.id].values,v;for(v in d)if(d.hasOwnProperty(v)&&"percents"!=v&&"total"!=v){var m=d[v];m<s&&(s=m);m>o&&(o=m)}}Infinity!=s&&(c.minimum=s);-Infinity!=o&&(c.maximum=o+.1*(o-s));s==o&&(--c.minimum,c.maximum+=1);void 0!==e.minimum&&(c.minimum=e.minimum);void 0!==e.maximum&&(c.maximum=e.maximum);c.zoom(0,n.length-1);v=e.unselectedGraph;v.id=f.id;v.bcn="scrollbar-graph-";v.rotate=i;v.chart=t;v.data=n;v.valueAxis=c;v.chart=f.chart;v.categoryAxis=e.categoryAxis;v.periodSpan=f.periodSpan;v.valueField=f.valueField;v.openField=f.openField;v.closeField=f.closeField;v.highField=f.highField;v.lowField=f.lowField;v.lineAlpha=e.graphLineAlpha;v.lineColorR=e.graphLineColor;v.fillAlphas=e.graphFillAlpha;v.fillColorsR=e.graphFillColor;v.connect=f.connect;v.hidden=f.hidden;v.width=u;v.height=a;v.pointPosition=f.pointPosition;v.stepDirection=f.stepDirection;v.periodSpan=f.periodSpan;h=e.selectedGraph;h.id=f.id;h.bcn=v.bcn+"-selected";h.rotate=i;h.chart=t;h.data=n;h.valueAxis=c;h.chart=f.chart;h.categoryAxis=r;h.periodSpan=f.periodSpan;h.valueField=f.valueField;h.openField=f.openField;h.closeField=f.closeField;h.highField=f.highField;h.lowField=f.lowField;h.lineAlpha=e.selectedGraphLineAlpha;h.lineColorR=e.selectedGraphLineColor;h.fillAlphas=e.selectedGraphFillAlpha;h.fillColorsR=e.selectedGraphFillColor;h.connect=f.connect;h.hidden=f.hidden;h.width=u;h.height=a;h.pointPosition=f.pointPosition;h.stepDirection=f.stepDirection;h.periodSpan=f.periodSpan;t=e.graphType;t||(t=f.type);v.type=t;h.type=t;n=n.length-1;v.zoom(0,n);h.zoom(0,n);h.set.click(function(){e.handleBackgroundClick()}).mouseover(function(){e.handleMouseOver()}).mouseout(function(){e.handleMouseOut()});v.set.click(function(){e.handleBackgroundClick()}).mouseover(function(){e.handleMouseOver()}).mouseout(function(){e.handleMouseOut()});l.push(v.set);l.push(h.set)}l.push(r.set);l.push(r.labelsSet);e.bg.toBack();e.invisibleBg.toFront();e.dragger.toFront();e.iconLeft.toFront();e.iconRight.toFront()},timeZoom:function(e,t,n){this.startTime=e;this.endTime=t;this.timeDifference=t-e;this.skipEvent=!AmCharts.toBoolean(n);this.zoomScrollbar();this.skipEvent||this.dispatchScrollbarEvent()},zoom:function(e,t){this.start=e;this.end=t;this.skipEvent=!0;this.zoomScrollbar()},dispatchScrollbarEvent:function(){if(this.skipEvent)this.skipEvent=!1;else{var e=this.chart.chartData,t,n,r=this.dragger.getBBox();t=r.x;var i=r.y,s=r.width,r=r.height,o=this.chart;this.rotate?(t=i,n=r):n=s;s={type:"zoomed",target:this};s.chart=o;var u=this.categoryAxis,a=this.stepWidth,i=o.minSelectedTime,r=!1;if(u.parseDates&&!u.equalSpacing){if(e=o.lastTime,o=o.firstTime,u.minDuration(),u=Math.round(t/a)+o,t=this.dragging?u+this.timeDifference:Math.round((t+n)/a)+o,u>t&&(u=t),0<i&&t-u<i&&(t=Math.round(u+(t-u)/2),r=Math.round(i/2),u=t-r,t+=r,r=!0),t>e&&(t=e),t-i<u&&(u=t-i),u<o&&(u=o),u+i>t&&(t=u+i),u!=this.startTime||t!=this.endTime)this.startTime=u,this.endTime=t,s.start=u,s.end=t,s.startDate=new Date(u),s.endDate=new Date(t),this.fire(s.type,s)}else if(u.startOnAxis||(t+=a/2),n-=this.stepWidth/2,i=u.xToIndex(t),t=u.xToIndex(t+n),i!=this.start||this.end!=t)u.startOnAxis&&(this.resizingRight&&i==t&&t++,this.resizingLeft&&i==t&&(0<i?i--:t=1)),this.start=i,this.end=this.dragging?this.start+this.difference:t,s.start=this.start,s.end=this.end,u.parseDates&&(e[this.start]&&(s.startDate=new Date(e[this.start].time)),e[this.end]&&(s.endDate=new Date(e[this.end].time))),this.fire(s.type,s);r&&this.zoomScrollbar()}},zoomScrollbar:function(){var e,t;e=this.chart;var n=e.chartData,r=this.categoryAxis;r.parseDates&&!r.equalSpacing?(n=r.stepWidth,r=e.firstTime,e=n*(this.startTime-r),t=n*(this.endTime-r)):(e=n[this.start].x[r.id],t=n[this.end].x[r.id],n=r.stepWidth,r.startOnAxis||(r=n/2,e-=r,t+=r));this.stepWidth=n;this.updateScrollbarSize(e,t)},maskGraphs:function(e,t,n,r){var i=this.selectedGraph;i&&i.set.clipRect(e,t,n,r)},handleDragStart:function(){AmCharts.ChartScrollbar.base.handleDragStart.call(this);this.difference=this.end-this.start;this.timeDifference=this.endTime-this.startTime;0>this.timeDifference&&(this.timeDifference=0)},handleBackgroundClick:function(){AmCharts.ChartScrollbar.base.handleBackgroundClick.call(this);this.dragging||(this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,0>this.timeDifference&&(this.timeDifference=0))}});AmCharts.AmBalloon=AmCharts.Class({construct:function(e){this.cname="AmBalloon";this.enabled=!0;this.fillColor="#FFFFFF";this.fillAlpha=.8;this.borderThickness=2;this.borderColor="#FFFFFF";this.borderAlpha=1;this.cornerRadius=0;this.maxWidth=220;this.horizontalPadding=8;this.verticalPadding=4;this.pointerWidth=6;this.pointerOrientation="V";this.color="#000000";this.adjustBorderColor=!0;this.show=this.follow=this.showBullet=!1;this.bulletSize=3;this.shadowAlpha=.4;this.shadowColor="#000000";this.fadeOutDuration=this.animationDuration=.3;this.fixedPosition=!1;this.offsetY=6;this.offsetX=1;this.textAlign="center";AmCharts.isModern||(this.offsetY*=1.5);AmCharts.applyTheme(this,e,this.cname)},draw:function(){var e=this.pointToX,t=this.pointToY;this.deltaSignX=this.deltaSignY=1;var n=this.chart;AmCharts.VML&&(this.fadeOutDuration=0);this.xAnim&&n.stopAnim(this.xAnim);this.yAnim&&n.stopAnim(this.yAnim);if(!isNaN(e)){var r=this.follow,i=n.container,s=this.set;AmCharts.remove(s);this.removeDiv();s=i.set();s.node.style.pointerEvents="none";this.set=s;n.balloonsSet.push(s);if(this.show){var o=this.l,u=this.t,a=this.r,f=this.b,l=this.balloonColor,c=this.fillColor,h=this.borderColor,p=c;void 0!=l&&(this.adjustBorderColor?p=h=l:c=l);var d=this.horizontalPadding,v=this.verticalPadding,m=this.pointerWidth,g=this.pointerOrientation,y=this.cornerRadius,b=n.fontFamily,w=this.fontSize;void 0==w&&(w=n.fontSize);var l=document.createElement("div"),E=n.classNamePrefix;l.className=E+"-balloon-div";this.className&&(l.className=l.className+" "+E+"-balloon-div-"+this.className);E=l.style;E.pointerEvents="none";E.position="absolute";var S=this.minWidth,x="";isNaN(S)||(x="min-width:"+(S-2*d)+"px; ");l.innerHTML='<div style="text-align:'+this.textAlign+"; "+x+"max-width:"+this.maxWidth+"px; font-size:"+w+"px; color:"+this.color+"; font-family:"+b+'">'+this.text+"</div>";n.chartDiv.appendChild(l);this.textDiv=l;w=l.offsetWidth;b=l.offsetHeight;l.clientHeight&&(w=l.clientWidth,b=l.clientHeight);b+=2*v;x=w+2*d;!isNaN(S)&&x<S&&(x=S);window.opera&&(b+=2);var T=!1,w=this.offsetY;n.handDrawn&&(w+=n.handDrawScatter+2);"H"!=g?(S=e-x/2,t<u+b+10&&"down"!=g?(T=!0,r&&(t+=w),w=t+m,this.deltaSignY=-1):(r&&(t-=w),w=t-b-m,this.deltaSignY=1)):(2*m>b&&(m=b/2),w=t-b/2,e<o+(a-o)/2?(S=e+m,this.deltaSignX=-1):(S=e-x-m,this.deltaSignX=1));w+b>=f&&(w=f-b);w<u&&(w=u);S<o&&(S=o);S+x>a&&(S=a-x);var u=w+v,f=S+d,v=this.shadowAlpha,N=this.shadowColor,d=this.borderThickness,C=this.bulletSize,k;0<y||0===m?(0<v&&(e=AmCharts.rect(i,x,b,c,0,d+1,N,v,this.cornerRadius),AmCharts.isModern?e.translate(1,1):e.translate(4,4),s.push(e)),c=AmCharts.rect(i,x,b,c,this.fillAlpha,d,h,this.borderAlpha,this.cornerRadius),this.showBullet&&(k=AmCharts.circle(i,C,p,this.fillAlpha),s.push(k))):(p=[],y=[],"H"!=g?(o=e-S,o>x-m&&(o=x-m),o<m&&(o=m),p=[0,o-m,e-S,o+m,x,x,0,0],y=T?[0,0,t-w,0,0,b,b,0]:[b,b,t-w,b,b,0,0,b]):(p=t-w,p>b-m&&(p=b-m),p<m&&(p=m),y=[0,p-m,t-w,p+m,b,b,0,0],p=e<o+(a-o)/2?[0,0,S<e?0:e-S,0,0,x,x,0]:[x,x,S+x>e?x:e-S,x,x,0,0,x]),0<v&&(e=AmCharts.polygon(i,p,y,c,0,d,N,v),e.translate(1,1),s.push(e)),c=AmCharts.polygon(i,p,y,c,this.fillAlpha,d,h,this.borderAlpha));this.bg=c;s.push(c);c.toFront();AmCharts.setCN(n,c,"balloon-bg");this.className&&AmCharts.setCN(n,c,"balloon-bg-"+this.className);i=1*this.deltaSignX;E.left=f+"px";E.top=u+"px";s.translate(S-i,w);c=c.getBBox();this.bottom=w+b+1;this.yPos=c.y+w;k&&k.translate(this.pointToX-S+i,t-w);t=this.animationDuration;0<this.animationDuration&&!r&&!isNaN(this.prevX)&&(s.translate(this.prevX,this.prevY),s.animate({translate:S-i+","+w},t,"easeOutSine"),l&&(E.left=this.prevTX+"px",E.top=this.prevTY+"px",this.xAnim=n.animate({node:l},"left",this.prevTX,f,t,"easeOutSine","px"),this.yAnim=n.animate({node:l},"top",this.prevTY,u,t,"easeOutSine","px")));this.prevX=S-i;this.prevY=w;this.prevTX=f;this.prevTY=u}}},followMouse:function(){if(this.follow&&this.show){var e=this.chart.mouseX-this.offsetX*this.deltaSignX,t=this.chart.mouseY;this.pointToX=e;this.pointToY=t;if(e!=this.previousX||t!=this.previousY)if(this.previousX=e,this.previousY=t,0===this.cornerRadius)this.draw();else{var n=this.set;if(n){var r=n.getBBox(),e=e-r.width/2,i=t-r.height-10;e<this.l&&(e=this.l);e>this.r-r.width&&(e=this.r-r.width);i<this.t&&(i=t+10);n.translate(e,i);t=this.textDiv.style;t.left=e+this.horizontalPadding+"px";t.top=i+this.verticalPadding+"px"}}}},changeColor:function(e){this.balloonColor=e},setBounds:function(e,t,n,r){this.l=e;this.t=t;this.r=n;this.b=r;this.destroyTO&&clearTimeout(this.destroyTO)},showBalloon:function(e){this.text=e;this.show=!0;this.destroyTO&&clearTimeout(this.destroyTO);e=this.chart;this.fadeAnim1&&e.stopAnim(this.fadeAnim1);this.fadeAnim2&&e.stopAnim(this.fadeAnim2);this.draw()},hide:function(){var e=this,t=e.fadeOutDuration,n=e.chart;if(0<t){e.destroyTO=setTimeout(function(){e.destroy.call(e)},1e3*t);e.follow=!1;e.show=!1;var r=e.set;r&&(r.setAttr("opacity",e.fillAlpha),e.fadeAnim1=r.animate({opacity:0},t,"easeInSine"));e.textDiv&&(e.fadeAnim2=n.animate({node:e.textDiv},"opacity",1,0,t,"easeInSine",""))}else e.show=!1,e.follow=!1,e.destroy()},setPosition:function(e,t,n){this.pointToX=e;this.pointToY=t;n&&(e==this.previousX&&t==this.previousY||this.draw());this.previousX=e;this.previousY=t},followCursor:function(e){var t=this;(t.follow=e)?(t.pShowBullet=t.showBullet,t.showBullet=!1):void 0!==t.pShowBullet&&(t.showBullet=t.pShowBullet);clearInterval(t.interval);var n=t.chart.mouseX,r=t.chart.mouseY;!isNaN(n)&&e&&(t.pointToX=n-t.offsetX*t.deltaSignX,t.pointToY=r,t.followMouse(),t.interval=setInterval(function(){t.followMouse.call(t)},40))},removeDiv:function(){if(this.textDiv){var e=this.textDiv.parentNode;e&&e.removeChild(this.textDiv)}},destroy:function(){clearInterval(this.interval);AmCharts.remove(this.set);this.removeDiv();this.set=null}});AmCharts.AmCoordinateChart=AmCharts.Class({inherits:AmCharts.AmChart,construct:function(e){AmCharts.AmCoordinateChart.base.construct.call(this,e);this.theme=e;this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph");this.startAlpha=1;this.startDuration=0;this.startEffect="elastic";this.sequencedAnimation=!0;this.colors="#FF6600 #FCD202 #B0DE09 #0D8ECF #2A0CD0 #CD0D74 #CC0000 #00CC00 #0000CC #DDDDDD #999999 #333333 #990000".split(" ");this.balloonDateFormat="MMM DD, YYYY";this.valueAxes=[];this.graphs=[];this.guides=[];this.gridAboveGraphs=!1;AmCharts.applyTheme(this,e,"AmCoordinateChart")},initChart:function(){AmCharts.AmCoordinateChart.base.initChart.call(this);var e=this.categoryAxis;e&&(this.categoryAxis=AmCharts.processObject(e,AmCharts.CategoryAxis,this.theme));this.processValueAxes();this.createValueAxes();this.processGraphs();this.processGuides();AmCharts.VML&&(this.startAlpha=1);this.setLegendData(this.graphs);this.gridAboveGraphs&&this.gridSet.toFront()},createValueAxes:function(){if(0===this.valueAxes.length){var e=new AmCharts.ValueAxis;this.addValueAxis(e)}},parseData:function(){this.processValueAxes();this.processGraphs()},parseSerialData:function(){var e=this.graphs,t,n={},r=this.seriesIdField;r||(r=this.categoryField);this.chartData=[];var i=this.dataProvider;if(i){var s=!1,o,u=this.categoryAxis,a,f,l;u&&(s=u.parseDates,a=u.forceShowField,l=u.classNameField,f=u.labelColorField,o=u.categoryFunction);var c,h,p={},d;s&&(t=AmCharts.extractPeriod(u.minPeriod),c=t.period,h=t.count,d=AmCharts.getPeriodDuration(c,h));var v={};this.lookupTable=v;var m,g=this.dataDateFormat,y={};for(m=0;m<i.length;m++){var b={},w=i[m];t=w[this.categoryField];b.dataContext=w;b.category=o?o(t,w,u):String(t);a&&(b.forceShow=w[a]);l&&(b.className=w[l]);f&&(b.labelColor=w[f]);v[w[r]]=b;if(s&&(t=u.categoryFunction?u.categoryFunction(t,w,u):t instanceof Date?AmCharts.newDate(t,u.minPeriod):g?AmCharts.stringToDate(t,g):new Date(t),t=AmCharts.resetDateToMin(t,c,h,u.firstDayOfWeek),b.category=t,b.time=t.getTime(),isNaN(b.time)))continue;var E=this.valueAxes;b.axes={};b.x={};var S;for(S=0;S<E.length;S++){var x=E[S].id;b.axes[x]={};b.axes[x].graphs={};var T;for(T=0;T<e.length;T++){t=e[T];var N=t.id,C=1.1;isNaN(t.gapPeriod)||(C=t.gapPeriod);var k=t.periodValue;if(t.valueAxis.id==x){b.axes[x].graphs[N]={};var L={};L.index=m;var A=w;t.dataProvider&&(A=n);L.values=this.processValues(A,t,k);!t.connect&&y&&y[N]&&b.time-p[N]>=d*C&&(y[N].gap=!0);this.processFields(t,L,A);L.category=b.category;L.serialDataItem=b;L.graph=t;b.axes[x].graphs[N]=L;p[N]=b.time;y[N]=L}}}this.chartData[m]=b}}for(n=0;n<e.length;n++)t=e[n],t.dataProvider&&this.parseGraphData(t)},processValues:function(e,t,n){var r={},i,s=!1;"candlestick"!=t.type&&"ohlc"!=t.type||""===n||(s=!0);i=Number(e[t.valueField+n]);isNaN(i)||(r.value=i);i=Number(e[t.errorField+n]);isNaN(i)||(r.error=i);s&&(n="Open");i=Number(e[t.openField+n]);isNaN(i)||(r.open=i);s&&(n="Close");i=Number(e[t.closeField+n]);isNaN(i)||(r.close=i);s&&(n="Low");i=Number(e[t.lowField+n]);isNaN(i)||(r.low=i);s&&(n="High");i=Number(e[t.highField+n]);isNaN(i)||(r.high=i);return r},parseGraphData:function(e){var t=e.dataProvider,n=e.seriesIdField;n||(n=this.seriesIdField);n||(n=this.categoryField);var r;for(r=0;r<t.length;r++){var i=t[r],s=this.lookupTable[String(i[n])],o=e.valueAxis.id;s&&(o=s.axes[o].graphs[e.id],o.serialDataItem=s,o.values=this.processValues(i,e,e.periodValue),this.processFields(e,o,i))}},addValueAxis:function(e){e.chart=this;this.valueAxes.push(e);this.validateData()},removeValueAxesAndGraphs:function(){var e=this.valueAxes,t;for(t=e.length-1;-1<t;t--)this.removeValueAxis(e[t])},removeValueAxis:function(e){var t=this.graphs,n;for(n=t.length-1;0<=n;n--){var r=t[n];r&&r.valueAxis==e&&this.removeGraph(r)}t=this.valueAxes;for(n=t.length-1;0<=n;n--)t[n]==e&&t.splice(n,1);this.validateData()},addGraph:function(e){this.graphs.push(e);this.chooseGraphColor(e,this.graphs.length-1);this.validateData()},removeGraph:function(e){var t=this.graphs,n;for(n=t.length-1;0<=n;n--)t[n]==e&&(t.splice(n,1),e.destroy());this.validateData()},processValueAxes:function(){var e=this.valueAxes,t;for(t=0;t<e.length;t++){var n=e[t],n=AmCharts.processObject(n,AmCharts.ValueAxis,this.theme);e[t]=n;n.chart=this;n.id||(n.id="valueAxisAuto"+t+"_"+(new Date).getTime());void 0===n.usePrefixes&&(n.usePrefixes=this.usePrefixes)}},processGuides:function(){var e=this.guides,t=this.categoryAxis;if(e)for(var n=0;n<e.length;n++){var r=e[n];(void 0!==r.category||void 0!==r.date)&&t&&t.addGuide(r);r.id||(r.id="guideAuto"+n+"_"+(new Date).getTime());var i=r.valueAxis;i?(AmCharts.isString(i)&&(i=this.getValueAxisById(i)),i?i.addGuide(r):this.valueAxes[0].addGuide(r)):isNaN(r.value)||this.valueAxes[0].addGuide(r)}},processGraphs:function(){var e=this.graphs,t;for(t=0;t<e.length;t++){var n=e[t],n=AmCharts.processObject(n,AmCharts.AmGraph,this.theme);e[t]=n;this.chooseGraphColor(n,t);n.chart=this;AmCharts.isString(n.valueAxis)&&(n.valueAxis=this.getValueAxisById(n.valueAxis));n.valueAxis||(n.valueAxis=this.valueAxes[0]);n.id||(n.id="graphAuto"+t+"_"+(new Date).getTime())}},formatString:function(e,t,n){var r=t.graph,i=r.valueAxis;i.duration&&t.values.value&&(i=AmCharts.formatDuration(t.values.value,i.duration,"",i.durationUnits,i.maxInterval,i.numberFormatter),e=e.split("[[value]]").join(i));e=AmCharts.massReplace(e,{"[[title]]":r.title,"[[description]]":t.description});e=n?AmCharts.fixNewLines(e):AmCharts.fixBrakes(e);return e=AmCharts.cleanFromEmpty(e)},getBalloonColor:function(e,t,n){var r=e.lineColor,i=e.balloonColor;n&&(i=r);n=e.fillColorsR;"object"==typeof n?r=n[0]:void 0!==n&&(r=n);t.isNegative&&(n=e.negativeLineColor,e=e.negativeFillColors,"object"==typeof e?n=e[0]:void 0!==e&&(n=e),void 0!==n&&(r=n));void 0!==t.color&&(r=t.color);void 0===i&&(i=r);return i},getGraphById:function(e){return AmCharts.getObjById(this.graphs,e)},getValueAxisById:function(e){return AmCharts.getObjById(this.valueAxes,e)},processFields:function(e,t,n){if(e.itemColors){var r=e.itemColors,i=t.index;t.color=i<r.length?r[i]:AmCharts.randomColor()}r="lineColor color alpha fillColors description bullet customBullet bulletSize bulletConfig url labelColor dashLength pattern gap className".split(" ");for(i=0;i<r.length;i++){var s=r[i],o=e[s+"Field"];o&&(o=n[o],AmCharts.isDefined(o)&&(t[s]=o))}t.dataContext=n},chooseGraphColor:function(e,t){if(e.lineColor)e.lineColorR=e.lineColor;else{var n;n=this.colors.length>t?this.colors[t]:AmCharts.randomColor();e.lineColorR=n}e.fillColorsR=e.fillColors?e.fillColors:e.lineColorR;e.bulletBorderColorR=e.bulletBorderColor?e.bulletBorderColor:e.useLineColorForBulletBorder?e.lineColorR:e.bulletColor;e.bulletColorR=e.bulletColor?e.bulletColor:e.lineColorR;if(n=this.patterns)e.pattern=n[t]},handleLegendEvent:function(e){var t=e.type;e=e.dataItem;if(!this.legend.data&&e){var n=e.hidden,r=e.showBalloon;switch(t){case"clickMarker":this.textClickEnabled&&(r?this.hideGraphsBalloon(e):this.showGraphsBalloon(e));break;case"clickLabel":r?this.hideGraphsBalloon(e):this.showGraphsBalloon(e);break;case"rollOverItem":n||this.highlightGraph(e);break;case"rollOutItem":n||this.unhighlightGraph();break;case"hideItem":this.hideGraph(e);break;case"showItem":this.showGraph(e)}}},highlightGraph:function(e){var t=this.graphs,n,r=.2;this.legend&&(r=this.legend.rollOverGraphAlpha);if(1!=r)for(n=0;n<t.length;n++){var i=t[n];i!=e&&i.changeOpacity(r)}},unhighlightGraph:function(){var e;this.legend&&(e=this.legend.rollOverGraphAlpha);if(1!=e){e=this.graphs;var t;for(t=0;t<e.length;t++)e[t].changeOpacity(1)}},showGraph:function(e){e.switchable&&(e.hidden=!1,this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),this.chartCreated&&this.initChart())},hideGraph:function(e){e.switchable&&(this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),e.hidden=!0,this.chartCreated&&this.initChart())},hideGraphsBalloon:function(e){e.showBalloon=!1;this.updateLegend()},showGraphsBalloon:function(e){e.showBalloon=!0;this.updateLegend()},updateLegend:function(){this.legend&&this.legend.invalidateSize()},resetAnimation:function(){var e=this.graphs;if(e){var t;for(t=0;t<e.length;t++)e[t].animationPlayed=!1}},animateAgain:function(){this.resetAnimation();this.validateNow()}});AmCharts.AmSlicedChart=AmCharts.Class({inherits:AmCharts.AmChart,construct:function(e){this.createEvents("rollOverSlice","rollOutSlice","clickSlice","pullOutSlice","pullInSlice","rightClickSlice");AmCharts.AmSlicedChart.base.construct.call(this,e);this.colors="#FF0F00 #FF6600 #FF9E01 #FCD202 #F8FF01 #B0DE09 #04D215 #0D8ECF #0D52D1 #2A0CD0 #8A0CCF #CD0D74 #754DEB #DDDDDD #999999 #333333 #000000 #57032A #CA9726 #990000 #4B0C25".split(" ");this.alpha=1;this.groupPercent=0;this.groupedTitle="Other";this.groupedPulled=!1;this.groupedAlpha=1;this.marginLeft=0;this.marginBottom=this.marginTop=10;this.marginRight=0;this.hoverAlpha=1;this.outlineColor="#FFFFFF";this.outlineAlpha=0;this.outlineThickness=1;this.startAlpha=0;this.startDuration=1;this.startEffect="bounce";this.sequencedAnimation=!0;this.pullOutDuration=1;this.pullOutEffect="bounce";this.pullOnHover=this.pullOutOnlyOne=!1;this.labelsEnabled=!0;this.labelTickColor="#000000";this.labelTickAlpha=.2;this.hideLabelsPercent=0;this.urlTarget="_self";this.autoMarginOffset=10;this.gradientRatio=[];this.maxLabelWidth=200;AmCharts.applyTheme(this,e,"AmSlicedChart")},initChart:function(){AmCharts.AmSlicedChart.base.initChart.call(this);this.dataChanged&&(this.parseData(),this.dispatchDataUpdated=!0,this.dataChanged=!1,this.setLegendData(this.chartData));this.drawChart()},handleLegendEvent:function(e){var t=e.type,n=e.dataItem,r=this.legend;if(!r.data&&n){var i=n.hidden;e=e.event;switch(t){case"clickMarker":i||r.switchable||this.clickSlice(n,e);break;case"clickLabel":i||this.clickSlice(n,e,!1);break;case"rollOverItem":i||this.rollOverSlice(n,!1,e);break;case"rollOutItem":i||this.rollOutSlice(n,e);break;case"hideItem":this.hideSlice(n,e);break;case"showItem":this.showSlice(n,e)}}},invalidateVisibility:function(){this.recalculatePercents();this.initChart();var e=this.legend;e&&e.invalidateSize()},addEventListeners:function(e,t){var n=this;e.mouseover(function(e){n.rollOverSlice(t,!0,e)}).mouseout(function(e){n.rollOutSlice(t,e)}).touchend(function(e){n.rollOverSlice(t,e);n.panEventsEnabled&&n.clickSlice(t,e)}).touchstart(function(e){n.rollOverSlice(t,e)}).click(function(e){n.clickSlice(t,e)}).contextmenu(function(e){n.handleRightClick(t,e)})},formatString:function(e,t,n){e=AmCharts.formatValue(e,t,["value"],this.nf,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers);e=AmCharts.formatValue(e,t,["percents"],this.pf);e=AmCharts.massReplace(e,{"[[title]]":t.title,"[[description]]":t.description});-1!=e.indexOf("[[")&&(e=AmCharts.formatDataContextValue(e,t.dataContext));e=n?AmCharts.fixNewLines(e):AmCharts.fixBrakes(e);return e=AmCharts.cleanFromEmpty(e)},startSlices:function(){var e;for(e=0;e<this.chartData.length;e++)0<this.startDuration&&this.sequencedAnimation?this.setStartTO(e):this.startSlice(this.chartData[e])},setStartTO:function(e){var t=this;e=setTimeout(function(){t.startSequenced.call(t)},t.startDuration/t.chartData.length*500*e);t.timeOuts.push(e)},pullSlices:function(e){var t=this.chartData,n;for(n=0;n<t.length;n++){var r=t[n];r.pulled&&this.pullSlice(r,1,e)}},startSequenced:function(){var e=this.chartData,t;for(t=0;t<e.length;t++)if(!e[t].started){this.startSlice(this.chartData[t]);break}},startSlice:function(e){e.started=!0;var t=e.wedge,n=this.startDuration;t&&0<n&&(0<e.alpha&&t.show(),t.translate(e.startX,e.startY),t.animate({opacity:1,translate:"0,0"},n,this.startEffect))},showLabels:function(){var e=this.chartData,t;for(t=0;t<e.length;t++){var n=e[t];if(0<n.alpha){var r=n.label;r&&r.show();(n=n.tick)&&n.show()}}},showSlice:function(e){isNaN(e)?e.hidden=!1:this.chartData[e].hidden=!1;this.invalidateVisibility()},hideSlice:function(e){isNaN(e)?e.hidden=!0:this.chartData[e].hidden=!0;this.hideBalloon();this.invalidateVisibility()},rollOverSlice:function(e,t,n){isNaN(e)||(e=this.chartData[e]);clearTimeout(this.hoverInt);if(!e.hidden){this.pullOnHover&&this.pullSlice(e,1);1>this.hoverAlpha&&e.wedge&&e.wedge.attr({opacity:this.hoverAlpha});var r=e.balloonX,i=e.balloonY;e.pulled&&(r+=e.pullX,i+=e.pullY);var s=this.formatString(this.balloonText,e,!0),o=this.balloonFunction;o&&(s=o(e,s));o=AmCharts.adjustLuminosity(e.color,-.15);s?this.showBalloon(s,o,t,r,i):this.hideBalloon();e={type:"rollOverSlice",dataItem:e,chart:this,event:n};this.fire(e.type,e)}},rollOutSlice:function(e,t){isNaN(e)||(e=this.chartData[e]);e.wedge&&e.wedge.attr({opacity:1});this.hideBalloon();var n={type:"rollOutSlice",dataItem:e,chart:this,event:t};this.fire(n.type,n)},clickSlice:function(e,t,n){isNaN(e)||(e=this.chartData[e]);e.pulled?this.pullSlice(e,0):this.pullSlice(e,1);AmCharts.getURL(e.url,this.urlTarget);n||(e={type:"clickSlice",dataItem:e,chart:this,event:t},this.fire(e.type,e))},handleRightClick:function(e,t){isNaN(e)||(e=this.chartData[e]);var n={type:"rightClickSlice",dataItem:e,chart:this,event:t};this.fire(n.type,n)},drawTicks:function(){var e=this.chartData,t;for(t=0;t<e.length;t++){var n=e[t];if(n.label){var r=n.ty,r=AmCharts.line(this.container,[n.tx0,n.tx,n.tx2],[n.ty0,r,r],this.labelTickColor,this.labelTickAlpha);AmCharts.setCN(this,r,this.type+"-tick");AmCharts.setCN(this,r,n.className,!0);n.tick=r;n.wedge.push(r)}}},initialStart:function(){var e=this,t=e.startDuration,n=setTimeout(function(){e.showLabels.call(e)},1e3*t);e.timeOuts.push(n);e.chartCreated?e.pullSlices(!0):(e.startSlices(),0<t?(t=setTimeout(function(){e.pullSlices.call(e)},1200*t),e.timeOuts.push(t)):e.pullSlices(!0))},pullSlice:function(e,t,n){var r=this.pullOutDuration;!0===n&&(r=0);(n=e.wedge)&&(0<r?n.animate({translate:t*e.pullX+","+t*e.pullY},r,this.pullOutEffect):n.translate(t*e.pullX,t*e.pullY));1==t?(e.pulled=!0,this.pullOutOnlyOne&&this.pullInAll(e.index),e={type:"pullOutSlice",dataItem:e,chart:this}):(e.pulled=!1,e={type:"pullInSlice",dataItem:e,chart:this});this.fire(e.type,e)},pullInAll:function(e){var t=this.chartData,n;for(n=0;n<this.chartData.length;n++)n!=e&&t[n].pulled&&this.pullSlice(t[n],0)},pullOutAll:function(e){e=this.chartData;var t;for(t=0;t<e.length;t++)e[t].pulled||this.pullSlice(e[t],1)},parseData:function(){var e=[];this.chartData=e;var t=this.dataProvider;isNaN(this.pieAlpha)||(this.alpha=this.pieAlpha);if(void 0!==t){var n=t.length,r=0,i,s,o;for(i=0;i<n;i++){s={};var u=t[i];s.dataContext=u;s.value=Number(u[this.valueField]);(o=u[this.titleField])||(o="");s.title=o;s.pulled=AmCharts.toBoolean(u[this.pulledField],!1);(o=u[this.descriptionField])||(o="");s.description=o;s.labelRadius=Number(u[this.labelRadiusField]);s.switchable=!0;s.className=u[this.classNameField];s.url=u[this.urlField];o=u[this.patternField];!o&&this.patterns&&(o=this.patterns[i]);s.pattern=o;s.visibleInLegend=AmCharts.toBoolean(u[this.visibleInLegendField],!0);o=u[this.alphaField];s.alpha=void 0!==o?Number(o):this.alpha;o=u[this.colorField];void 0!==o&&(s.color=AmCharts.toColor(o));s.labelColor=AmCharts.toColor(u[this.labelColorField]);r+=s.value;s.hidden=!1;e[i]=s}for(i=t=0;i<n;i++)s=e[i],s.percents=s.value/r*100,s.percents<this.groupPercent&&t++;1<t&&(this.groupValue=0,this.removeSmallSlices(),e.push({title:this.groupedTitle,value:this.groupValue,percents:this.groupValue/r*100,pulled:this.groupedPulled,color:this.groupedColor,url:this.groupedUrl,description:this.groupedDescription,alpha:this.groupedAlpha,pattern:this.groupedPattern,className:this.groupedClassName,dataContext:{}}));n=this.baseColor;n||(n=this.pieBaseColor);r=this.brightnessStep;r||(r=this.pieBrightnessStep);for(i=0;i<e.length;i++)n?o=AmCharts.adjustLuminosity(n,i*r/100):(o=this.colors[i],void 0===o&&(o=AmCharts.randomColor())),void 0===e[i].color&&(e[i].color=o);this.recalculatePercents()}},recalculatePercents:function(){var e=this.chartData,t=0,n,r;for(n=0;n<e.length;n++)r=e[n],!r.hidden&&0<r.value&&(t+=r.value);for(n=0;n<e.length;n++)r=this.chartData[n],r.percents=!r.hidden&&0<r.value?100*r.value/t:0},removeSmallSlices:function(){var e=this.chartData,t;for(t=e.length-1;0<=t;t--)e[t].percents<this.groupPercent&&(this.groupValue+=e[t].value,e.splice(t,1))},animateAgain:function(){var e=this;e.startSlices();for(var t=0;t<e.chartData.length;t++){var n=e.chartData[t];n.started=!1;var r=n.wedge;r&&r.translate(n.startX,n.startY)}t=e.startDuration;0<t?(t=setTimeout(function(){e.pullSlices.call(e)},1200*t),e.timeOuts.push(t)):e.pullSlices()},measureMaxLabel:function(){var e=this.chartData,t=0,n;for(n=0;n<e.length;n++){var r=e[n],i=this.formatString(this.labelText,r),s=this.labelFunction;s&&(i=s(r,i));r=AmCharts.text(this.container,i,this.color,this.fontFamily,this.fontSize);i=r.getBBox().width;i>t&&(t=i);r.remove()}return t}});AmCharts.AmRectangularChart=AmCharts.Class({inherits:AmCharts.AmCoordinateChart,construct:function(e){AmCharts.AmRectangularChart.base.construct.call(this,e);this.theme=e;this.createEvents("zoomed");this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=20;this.verticalPosition=this.horizontalPosition=this.depth3D=this.angle=0;this.heightMultiplier=this.widthMultiplier=1;this.plotAreaFillColors="#FFFFFF";this.plotAreaFillAlphas=0;this.plotAreaBorderColor="#000000";this.plotAreaBorderAlpha=0;this.zoomOutButtonImageSize=17;this.zoomOutButtonImage="lens.png";this.zoomOutText="Show all";this.zoomOutButtonColor="#e5e5e5";this.zoomOutButtonAlpha=0;this.zoomOutButtonRollOverAlpha=1;this.zoomOutButtonPadding=8;this.trendLines=[];this.autoMargins=!0;this.marginsUpdated=!1;this.autoMarginOffset=10;AmCharts.applyTheme(this,e,"AmRectangularChart")},initChart:function(){AmCharts.AmRectangularChart.base.initChart.call(this);this.updateDxy();var e=!0;!this.marginsUpdated&&this.autoMargins&&(this.resetMargins(),e=!1);this.processScrollbars();this.updateMargins();this.updatePlotArea();this.updateScrollbars();this.updateTrendLines();this.updateChartCursor();this.updateValueAxes();e&&(this.scrollbarOnly||this.updateGraphs())},drawChart:function(){AmCharts.AmRectangularChart.base.drawChart.call(this);this.drawPlotArea();if(AmCharts.ifArray(this.chartData)){var e=this.chartCursor;e&&e.draw();e=this.zoomOutText;""!==e&&e&&this.drawZoomOutButton()}},resetMargins:function(){var e={},t;if("serial"==this.type){var n=this.valueAxes;for(t=0;t<n.length;t++){var r=n[t];r.ignoreAxisWidth||(r.setOrientation(this.rotate),r.fixAxisPosition(),e[r.position]=!0)}(t=this.categoryAxis)&&!t.ignoreAxisWidth&&(t.setOrientation(!this.rotate),t.fixAxisPosition(),t.fixAxisPosition(),e[t.position]=!0)}else{r=this.xAxes;n=this.yAxes;for(t=0;t<r.length;t++){var i=r[t];i.ignoreAxisWidth||(i.setOrientation(!0),i.fixAxisPosition(),e[i.position]=!0)}for(t=0;t<n.length;t++)r=n[t],r.ignoreAxisWidth||(r.setOrientation(!1),r.fixAxisPosition(),e[r.position]=!0)}e.left&&(this.marginLeft=0);e.right&&(this.marginRight=0);e.top&&(this.marginTop=0);e.bottom&&(this.marginBottom=0);this.fixMargins=e},measureMargins:function(){var e=this.valueAxes,t,n=this.autoMarginOffset,r=this.fixMargins,i=this.realWidth,s=this.realHeight,o=n,u=n,a=i;t=s;var f;for(f=0;f<e.length;f++)t=this.getAxisBounds(e[f],o,a,u,t),o=Math.round(t.l),a=Math.round(t.r),u=Math.round(t.t),t=Math.round(t.b);if(e=this.categoryAxis)t=this.getAxisBounds(e,o,a,u,t),o=Math.round(t.l),a=Math.round(t.r),u=Math.round(t.t),t=Math.round(t.b);r.left&&o<n&&(this.marginLeft=Math.round(-o+n));r.right&&a>=i-n&&(this.marginRight=Math.round(a-i+n));r.top&&u<n+this.titleHeight&&(this.marginTop=Math.round(this.marginTop-u+n+this.titleHeight));r.bottom&&t>s-n&&(this.marginBottom=Math.round(this.marginBottom+t-s+n));this.initChart()},getAxisBounds:function(e,t,n,r,i){if(!e.ignoreAxisWidth){var s=e.labelsSet,o=e.tickLength;e.inside&&(o=0);if(s)switch(s=e.getBBox(),e.position){case"top":e=s.y;r>e&&(r=e);break;case"bottom":e=s.y+s.height;i<e&&(i=e);break;case"right":e=s.x+s.width+o+3;n<e&&(n=e);break;case"left":e=s.x-o,t>e&&(t=e)}}return{l:t,t:r,r:n,b:i}},drawZoomOutButton:function(){var e=this,t=e.container.set();e.zoomButtonSet.push(t);var n=e.color,r=e.fontSize,i=e.zoomOutButtonImageSize,s=e.zoomOutButtonImage,o=AmCharts.lang.zoomOutText||e.zoomOutText,u=e.zoomOutButtonColor,a=e.zoomOutButtonAlpha,f=e.zoomOutButtonFontSize,l=e.zoomOutButtonPadding;isNaN(f)||(r=f);(f=e.zoomOutButtonFontColor)&&(n=f);var f=e.zoomOutButton,c;f&&(f.fontSize&&(r=f.fontSize),f.color&&(n=f.color),f.backgroundColor&&(u=f.backgroundColor),isNaN(f.backgroundAlpha)||(e.zoomOutButtonRollOverAlpha=f.backgroundAlpha));var h=f=0;void 0!==e.pathToImages&&s&&(c=e.container.image(e.pathToImages+s,0,0,i,i),AmCharts.setCN(e,c,"zoom-out-image"),t.push(c),c=c.getBBox(),f=c.width+5);void 0!==o&&(n=AmCharts.text(e.container,o,n,e.fontFamily,r,"start"),AmCharts.setCN(e,n,"zoom-out-label"),r=n.getBBox(),h=c?c.height/2-3:r.height/2,n.translate(f,h),t.push(n));c=t.getBBox();n=1;AmCharts.isModern||(n=0);u=AmCharts.rect(e.container,c.width+2*l+5,c.height+2*l-2,u,1,1,u,n);u.setAttr("opacity",a);u.translate(-l,-l);AmCharts.setCN(e,u,"zoom-out-bg");t.push(u);u.toBack();e.zbBG=u;c=u.getBBox();t.translate(e.marginLeftReal+e.plotAreaWidth-c.width+l,e.marginTopReal+l);t.hide();t.mouseover(function(){e.rollOverZB()}).mouseout(function(){e.rollOutZB()}).click(function(){e.clickZB()}).touchstart(function(){e.rollOverZB()}).touchend(function(){e.rollOutZB();e.clickZB()});for(a=0;a<t.length;a++)t[a].attr({cursor:"pointer"});e.zbSet=t},rollOverZB:function(){this.zbBG.setAttr("opacity",this.zoomOutButtonRollOverAlpha)},rollOutZB:function(){this.zbBG.setAttr("opacity",this.zoomOutButtonAlpha)},clickZB:function(){this.zoomOut()},zoomOut:function(){this.updateScrollbar=!0;this.zoom()},drawPlotArea:function(){var e=this.dx,t=this.dy,n=this.marginLeftReal,r=this.marginTopReal,i=this.plotAreaWidth-1,s=this.plotAreaHeight-1,o=this.plotAreaFillColors,u=this.plotAreaFillAlphas,a=this.plotAreaBorderColor,f=this.plotAreaBorderAlpha;this.trendLinesSet.clipRect(n,r,i,s);"object"==typeof u&&(u=u[0]);o=AmCharts.polygon(this.container,[0,i,i,0,0],[0,0,s,s,0],o,u,1,a,f,this.plotAreaGradientAngle);AmCharts.setCN(this,o,"plot-area");o.translate(n+e,r+t);this.set.push(o);0!==e&&0!==t&&(o=this.plotAreaFillColors,"object"==typeof o&&(o=o[0]),o=AmCharts.adjustLuminosity(o,-.15),i=AmCharts.polygon(this.container,[0,e,i+e,i,0],[0,t,t,0,0],o,u,1,a,f),AmCharts.setCN(this,i,"plot-area-bottom"),i.translate(n,r+s),this.set.push(i),e=AmCharts.polygon(this.container,[0,0,e,e,0],[0,s,s+t,t,0],o,u,1,a,f),AmCharts.setCN(this,e,"plot-area-left"),e.translate(n,r),this.set.push(e));(n=this.bbset)&&this.scrollbarOnly&&n.remove()},updatePlotArea:function(){var e=this.updateWidth(),t=this.updateHeight(),n=this.container;this.realWidth=e;this.realWidth=t;n&&this.container.setSize(e,t);e=e-this.marginLeftReal-this.marginRightReal-this.dx;t=t-this.marginTopReal-this.marginBottomReal;1>e&&(e=1);1>t&&(t=1);this.plotAreaWidth=Math.round(e);this.plotAreaHeight=Math.round(t)},updateDxy:function(){this.dx=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180));this.dy=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180));this.d3x=Math.round(this.columnSpacing3D*Math.cos(this.angle*Math.PI/180));this.d3y=Math.round(-this.columnSpacing3D*Math.sin(this.angle*Math.PI/180))},updateMargins:function(){var e=this.getTitleHeight();this.titleHeight=e;this.marginTopReal=this.marginTop-this.dy+e;this.marginBottomReal=this.marginBottom;this.marginLeftReal=this.marginLeft;this.marginRightReal=this.marginRight},updateValueAxes:function(){var e=this.valueAxes,t=this.marginLeftReal,n=this.marginTopReal,r=this.plotAreaHeight,i=this.plotAreaWidth,s;for(s=0;s<e.length;s++){var o=e[s];o.axisRenderer=AmCharts.RecAxis;o.guideFillRenderer=AmCharts.RecFill;o.axisItemRenderer=AmCharts.RecItem;o.dx=this.dx;o.dy=this.dy;o.viW=i-1;o.viH=r-1;o.marginsChanged=!0;o.viX=t;o.viY=n;this.updateObjectSize(o)}},updateObjectSize:function(e){e.width=(this.plotAreaWidth-1)*this.widthMultiplier;e.height=(this.plotAreaHeight-1)*this.heightMultiplier;e.x=this.marginLeftReal+this.horizontalPosition;e.y=this.marginTopReal+this.verticalPosition},updateGraphs:function(){var e=this.graphs,t;for(t=0;t<e.length;t++){var n=e[t];n.x=this.marginLeftReal+this.horizontalPosition;n.y=this.marginTopReal+this.verticalPosition;n.width=this.plotAreaWidth*this.widthMultiplier;n.height=this.plotAreaHeight*this.heightMultiplier;n.index=t;n.dx=this.dx;n.dy=this.dy;n.rotate=this.rotate}},updateChartCursor:function(){var e=this.chartCursor;e&&(e=AmCharts.processObject(e,AmCharts.ChartCursor,this.theme),this.addChartCursor(e),e.x=this.marginLeftReal,e.y=this.marginTopReal,e.width=this.plotAreaWidth-1,e.height=this.plotAreaHeight-1,e.chart=this)},processScrollbars:function(){var e=this.chartScrollbar;e&&(e=AmCharts.processObject(e,AmCharts.ChartScrollbar,this.theme),this.addChartScrollbar(e))},updateScrollbars:function(){},addChartCursor:function(e){AmCharts.callMethod("destroy",[this.chartCursor]);e&&(this.listenTo(e,"changed",this.handleCursorChange),this.listenTo(e,"zoomed",this.handleCursorZoom));this.chartCursor=e},removeChartCursor:function(){AmCharts.callMethod("destroy",[this.chartCursor]);this.chartCursor=null},zoomTrendLines:function(){var e=this.trendLines,t;for(t=0;t<e.length;t++){var n=e[t];n.valueAxis.recalculateToPercents?n.set&&n.set.hide():(n.x=this.marginLeftReal+this.horizontalPosition,n.y=this.marginTopReal+this.verticalPosition,n.draw())}},addTrendLine:function(e){this.trendLines.push(e)},removeTrendLine:function(e){var t=this.trendLines,n;for(n=t.length-1;0<=n;n--)t[n]==e&&t.splice(n,1)},adjustMargins:function(e,t){var n=e.position,r=e.scrollbarHeight+e.offset;e.enabled&&("top"==n?t?this.marginLeftReal+=r:this.marginTopReal+=r:t?this.marginRightReal+=r:this.marginBottomReal+=r)},getScrollbarPosition:function(e,t,n){e.position=t?"bottom"==n||"left"==n?"bottom":"top":"top"==n||"right"==n?"bottom":"top"},updateChartScrollbar:function(e,t){if(e){e.rotate=t;var n=this.marginTopReal,r=this.marginLeftReal,i=e.scrollbarHeight,s=this.dx,o=this.dy,u=e.offset;"top"==e.position?t?(e.y=n,e.x=r-i-u):(e.y=n-i+o-1-u,e.x=r+s):t?(e.y=n+o,e.x=r+this.plotAreaWidth+s+u):(e.y=n+this.plotAreaHeight+u,e.x=this.marginLeftReal)}},showZB:function(e){var t=this.zbSet;t&&(e?t.show():t.hide(),this.rollOutZB())},handleReleaseOutside:function(e){AmCharts.AmRectangularChart.base.handleReleaseOutside.call(this,e);(e=this.chartCursor)&&e.handleReleaseOutside()},handleMouseDown:function(e){AmCharts.AmRectangularChart.base.handleMouseDown.call(this,e);var t=this.chartCursor;t&&t.handleMouseDown(e)},handleCursorChange:function(e){}});AmCharts.TrendLine=AmCharts.Class({construct:function(e){this.cname="TrendLine";this.createEvents("click");this.isProtected=!1;this.dashLength=0;this.lineColor="#00CC00";this.lineThickness=this.lineAlpha=1;AmCharts.applyTheme(this,e,this.cname)},draw:function(){var e=this;e.destroy();var t=e.chart,n=t.container,r,i,s,o,u=e.categoryAxis,a=e.initialDate,f=e.initialCategory,l=e.finalDate,c=e.finalCategory,h=e.valueAxis,p=e.valueAxisX,d=e.initialXValue,v=e.finalXValue,m=e.initialValue,g=e.finalValue,y=h.recalculateToPercents,b=t.dataDateFormat;u&&(a&&(a instanceof Date||(a=b?AmCharts.stringToDate(a,b):new Date(a)),e.initialDate=a,r=u.dateToCoordinate(a)),f&&(r=u.categoryToCoordinate(f)),l&&(l instanceof Date||(l=b?AmCharts.stringToDate(l,b):new Date(l)),e.finalDate=l,i=u.dateToCoordinate(l)),c&&(i=u.categoryToCoordinate(c)));p&&!y&&(isNaN(d)||(r=p.getCoordinate(d)),isNaN(v)||(i=p.getCoordinate(v)));h&&!y&&(isNaN(m)||(s=h.getCoordinate(m)),isNaN(g)||(o=h.getCoordinate(g)));isNaN(r)||isNaN(i)||isNaN(s)||isNaN(s)||(t.rotate?(u=[s,o],i=[r,i]):(u=[r,i],i=[s,o]),s=e.lineColor,r=AmCharts.line(n,u,i,s,e.lineAlpha,e.lineThickness,e.dashLength),o=u,a=i,c=u[1]-u[0],h=i[1]-i[0],0===c&&(c=.01),0===h&&(h=.01),f=c/Math.abs(c),l=h/Math.abs(h),h=c*h/Math.abs(c*h)*Math.sqrt(Math.pow(c,2)+Math.pow(h,2)),c=Math.asin(c/h),h=90*Math.PI/180-c,c=Math.abs(5*Math.cos(h)),h=Math.abs(5*Math.sin(h)),o.push(u[1]-f*h,u[0]-f*h),a.push(i[1]+l*c,i[0]+l*c),u=AmCharts.polygon(n,o,a,s,.005,0),n=n.set([u,r]),n.translate(t.marginLeftReal,t.marginTopReal),t.trendLinesSet.push(n),AmCharts.setCN(t,r,"trend-line"),AmCharts.setCN(t,r,"trend-line-"+e.id),e.line=r,e.set=n,u.mouseup(function(){e.handleLineClick()}).mouseover(function(){e.handleLineOver()}).mouseout(function(){e.handleLineOut()}),u.touchend&&u.touchend(function(){e.handleLineClick()}))},handleLineClick:function(){var e={type:"click",trendLine:this,chart:this.chart};this.fire(e.type,e)},handleLineOver:function(){var e=this.rollOverColor;void 0!==e&&this.line.attr({stroke:e})},handleLineOut:function(){this.line.attr({stroke:this.lineColor})},destroy:function(){AmCharts.remove(this.set)}});AmCharts.circle=function(e,t,n,r,i,s,o,u,a){if(void 0==i||0===i)i=.01;void 0===s&&(s="#000000");void 0===o&&(o=0);r={fill:n,stroke:s,"fill-opacity":r,"stroke-width":i,"stroke-opacity":o};e=isNaN(a)?e.circle(0,0,t).attr(r):e.ellipse(0,0,t,a).attr(r);u&&e.gradient("radialGradient",[n,AmCharts.adjustLuminosity(n,-.6)]);return e};AmCharts.text=function(e,t,n,r,i,s,o,u){s||(s="middle");"right"==s&&(s="end");"left"==s&&(s="start");isNaN(u)&&(u=1);void 0!==t&&(t=String(t),AmCharts.isIE&&!AmCharts.isModern&&(t=t.replace("&","&"),t=t.replace("&","&")));n={fill:n,"font-family":r,"font-size":i,opacity:u};!0===o&&(n["font-weight"]="bold");n["text-anchor"]=s;return e.text(t,n)};AmCharts.polygon=function(e,t,n,r,i,s,o,u,a,f,l){isNaN(s)&&(s=.01);isNaN(u)&&(u=i);var c=r,h=!1;"object"==typeof c&&1<c.length&&(h=!0,c=c[0]);void 0===o&&(o=c);i={fill:c,stroke:o,"fill-opacity":i,"stroke-width":s,"stroke-opacity":u};void 0!==l&&0<l&&(i["stroke-dasharray"]=l);l=AmCharts.dx;s=AmCharts.dy;e.handDrawn&&(n=AmCharts.makeHD(t,n,e.handDrawScatter),t=n[0],n=n[1]);o=Math.round;f&&(o=AmCharts.doNothing);f="M"+(o(t[0])+l)+","+(o(n[0])+s);for(u=1;u<t.length;u++)f+=" L"+(o(t[u])+l)+","+(o(n[u])+s);e=e.path(f+" Z").attr(i);h&&e.gradient("linearGradient",r,a);return e};AmCharts.rect=function(e,t,n,r,i,s,o,u,a,f,l){isNaN(s)&&(s=0);void 0===a&&(a=0);void 0===f&&(f=270);isNaN(i)&&(i=0);var c=r,h=!1;"object"==typeof c&&(c=c[0],h=!0);void 0===o&&(o=c);void 0===u&&(u=i);t=Math.round(t);n=Math.round(n);var p=0,d=0;0>t&&(t=Math.abs(t),p=-t);0>n&&(n=Math.abs(n),d=-n);p+=AmCharts.dx;d+=AmCharts.dy;i={fill:c,stroke:o,"fill-opacity":i,"stroke-opacity":u};void 0!==l&&0<l&&(i["stroke-dasharray"]=l);e=e.rect(p,d,t,n,a,s).attr(i);h&&e.gradient("linearGradient",r,f);return e};AmCharts.bullet=function(e,t,n,r,i,s,o,u,a,f,l){var c;"circle"==t&&(t="round");switch(t){case"round":c=AmCharts.circle(e,n/2,r,i,s,o,u);break;case"square":c=AmCharts.polygon(e,[-n/2,n/2,n/2,-n/2],[n/2,n/2,-n/2,-n/2],r,i,s,o,u,f-180);break;case"rectangle":c=AmCharts.polygon(e,[-n,n,n,-n],[n/2,n/2,-n/2,-n/2],r,i,s,o,u,f-180);break;case"diamond":c=AmCharts.polygon(e,[-n/2,0,n/2,0],[0,-n/2,0,n/2],r,i,s,o,u);break;case"triangleUp":c=AmCharts.triangle(e,n,0,r,i,s,o,u);break;case"triangleDown":c=AmCharts.triangle(e,n,180,r,i,s,o,u);break;case"triangleLeft":c=AmCharts.triangle(e,n,270,r,i,s,o,u);break;case"triangleRight":c=AmCharts.triangle(e,n,90,r,i,s,o,u);break;case"bubble":c=AmCharts.circle(e,n/2,r,i,s,o,u,!0);break;case"line":c=AmCharts.line(e,[-n/2,n/2],[0,0],r,i,s,o,u);break;case"yError":c=e.set();c.push(AmCharts.line(e,[0,0],[-n/2,n/2],r,i,s));c.push(AmCharts.line(e,[-a,a],[-n/2,-n/2],r,i,s));c.push(AmCharts.line(e,[-a,a],[n/2,n/2],r,i,s));break;case"xError":c=e.set(),c.push(AmCharts.line(e,[-n/2,n/2],[0,0],r,i,s)),c.push(AmCharts.line(e,[-n/2,-n/2],[-a,a],r,i,s)),c.push(AmCharts.line(e,[n/2,n/2],[-a,a],r,i,s))}c&&c.pattern(l);return c};AmCharts.triangle=function(e,t,n,r,i,s,o,u){if(void 0===s||0===s)s=1;void 0===o&&(o="#000");void 0===u&&(u=0);r={fill:r,stroke:o,"fill-opacity":i,"stroke-width":s,"stroke-opacity":u};t/=2;var a;0===n&&(a=" M"+ -t+","+t+" L0,"+ -t+" L"+t+","+t+" Z");180==n&&(a=" M"+ -t+","+ -t+" L0,"+t+" L"+t+","+ -t+" Z");90==n&&(a=" M"+ -t+","+ -t+" L"+t+",0 L"+ -t+","+t+" Z");270==n&&(a=" M"+ -t+",0 L"+t+","+t+" L"+t+","+ -t+" Z");return e.path(a).attr(r)};AmCharts.line=function(e,t,n,r,i,s,o,u,a,f,l){if(e.handDrawn&&!l)return AmCharts.handDrawnLine(e,t,n,r,i,s,o,u,a,f,l);s={fill:"none","stroke-width":s};void 0!==o&&0<o&&(s["stroke-dasharray"]=o);isNaN(i)||(s["stroke-opacity"]=i);r&&(s.stroke=r);r=Math.round;f&&(r=AmCharts.doNothing);f=AmCharts.dx;i=AmCharts.dy;o="M"+(r(t[0])+f)+","+(r(n[0])+i);for(u=1;u<t.length;u++)o+=" L"+(r(t[u])+f)+","+(r(n[u])+i);if(AmCharts.VML)return e.path(o,void 0,!0).attr(s);a&&(o+=" M0,0 L0,0");return e.path(o).attr(s)};AmCharts.makeHD=function(e,t,n){for(var r=[],i=[],s=1;s<e.length;s++)for(var o=Number(e[s-1]),u=Number(t[s-1]),a=Number(e[s]),f=Number(t[s]),l=Math.sqrt(Math.pow(a-o,2)+Math.pow(f-u,2)),l=Math.round(l/50)+1,a=(a-o)/l,f=(f-u)/l,c=0;c<=l;c++){var h=o+c*a+Math.random()*n,p=u+c*f+Math.random()*n;r.push(h);i.push(p)}return[r,i]};AmCharts.handDrawnLine=function(e,t,n,r,i,s,o,u,a,f,l){var c=e.set();for(l=1;l<t.length;l++)for(var h=[t[l-1],t[l]],p=[n[l-1],n[l]],p=AmCharts.makeHD(h,p,e.handDrawScatter),h=p[0],p=p[1],d=1;d<h.length;d++)c.push(AmCharts.line(e,[h[d-1],h[d]],[p[d-1],p[d]],r,i,s+Math.random()*e.handDrawThickness-e.handDrawThickness/2,o,u,a,f,!0));return c};AmCharts.doNothing=function(e){return e};AmCharts.wedge=function(e,t,n,r,i,s,o,u,a,f,l,c){var h=Math.round;s=h(s);o=h(o);u=h(u);var p=h(o/s*u),d=AmCharts.VML,v=359.5+s/100;359.94<v&&(v=359.94);i>=v&&(i=v);var m=1/180*Math.PI,v=t+Math.sin(r*m)*u,g=n-Math.cos(r*m)*p,y=t+Math.sin(r*m)*s,b=n-Math.cos(r*m)*o,w=t+Math.sin((r+i)*m)*s,E=n-Math.cos((r+i)*m)*o,S=t+Math.sin((r+i)*m)*u,m=n-Math.cos((r+i)*m)*p,x={fill:AmCharts.adjustLuminosity(f.fill,-.2),"stroke-opacity":0,"fill-opacity":f["fill-opacity"]},T=0;180<Math.abs(i)&&(T=1);r=e.set();var N;d&&(v=h(10*v),y=h(10*y),w=h(10*w),S=h(10*S),g=h(10*g),b=h(10*b),E=h(10*E),m=h(10*m),t=h(10*t),a=h(10*a),n=h(10*n),s*=10,o*=10,u*=10,p*=10,1>Math.abs(i)&&1>=Math.abs(w-y)&&1>=Math.abs(E-b)&&(N=!0));i="";var C;c&&(x["fill-opacity"]=0,x["stroke-opacity"]=f["stroke-opacity"]/2,x.stroke=f.stroke);0<a&&(C=" M"+v+","+(g+a)+" L"+y+","+(b+a),d?(N||(C+=" A"+(t-s)+","+(a+n-o)+","+(t+s)+","+(a+n+o)+","+y+","+(b+a)+","+w+","+(E+a)),C+=" L"+S+","+(m+a),0<u&&(N||(C+=" B"+(t-u)+","+(a+n-p)+","+(t+u)+","+(a+n+p)+","+S+","+(a+m)+","+v+","+(a+g)))):(C+=" A"+s+","+o+",0,"+T+",1,"+w+","+(E+a)+" L"+S+","+(m+a),0<u&&(C+=" A"+u+","+p+",0,"+T+",0,"+v+","+(g+a))),C=e.path(C+" Z",void 0,void 0,"1000,1000").attr(x),r.push(C),C=e.path(" M"+v+","+g+" L"+v+","+(g+a)+" L"+y+","+(b+a)+" L"+y+","+b+" L"+v+","+g+" Z",void 0,void 0,"1000,1000").attr(x),a=e.path(" M"+w+","+E+" L"+w+","+(E+a)+" L"+S+","+(m+a)+" L"+S+","+m+" L"+w+","+E+" Z",void 0,void 0,"1000,1000").attr(x),r.push(C),r.push(a));d?(N||(i=" A"+h(t-s)+","+h(n-o)+","+h(t+s)+","+h(n+o)+","+h(y)+","+h(b)+","+h(w)+","+h(E)),s=" M"+h(v)+","+h(g)+" L"+h(y)+","+h(b)+i+" L"+h(S)+","+h(m)):s=" M"+v+","+g+" L"+y+","+b+(" A"+s+","+o+",0,"+T+",1,"+w+","+E)+" L"+S+","+m;0<u&&(d?N||(s+=" B"+(t-u)+","+(n-p)+","+(t+u)+","+(n+p)+","+S+","+m+","+v+","+g):s+=" A"+u+","+p+",0,"+T+",0,"+v+","+g);e.handDrawn&&(t=AmCharts.line(e,[v,y],[g,b],f.stroke,f.thickness*Math.random()*e.handDrawThickness,f["stroke-opacity"]),r.push(t));e=e.path(s+" Z",void 0,void 0,"1000,1000").attr(f);if(l){t=[];for(n=0;n<l.length;n++)t.push(AmCharts.adjustLuminosity(f.fill,l[n]));0<t.length&&e.gradient("linearGradient",t)}e.pattern(c);r.wedge=e;r.push(e);return r};AmCharts.adjustLuminosity=function(e,t){e=String(e).replace(/[^0-9a-f]/gi,"");6>e.length&&(e=String(e[0])+String(e[0])+String(e[1])+String(e[1])+String(e[2])+String(e[2]));t=t||0;var n="#",r,i;for(i=0;3>i;i++)r=parseInt(e.substr(2*i,2),16),r=Math.round(Math.min(Math.max(0,r+r*t),255)).toString(16),n+=("00"+r).substr(r.length);return n};AmCharts.Bezier=AmCharts.Class({construct:function(e,t,n,r,i,s,o,u,a,f){"object"==typeof o&&(o=o[0]);"object"==typeof u&&(u=u[0]);s={fill:o,"fill-opacity":u,"stroke-width":s};void 0!==a&&0<a&&(s["stroke-dasharray"]=a);isNaN(i)||(s["stroke-opacity"]=i);r&&(s.stroke=r);r="M"+Math.round(t[0])+","+Math.round(n[0]);i=[];for(a=0;a<t.length;a++)i.push({x:Number(t[a]),y:Number(n[a])});1<i.length&&(t=this.interpolate(i),r+=this.drawBeziers(t));f?r+=f:AmCharts.VML||(r+="M0,0 L0,0");this.path=e.path(r).attr(s);this.node=this.path.node},interpolate:function(e){var t=[];t.push({x:e[0].x,y:e[0].y});var n=e[1].x-e[0].x,r=e[1].y-e[0].y,i=AmCharts.bezierX,s=AmCharts.bezierY;t.push({x:e[0].x+n/i,y:e[0].y+r/s});var o;for(o=1;o<e.length-1;o++){var u=e[o-1],a=e[o],r=e[o+1];isNaN(r.x)&&(r=a);isNaN(a.x)&&(a=u);isNaN(u.x)&&(u=a);n=r.x-a.x;r=r.y-u.y;u=a.x-u.x;u>n&&(u=n);t.push({x:a.x-u/i,y:a.y-r/s});t.push({x:a.x,y:a.y});t.push({x:a.x+u/i,y:a.y+r/s})}r=e[e.length-1].y-e[e.length-2].y;n=e[e.length-1].x-e[e.length-2].x;t.push({x:e[e.length-1].x-n/i,y:e[e.length-1].y-r/s});t.push({x:e[e.length-1].x,y:e[e.length-1].y});return t},drawBeziers:function(e){var t="",n;for(n=0;n<(e.length-1)/3;n++)t+=this.drawBezierMidpoint(e[3*n],e[3*n+1],e[3*n+2],e[3*n+3]);return t},drawBezierMidpoint:function(e,t,n,r){var i=Math.round,s=this.getPointOnSegment(e,t,.75),o=this.getPointOnSegment(r,n,.75),u=(r.x-e.x)/16,a=(r.y-e.y)/16,f=this.getPointOnSegment(e,t,.375);e=this.getPointOnSegment(s,o,.375);e.x-=u;e.y-=a;t=this.getPointOnSegment(o,s,.375);t.x+=u;t.y+=a;n=this.getPointOnSegment(r,n,.375);u=this.getMiddle(f,e);s=this.getMiddle(s,o);o=this.getMiddle(t,n);f=" Q"+i(f.x)+","+i(f.y)+","+i(u.x)+","+i(u.y);f+=" Q"+i(e.x)+","+i(e.y)+","+i(s.x)+","+i(s.y);f+=" Q"+i(t.x)+","+i(t.y)+","+i(o.x)+","+i(o.y);return f+=" Q"+i(n.x)+","+i(n.y)+","+i(r.x)+","+i(r.y)},getMiddle:function(e,t){return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}},getPointOnSegment:function(e,t,n){return{x:e.x+(t.x-e.x)*n,y:e.y+(t.y-e.y)*n}}});AmCharts.AmDraw=AmCharts.Class({construct:function(e,t,n,r){AmCharts.SVG_NS="http://www.w3.org/2000/svg";AmCharts.SVG_XLINK="http://www.w3.org/1999/xlink";AmCharts.hasSVG=!!document.createElementNS&&!!document.createElementNS(AmCharts.SVG_NS,"svg").createSVGRect;1>t&&(t=10);1>n&&(n=10);this.div=e;this.width=t;this.height=n;this.rBin=document.createElement("div");AmCharts.hasSVG?(AmCharts.SVG=!0,t=this.createSvgElement("svg"),e.appendChild(t),this.container=t,this.addDefs(r),this.R=new AmCharts.SVGRenderer(this)):AmCharts.isIE&&AmCharts.VMLRenderer&&(AmCharts.VML=!0,AmCharts.vmlStyleSheet||(document.namespaces.add("amvml","urn:schemas-microsoft-com:vml"),31>document.styleSheets.length?(t=document.createStyleSheet(),t.addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true"),AmCharts.vmlStyleSheet=t):document.styleSheets[0].addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true")),this.container=e,this.R=new AmCharts.VMLRenderer(this,r),this.R.disableSelection(e))},createSvgElement:function(e){return document.createElementNS(AmCharts.SVG_NS,e)},circle:function(e,t,n,r){var i=new AmCharts.AmDObject("circle",this);i.attr({r:n,cx:e,cy:t});this.addToContainer(i.node,r);return i},ellipse:function(e,t,n,r,i){var s=new AmCharts.AmDObject("ellipse",this);s.attr({rx:n,ry:r,cx:e,cy:t});this.addToContainer(s.node,i);return s},setSize:function(e,t){0<e&&0<t&&(this.container.style.width=e+"px",this.container.style.height=t+"px")},rect:function(e,t,n,r,i,s,o){var u=new AmCharts.AmDObject("rect",this);AmCharts.VML&&(i=Math.round(100*i/Math.min(n,r)),n+=2*s,r+=2*s,u.bw=s,u.node.style.marginLeft=-s,u.node.style.marginTop=-s);1>n&&(n=1);1>r&&(r=1);u.attr({x:e,y:t,width:n,height:r,rx:i,ry:i,"stroke-width":s});this.addToContainer(u.node,o);return u},image:function(e,t,n,r,i,s){var o=new AmCharts.AmDObject("image",this);o.attr({x:t,y:n,width:r,height:i});this.R.path(o,e);this.addToContainer(o.node,s);return o},addToContainer:function(e,t){t||(t=this.container);t.appendChild(e)},text:function(e,t,n){return this.R.text(e,t,n)},path:function(e,t,n,r){var i=new AmCharts.AmDObject("path",this);r||(r="100,100");i.attr({cs:r});n?i.attr({dd:e}):i.attr({d:e});this.addToContainer(i.node,t);return i},set:function(e){return this.R.set(e)},remove:function(e){if(e){var t=this.rBin;t.appendChild(e);t.innerHTML=""}},renderFix:function(){var e=this.container,t=e.style,n;try{n=e.getScreenCTM()||e.createSVGMatrix()}catch(r){n=e.createSVGMatrix()}e=1-n.e%1;n=1-n.f%1;.5<e&&--e;.5<n&&--n;e&&(t.left=e+"px");n&&(t.top=n+"px")},update:function(){this.R.update()},addDefs:function(e){if(AmCharts.hasSVG){var t=this.createSvgElement("desc"),n=this.container;n.setAttribute("version","1.1");n.style.position="absolute";this.setSize(this.width,this.height);AmCharts.rtl&&(n.setAttribute("direction","rtl"),n.style.left="auto",n.style.right="0px");t.appendChild(document.createTextNode("JavaScript chart by amCharts "+e.version));n.appendChild(t);e.defs&&(t=this.createSvgElement("defs"),n.appendChild(t),AmCharts.parseDefs(e.defs,t),this.defs=t)}}});AmCharts.AmDObject=AmCharts.Class({construct:function(e,t){this.D=t;this.R=t.R;this.node=this.R.create(this,e);this.y=this.x=0;this.scale=1},attr:function(e){this.R.attr(this,e);return this},getAttr:function(e){return this.node.getAttribute(e)},setAttr:function(e,t){this.R.setAttr(this,e,t);return this},clipRect:function(e,t,n,r){this.R.clipRect(this,e,t,n,r)},translate:function(e,t,n,r){r||(e=Math.round(e),t=Math.round(t));this.R.move(this,e,t,n);this.x=e;this.y=t;this.scale=n;this.angle&&this.rotate(this.angle)},rotate:function(e,t){this.R.rotate(this,e,t);this.angle=e},animate:function(e,t,n){for(var r in e)if(e.hasOwnProperty(r)){var i=r,s=e[r];n=AmCharts.getEffect(n);this.R.animate(this,i,s,t,n)}},push:function(e){if(e){var t=this.node;t.appendChild(e.node);var n=e.clipPath;n&&t.appendChild(n);(e=e.grad)&&t.appendChild(e)}},text:function(e){this.R.setText(this,e)},remove:function(){this.R.remove(this)},clear:function(){var e=this.node;if(e.hasChildNodes())for(;1<=e.childNodes.length;)e.removeChild(e.firstChild)},hide:function(){this.setAttr("visibility","hidden")},show:function(){this.setAttr("visibility","visible")},getBBox:function(){return this.R.getBBox(this)},toFront:function(){var e=this.node;if(e){this.prevNextNode=e.nextSibling;var t=e.parentNode;t&&t.appendChild(e)}},toPrevious:function(){var e=this.node;e&&this.prevNextNode&&(e=e.parentNode)&&e.insertBefore(this.prevNextNode,null)},toBack:function(){var e=this.node;if(e){this.prevNextNode=e.nextSibling;var t=e.parentNode;if(t){var n=t.firstChild;n&&t.insertBefore(e,n)}}},mouseover:function(e){this.R.addListener(this,"mouseover",e);return this},mouseout:function(e){this.R.addListener(this,"mouseout",e);return this},click:function(e){this.R.addListener(this,"click",e);return this},dblclick:function(e){this.R.addListener(this,"dblclick",e);return this},mousedown:function(e){this.R.addListener(this,"mousedown",e);return this},mouseup:function(e){this.R.addListener(this,"mouseup",e);return this},touchstart:function(e){this.R.addListener(this,"touchstart",e);return this},touchend:function(e){this.R.addListener(this,"touchend",e);return this},contextmenu:function(e){this.node.addEventListener?this.node.addEventListener("contextmenu",e,!0):this.R.addListener(this,"contextmenu",e);return this},stop:function(e){AmCharts.removeFromArray(this.R.animations,this.an_x);AmCharts.removeFromArray(this.R.animations,this.an_y)},length:function(){return this.node.childNodes.length},gradient:function(e,t,n){this.R.gradient(this,e,t,n)},pattern:function(e,t){e&&this.R.pattern(this,e,t)}});AmCharts.VMLRenderer=AmCharts.Class({construct:function(e,t){this.chart=t;this.D=e;this.cNames={circle:"oval",ellipse:"oval",rect:"roundrect",path:"shape"};this.styleMap={x:"left",y:"top",width:"width",height:"height","font-family":"fontFamily","font-size":"fontSize",visibility:"visibility"}},create:function(e,t){var n;if("group"==t)n=document.createElement("div"),e.type="div";else if("text"==t)n=document.createElement("div"),e.type="text";else if("image"==t)n=document.createElement("img"),e.type="image";else{e.type="shape";e.shapeType=this.cNames[t];n=document.createElement("amvml:"+this.cNames[t]);var r=document.createElement("amvml:stroke");n.appendChild(r);e.stroke=r;var i=document.createElement("amvml:fill");n.appendChild(i);e.fill=i;i.className="amvml";r.className="amvml";n.className="amvml"}n.style.position="absolute";n.style.top=0;n.style.left=0;return n},path:function(e,t){e.node.setAttribute("src",t)},setAttr:function(e,t,n){if(void 0!==n){var r;8===document.documentMode&&(r=!0);var i=e.node,s=e.type,o=i.style;"r"==t&&(o.width=2*n,o.height=2*n);"oval"==e.shapeType&&("rx"==t&&(o.width=2*n),"ry"==t&&(o.height=2*n));"roundrect"==e.shapeType&&("width"!=t&&"height"!=t||--n);"cursor"==t&&(o.cursor=n);"cx"==t&&(o.left=n-AmCharts.removePx(o.width)/2);"cy"==t&&(o.top=n-AmCharts.removePx(o.height)/2);var u=this.styleMap[t];void 0!==u&&(o[u]=n);"text"==s&&("text-anchor"==t&&(e.anchor=n,u=i.clientWidth,"end"==n&&(o.marginLeft=-u+"px"),"middle"==n&&(o.marginLeft=-(u/2)+"px",o.textAlign="center"),"start"==n&&(o.marginLeft="0px")),"fill"==t&&(o.color=n),"font-weight"==t&&(o.fontWeight=n));if(o=e.children)for(u=0;u<o.length;u++)o[u].setAttr(t,n);if("shape"==s){"cs"==t&&(i.style.width="100px",i.style.height="100px",i.setAttribute("coordsize",n));"d"==t&&i.setAttribute("path",this.svgPathToVml(n));"dd"==t&&i.setAttribute("path",n);s=e.stroke;e=e.fill;"stroke"==t&&(r?s.color=n:s.setAttribute("color",n));"stroke-width"==t&&(r?s.weight=n:s.setAttribute("weight",n));"stroke-opacity"==t&&(r?s.opacity=n:s.setAttribute("opacity",n));"stroke-dasharray"==t&&(o="solid",0<n&&3>n&&(o="dot"),3<=n&&6>=n&&(o="dash"),6<n&&(o="longdash"),r?s.dashstyle=o:s.setAttribute("dashstyle",o));if("fill-opacity"==t||"opacity"==t)0===n?r?e.on=!1:e.setAttribute("on",!1):r?e.opacity=n:e.setAttribute("opacity",n);"fill"==t&&(r?e.color=n:e.setAttribute("color",n));"rx"==t&&(r?i.arcSize=n+"%":i.setAttribute("arcsize",n+"%"))}}},attr:function(e,t){for(var n in t)t.hasOwnProperty(n)&&this.setAttr(e,n,t[n])},text:function(e,t,n){var r=new AmCharts.AmDObject("text",this.D),i=r.node;i.style.whiteSpace="pre";i.innerHTML=e;this.D.addToContainer(i,n);this.attr(r,t);return r},getBBox:function(e){return this.getBox(e.node)},getBox:function(e){var t=e.offsetLeft,n=e.offsetTop,r=e.offsetWidth,i=e.offsetHeight,s;if(e.hasChildNodes()){var o,u,a;for(a=0;a<e.childNodes.length;a++){s=this.getBox(e.childNodes[a]);var f=s.x;isNaN(f)||(isNaN(o)?o=f:f<o&&(o=f));var l=s.y;isNaN(l)||(isNaN(u)?u=l:l<u&&(u=l));f=s.width+f;isNaN(f)||(r=Math.max(r,f));s=s.height+l;isNaN(s)||(i=Math.max(i,s))}0>o&&(t+=o);0>u&&(n+=u)}return{x:t,y:n,width:r,height:i}},setText:function(e,t){var n=e.node;n&&(n.innerHTML=t);this.setAttr(e,"text-anchor",e.anchor)},addListener:function(e,t,n){e.node["on"+t]=n},move:function(e,t,n){var r=e.node,i=r.style;"text"==e.type&&(n-=AmCharts.removePx(i.fontSize)/2-1);"oval"==e.shapeType&&(t-=AmCharts.removePx(i.width)/2,n-=AmCharts.removePx(i.height)/2);e=e.bw;isNaN(e)||(t-=e,n-=e);isNaN(t)||isNaN(n)||(r.style.left=t+"px",r.style.top=n+"px")},svgPathToVml:function(e){var t=e.split(" ");e="";var n,r=Math.round,i;for(i=0;i<t.length;i++){var s=t[i],o=s.substring(0,1),s=s.substring(1),u=s.split(","),a=r(u[0])+","+r(u[1]);"M"==o&&(e+=" m "+a);"L"==o&&(e+=" l "+a);"Z"==o&&(e+=" x e");if("Q"==o){var f=n.length,l=n[f-1],c=u[0],h=u[1],a=u[2],p=u[3];n=r(n[f-2]/3+2/3*c);l=r(l/3+2/3*h);c=r(2/3*c+a/3);h=r(2/3*h+p/3);e+=" c "+n+","+l+","+c+","+h+","+a+","+p}"A"==o&&(e+=" wa "+s);"B"==o&&(e+=" at "+s);n=u}return e},animate:function(e,t,n,r,i){var s=e.node,o=this.chart;if("translate"==t){t=n.split(",");n=t[1];var u=s.offsetTop;o.animate(e,"left",s.offsetLeft,t[0],r,i,"px");o.animate(e,"top",u,n,r,i,"px")}},clipRect:function(e,t,n,r,i){e=e.node;0===t&&0===n?(e.style.width=r+"px",e.style.height=i+"px",e.style.overflow="hidden"):e.style.clip="rect("+n+"px "+(t+r)+"px "+(n+i)+"px "+t+"px)"},rotate:function(e,t,n){if(0!==Number(t)){var r=e.node;e=r.style;n||(n=this.getBGColor(r.parentNode));e.backgroundColor=n;e.paddingLeft=1;n=t*Math.PI/180;var i=Math.cos(n),s=Math.sin(n),o=AmCharts.removePx(e.left),u=AmCharts.removePx(e.top),a=r.offsetWidth,r=r.offsetHeight;t/=Math.abs(t);e.left=o+a/2-a/2*Math.cos(n)-t*r/2*Math.sin(n)+3;e.top=u-t*a/2*Math.sin(n)+t*r/2*Math.sin(n);e.cssText=e.cssText+"; filter:progid:DXImageTransform.Microsoft.Matrix(M11='"+i+"', M12='"+ -s+"', M21='"+s+"', M22='"+i+"', sizingmethod='auto expand');"}},getBGColor:function(e){var t="#FFFFFF";if(e.style){var n=e.style.backgroundColor;""!==n?t=n:e.parentNode&&(t=this.getBGColor(e.parentNode))}return t},set:function(e){var t=new AmCharts.AmDObject("group",this.D);this.D.container.appendChild(t.node);if(e){var n;for(n=0;n<e.length;n++)t.push(e[n])}return t},gradient:function(e,t,n,r){var i="";"radialGradient"==t&&(t="gradientradial",n.reverse());"linearGradient"==t&&(t="gradient");var s;for(s=0;s<n.length;s++){var o=Math.round(100*s/(n.length-1)),i=i+(o+"% "+n[s]);s<n.length-1&&(i+=",")}e=e.fill;90==r?r=0:270==r?r=180:180==r?r=90:0===r&&(r=270);8===document.documentMode?(e.type=t,e.angle=r):(e.setAttribute("type",t),e.setAttribute("angle",r));i&&(e.colors.value=i)},remove:function(e){e.clipPath&&this.D.remove(e.clipPath);this.D.remove(e.node)},disableSelection:function(e){void 0!==typeof e.onselectstart&&(e.onselectstart=function(){return!1});e.style.cursor="default"},pattern:function(e,t){var n=e.node,r=e.fill,i="none";t.color&&(i=t.color);n.fillColor=i;8===document.documentMode?(r.type="tile",r.src=t.url):(r.setAttribute("type","tile"),r.setAttribute("src",t.url))},update:function(){}});AmCharts.SVGRenderer=AmCharts.Class({construct:function(e){this.D=e;this.animations=[]},create:function(e,t){return document.createElementNS(AmCharts.SVG_NS,t)},attr:function(e,t){for(var n in t)t.hasOwnProperty(n)&&this.setAttr(e,n,t[n])},setAttr:function(e,t,n){void 0!==n&&e.node.setAttribute(t,n)},animate:function(e,t,n,r,i){var s=e.node;e["an_"+t]&&AmCharts.removeFromArray(this.animations,e["an_"+t]);"translate"==t?(s=(s=s.getAttribute("transform"))?String(s).substring(10,s.length-1):"0,0",s=s.split(", ").join(" "),s=s.split(" ").join(","),0===s&&(s="0,0")):s=Number(s.getAttribute(t));n={obj:e,frame:0,attribute:t,from:s,to:n,time:r,effect:i};this.animations.push(n);e["an_"+t]=n},update:function(){var e,t=this.animations;for(e=t.length-1;0<=e;e--){var n=t[e],r=1e3*n.time/AmCharts.updateRate,i=n.frame+1,s=n.obj,o=n.attribute,u,a,f;i<=r?(n.frame++,"translate"==o?(u=n.from.split(","),o=Number(u[0]),u=Number(u[1]),isNaN(u)&&(u=0),a=n.to.split(","),f=Number(a[0]),a=Number(a[1]),f=0===f-o?f:Math.round(AmCharts[n.effect](0,i,o,f-o,r)),n=0===a-u?a:Math.round(AmCharts[n.effect](0,i,u,a-u,r)),o="transform",n="translate("+f+","+n+")"):(a=Number(n.from),u=Number(n.to),f=u-a,n=AmCharts[n.effect](0,i,a,f,r),isNaN(n)&&(n=u),0===f&&this.animations.splice(e,1)),this.setAttr(s,o,n)):("translate"==o?(a=n.to.split(","),f=Number(a[0]),a=Number(a[1]),s.translate(f,a)):(u=Number(n.to),this.setAttr(s,o,u)),this.animations.splice(e,1))}},getBBox:function(e){if(e=e.node)try{return e.getBBox()}catch(t){}return{width:0,height:0,x:0,y:0}},path:function(e,t){e.node.setAttributeNS(AmCharts.SVG_XLINK,"xlink:href",t)},clipRect:function(e,t,n,r,i){var s=e.node,o=e.clipPath;o&&this.D.remove(o);var u=s.parentNode;u&&(s=document.createElementNS(AmCharts.SVG_NS,"clipPath"),o=AmCharts.getUniqueId(),s.setAttribute("id",o),this.D.rect(t,n,r,i,0,0,s),u.appendChild(s),t="#",AmCharts.baseHref&&!AmCharts.isIE&&(t=this.removeTarget(window.location.href)+t),this.setAttr(e,"clip-path","url("+t+o+")"),this.clipPathC++,e.clipPath=s)},text:function(e,t,n){var r=new AmCharts.AmDObject("text",this.D);e=String(e).split("\n");var i=t["font-size"],s;for(s=0;s<e.length;s++){var o=this.create(null,"tspan");o.appendChild(document.createTextNode(e[s]));o.setAttribute("y",(i+2)*s+Math.round(i/2));o.setAttribute("x",0);o.style.fontSize=i+"px";r.node.appendChild(o)}r.node.setAttribute("y",Math.round(i/2));this.attr(r,t);this.D.addToContainer(r.node,n);return r},setText:function(e,t){var n=e.node;n&&(n.removeChild(n.firstChild),n.appendChild(document.createTextNode(t)))},move:function(e,t,n,r){isNaN(t)&&(t=0);isNaN(n)&&(n=0);t="translate("+t+","+n+")";r&&(t=t+" scale("+r+")");this.setAttr(e,"transform",t)},rotate:function(e,t){var n=e.node.getAttribute("transform"),r="rotate("+t+")";n&&(r=n+" "+r);this.setAttr(e,"transform",r)},set:function(e){var t=new AmCharts.AmDObject("g",this.D);this.D.container.appendChild(t.node);if(e){var n;for(n=0;n<e.length;n++)t.push(e[n])}return t},addListener:function(e,t,n){e.node["on"+t]=n},gradient:function(e,t,n,r){var i=e.node,s=e.grad;s&&this.D.remove(s);t=document.createElementNS(AmCharts.SVG_NS,t);s=AmCharts.getUniqueId();t.setAttribute("id",s);if(!isNaN(r)){var o=0,u=0,a=0,f=0;90==r?a=100:270==r?f=100:180==r?o=100:0===r&&(u=100);t.setAttribute("x1",o+"%");t.setAttribute("x2",u+"%");t.setAttribute("y1",a+"%");t.setAttribute("y2",f+"%")}for(r=0;r<n.length;r++)o=document.createElementNS(AmCharts.SVG_NS,"stop"),u=100*r/(n.length-1),0===r&&(u=0),o.setAttribute("offset",u+"%"),o.setAttribute("stop-color",n[r]),t.appendChild(o);i.parentNode.appendChild(t);n="#";AmCharts.baseHref&&!AmCharts.isIE&&(n=this.removeTarget(window.location.href)+n);i.setAttribute("fill","url("+n+s+")");e.grad=t},removeTarget:function(e){urlArr=e.split("#");return urlArr[0]},pattern:function(e,t,n){var r=e.node;isNaN(n)&&(n=1);var i=e.patternNode;i&&this.D.remove(i);var i=document.createElementNS(AmCharts.SVG_NS,"pattern"),s=AmCharts.getUniqueId(),o=t;t.url&&(o=t.url);var u=Number(t.width);isNaN(u)&&(u=4);var a=Number(t.height);isNaN(a)&&(a=4);u/=n;a/=n;n=t.x;isNaN(n)&&(n=0);var f=-Math.random()*Number(t.randomX);isNaN(f)||(n=f);f=t.y;isNaN(f)&&(f=0);var l=-Math.random()*Number(t.randomY);isNaN(l)||(f=l);i.setAttribute("id",s);i.setAttribute("width",u);i.setAttribute("height",a);i.setAttribute("patternUnits","userSpaceOnUse");i.setAttribute("xlink:href",o);t.color&&(l=document.createElementNS(AmCharts.SVG_NS,"rect"),l.setAttributeNS(null,"height",u),l.setAttributeNS(null,"width",a),l.setAttributeNS(null,"fill",t.color),i.appendChild(l));this.D.image(o,0,0,u,a,i).translate(n,f);o="#";AmCharts.baseHref&&!AmCharts.isIE&&(o=this.removeTarget(window.location.href)+o);r.setAttribute("fill","url("+o+s+")");e.patternNode=i;r.parentNode.appendChild(i)},remove:function(e){e.clipPath&&this.D.remove(e.clipPath);e.grad&&this.D.remove(e.grad);e.patternNode&&this.D.remove(e.patternNode);this.D.remove(e.node)}});AmCharts.AmDSet=AmCharts.Class({construct:function(e){this.create("g")},attr:function(e){this.R.attr(this.node,e)},move:function(e,t){this.R.move(this.node,e,t)}});AmCharts.AmLegend=AmCharts.Class({construct:function(e){this.enabled=!0;this.cname="AmLegend";this.createEvents("rollOverMarker","rollOverItem","rollOutMarker","rollOutItem","showItem","hideItem","clickMarker","rollOverItem","rollOutItem","clickLabel");this.position="bottom";this.borderColor=this.color="#000000";this.borderAlpha=0;this.markerLabelGap=5;this.verticalGap=10;this.align="left";this.horizontalGap=0;this.spacing=10;this.markerDisabledColor="#AAB3B3";this.markerType="square";this.markerSize=16;this.markerBorderThickness=this.markerBorderAlpha=1;this.marginBottom=this.marginTop=0;this.marginLeft=this.marginRight=20;this.autoMargins=!0;this.valueWidth=50;this.switchable=!0;this.switchType="x";this.switchColor="#FFFFFF";this.rollOverColor="#CC0000";this.reversedOrder=!1;this.labelText="[[title]]";this.valueText="[[value]]";this.useMarkerColorForLabels=!1;this.rollOverGraphAlpha=1;this.textClickEnabled=!1;this.equalWidths=!0;this.dateFormat="DD-MM-YYYY";this.backgroundColor="#FFFFFF";this.backgroundAlpha=0;this.useGraphSettings=!1;this.showEntries=!0;AmCharts.applyTheme(this,e,this.cname)},setData:function(e){this.legendData=e;this.invalidateSize()},invalidateSize:function(){this.destroy();this.entries=[];this.valueLabels=[];var e=this.legendData;this.enabled&&(AmCharts.ifArray(e)||AmCharts.ifArray(this.data))&&this.drawLegend()},drawLegend:function(){var e=this.chart,t=this.position,n=this.width,r=e.divRealWidth,i=e.divRealHeight,s=this.div,o=this.legendData;this.data&&(o=this.data);isNaN(this.fontSize)&&(this.fontSize=e.fontSize);if("right"==t||"left"==t)this.maxColumns=1,this.autoMargins&&(this.marginLeft=this.marginRight=10);else if(this.autoMargins){this.marginRight=e.marginRight;this.marginLeft=e.marginLeft;var u=e.autoMarginOffset;"bottom"==t?(this.marginBottom=u,this.marginTop=0):(this.marginTop=u,this.marginBottom=0)}n=void 0!==n?AmCharts.toCoordinate(n,r):e.realWidth;"outside"==t?(n=s.offsetWidth,i=s.offsetHeight,s.clientHeight&&(n=s.clientWidth,i=s.clientHeight)):(isNaN(n)||(s.style.width=n+"px"),s.className="amChartsLegend "+e.classNamePrefix+"-legend-div");this.divWidth=n;(t=this.container)?(t.container.innerHTML="",s.appendChild(t.container),t.width=n,t.height=i,t.addDefs(e)):t=new AmCharts.AmDraw(s,n,i,e);this.container=t;this.lx=0;this.ly=8;i=this.markerSize;i>this.fontSize&&(this.ly=i/2-1);0<i&&(this.lx+=i+this.markerLabelGap);this.titleWidth=0;if(i=this.title)i=AmCharts.text(this.container,i,this.color,e.fontFamily,this.fontSize,"start",!0),AmCharts.setCN(e,i,"legend-title"),i.translate(this.marginLeft,this.marginTop+this.verticalGap+this.ly+1),e=i.getBBox(),this.titleWidth=e.width+15,this.titleHeight=e.height+6;this.index=this.maxLabelWidth=0;if(this.showEntries){for(e=0;e<o.length;e++)this.createEntry(o[e]);for(e=this.index=0;e<o.length;e++)this.createValue(o[e])}this.arrangeEntries();this.updateValues()},arrangeEntries:function(){var e=this.position,t=this.marginLeft+this.titleWidth,n=this.marginRight,r=this.marginTop,i=this.marginBottom,s=this.horizontalGap,o=this.div,u=this.divWidth,a=this.maxColumns,f=this.verticalGap,l=this.spacing,c=u-n-t,h=0,p=0,d=this.container;this.set&&this.set.remove();var v=d.set();this.set=v;var m=d.set();v.push(m);var g=this.entries,y,b;for(b=0;b<g.length;b++){y=g[b].getBBox();var w=y.width;w>h&&(h=w);y=y.height;y>p&&(p=y)}var w=p=0,E=s,S=0,x=0;for(b=0;b<g.length;b++){var T=g[b];this.reversedOrder&&(T=g[g.length-b-1]);y=T.getBBox();var N;this.equalWidths?N=s+w*(h+l+this.markerLabelGap):(N=E,E=E+y.width+s+l);y.height>x&&(x=y.height);N+y.width>c&&0<b&&0!==w&&(p++,w=0,N=s,E=N+y.width+s+l,S=S+x+f,x=0);T.translate(N,S);w++;!isNaN(a)&&w>=a&&(w=0,p++,S=S+x+f,x=0);m.push(T)}y=m.getBBox();a=y.height+2*f-1;"left"==e||"right"==e?(u=y.width+2*s,o.style.width=u+t+n+"px"):u=u-t-n-1;n=AmCharts.polygon(this.container,[0,u,u,0],[0,0,a,a],this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha);AmCharts.setCN(this.chart,n,"legend-bg");v.push(n);v.translate(t,r);n.toBack();t=s;if("top"==e||"bottom"==e||"absolute"==e||"outside"==e)"center"==this.align?t=s+(u-y.width)/2:"right"==this.align&&(t=s+u-y.width);m.translate(t,f+1);this.titleHeight>a&&(a=this.titleHeight);e=a+r+i+1;0>e&&(e=0);e>this.chart.divRealHeight&&(o.style.top="0px");o.style.height=Math.round(e)+"px";d.setSize(this.divWidth,e)},createEntry:function(e){if(!1!==e.visibleInLegend){var t=this.chart,n=e.markerType;e.legendEntryWidth=this.markerSize;n||(n=this.markerType);var r=e.color,i=e.alpha;e.legendKeyColor&&(r=e.legendKeyColor());e.legendKeyAlpha&&(i=e.legendKeyAlpha());var s;!0===e.hidden&&(s=r=this.markerDisabledColor);var o=e.pattern,u=e.customMarker;u||(u=this.customMarker);var a=this.container,f=this.markerSize,l=0,c=0,h=f/2;if(this.useGraphSettings){n=e.type;this.switchType=void 0;if("line"==n||"step"==n||"smoothedLine"==n||"ohlc"==n)o=a.set(),e.hidden||(r=e.lineColorR,s=e.bulletBorderColorR),l=AmCharts.line(a,[0,2*f],[f/2,f/2],r,e.lineAlpha,e.lineThickness,e.dashLength),AmCharts.setCN(t,l,"graph-stroke"),o.push(l),e.bullet&&(e.hidden||(r=e.bulletColorR),l=AmCharts.bullet(a,e.bullet,e.bulletSize,r,e.bulletAlpha,e.bulletBorderThickness,s,e.bulletBorderAlpha))&&(AmCharts.setCN(t,l,"graph-bullet"),l.translate(f+1,f/2),o.push(l)),h=0,l=f,c=f/3;else{var p;e.getGradRotation&&(p=e.getGradRotation());l=e.fillColorsR;!0===e.hidden&&(l=r);if(o=this.createMarker("rectangle",l,e.fillAlphas,e.lineThickness,r,e.lineAlpha,p,o))h=f,o.translate(h,f/2);l=f}AmCharts.setCN(t,o,"graph-"+n);AmCharts.setCN(t,o,"graph-"+e.id)}else u?(t.path&&(u=t.path+u),o=a.image(u,0,0,f,f)):(o=this.createMarker(n,r,i,void 0,void 0,void 0,void 0,o))&&o.translate(f/2,f/2);AmCharts.setCN(t,o,"legend-marker");this.addListeners(o,e);a=a.set([o]);this.switchable&&e.switchable&&a.setAttr("cursor","pointer");void 0!=e.id&&AmCharts.setCN(t,a,"legend-item-"+e.id);AmCharts.setCN(t,a,e.className,!0);(s=this.switchType)&&"none"!=s&&("x"==s?(n=this.createX(),n.translate(f/2,f/2)):n=this.createV(),n.dItem=e,!0!==e.hidden?"x"==s?n.hide():n.show():"x"!=s&&n.hide(),this.switchable||n.hide(),this.addListeners(n,e),e.legendSwitch=n,a.push(n),AmCharts.setCN(t,n,"legend-switch"));s=this.color;e.showBalloon&&this.textClickEnabled&&void 0!==this.selectedColor&&(s=this.selectedColor);this.useMarkerColorForLabels&&(s=r);!0===e.hidden&&(s=this.markerDisabledColor);r=AmCharts.massReplace(this.labelText,{"[[title]]":e.title});n=this.fontSize;o&&(f<=n&&o.translate(h,f/2+this.ly-n/2+(n+2-f)/2-c),e.legendEntryWidth=o.getBBox().width);var d;r&&(r=AmCharts.fixBrakes(r),e.legendTextReal=r,d=this.labelWidth,d=isNaN(d)?AmCharts.text(this.container,r,s,t.fontFamily,n,"start"):AmCharts.wrappedText(this.container,r,s,t.fontFamily,n,"start",!1,d,0),AmCharts.setCN(t,d,"legend-label"),d.translate(this.lx+l,this.ly),a.push(d),t=d.getBBox().width,this.maxLabelWidth<t&&(this.maxLabelWidth=t));this.entries[this.index]=a;e.legendEntry=this.entries[this.index];e.legendLabel=d;this.index++}},addListeners:function(e,t){var n=this;e&&e.mouseover(function(e){n.rollOverMarker(t,e)}).mouseout(function(e){n.rollOutMarker(t,e)}).click(function(e){n.clickMarker(t,e)})},rollOverMarker:function(e,t){this.switchable&&this.dispatch("rollOverMarker",e,t);this.dispatch("rollOverItem",e,t)},rollOutMarker:function(e,t){this.switchable&&this.dispatch("rollOutMarker",e,t);this.dispatch("rollOutItem",e,t)},clickMarker:function(e,t){this.switchable&&(!0===e.hidden?this.dispatch("showItem",e,t):this.dispatch("hideItem",e,t));this.dispatch("clickMarker",e,t)},rollOverLabel:function(e,t){e.hidden||(this.textClickEnabled&&e.legendLabel&&e.legendLabel.attr({fill:this.rollOverColor}),this.dispatch("rollOverItem",e,t))},rollOutLabel:function(e,t){if(!e.hidden){if(this.textClickEnabled&&e.legendLabel){var n=this.color;void 0!==this.selectedColor&&e.showBalloon&&(n=this.selectedColor);this.useMarkerColorForLabels&&(n=e.lineColor,void 0===n&&(n=e.color));e.legendLabel.attr({fill:n})}this.dispatch("rollOutItem",e,t)}},clickLabel:function(e,t){this.textClickEnabled?e.hidden||this.dispatch("clickLabel",e,t):this.switchable&&(!0===e.hidden?this.dispatch("showItem",e,t):this.dispatch("hideItem",e,t))},dispatch:function(e,t,n){this.fire(e,{type:e,dataItem:t,target:this,event:n,chart:this.chart})},createValue:function(e){var t=this,n=t.fontSize,r=t.chart;if(!1!==e.visibleInLegend){var i=t.maxLabelWidth;t.equalWidths||(t.valueAlign="left");"left"==t.valueAlign&&(i=e.legendEntry.getBBox().width);var s=i;if(t.valueText&&0<t.valueWidth){var o=t.color;t.useMarkerColorForValues&&(o=e.color,e.legendKeyColor&&(o=e.legendKeyColor()));!0===e.hidden&&(o=t.markerDisabledColor);var u=t.valueText,i=i+t.lx+t.markerLabelGap+t.valueWidth,a="end";"left"==t.valueAlign&&(i-=t.valueWidth,a="start");o=AmCharts.text(t.container,u,o,t.chart.fontFamily,n,a);AmCharts.setCN(r,o,"legend-value");o.translate(i,t.ly);t.entries[t.index].push(o);s+=t.valueWidth+2*t.markerLabelGap;o.dItem=e;t.valueLabels.push(o)}t.index++;r=t.markerSize;r<n+7&&(r=n+7,AmCharts.VML&&(r+=3));n=t.container.rect(e.legendEntryWidth,0,s,r,0,0).attr({stroke:"none",fill:"#fff","fill-opacity":.005});n.dItem=e;t.entries[t.index-1].push(n);n.mouseover(function(n){t.rollOverLabel(e,n)}).mouseout(function(n){t.rollOutLabel(e,n)}).click(function(n){t.clickLabel(e,n)})}},createV:function(){var e=this.markerSize;return AmCharts.polygon(this.container,[e/5,e/2,e-e/5,e/2],[e/3,e-e/5,e/5,e/1.7],this.switchColor)},createX:function(){var e=(this.markerSize-4)/2,t={stroke:this.switchColor,"stroke-width":3},n=this.container,r=AmCharts.line(n,[-e,e],[-e,e]).attr(t),e=AmCharts.line(n,[-e,e],[e,-e]).attr(t);return this.container.set([r,e])},createMarker:function(e,t,n,r,i,s,o,u){var a=this.markerSize,f=this.container;i||(i=this.markerBorderColor);i||(i=t);isNaN(r)&&(r=this.markerBorderThickness);isNaN(s)&&(s=this.markerBorderAlpha);return AmCharts.bullet(f,e,a,t,n,r,i,s,a,o,u)},validateNow:function(){this.invalidateSize()},updateValues:function(){var e=this.valueLabels,t=this.chart,n,r=this.data;for(n=0;n<e.length;n++){var i=e[n],s=i.dItem,o=" ";if(r)s.value?i.text(s.value):i.text("");else{if(void 0!==s.type){var u=s.currentDataItem,a=this.periodValueText;s.legendPeriodValueText&&(a=s.legendPeriodValueText);u?(o=this.valueText,s.legendValueText&&(o=s.legendValueText),o=t.formatString(o,u)):a&&(o=t.formatPeriodString(a,s))}else o=t.formatString(this.valueText,s);if(a=this.valueFunction)u&&(s=u),o=a(s,o);i.text(o)}}},renderFix:function(){if(!AmCharts.VML){var e=this.container;e&&e.renderFix()}},destroy:function(){this.div.innerHTML="";AmCharts.remove(this.set)}});AmCharts.formatMilliseconds=function(e,t){if(-1!=e.indexOf("fff")){var n=t.getMilliseconds(),r=String(n);10>n&&(r="00"+n);10<=n&&100>n&&(r="0"+n);e=e.replace(/fff/g,r)}return e};AmCharts.extractPeriod=function(e){var t=AmCharts.stripNumbers(e),n=1;t!=e&&(n=Number(e.slice(0,e.indexOf(t))));return{period:t,count:n}};AmCharts.newDate=function(e,t){return"fff"==t?AmCharts.useUTC?new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()):new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()):new Date(e)};AmCharts.resetDateToMin=function(e,t,n,r){void 0===r&&(r=1);var i,s,o,u,a,f,l;AmCharts.useUTC?(i=e.getUTCFullYear(),s=e.getUTCMonth(),o=e.getUTCDate(),u=e.getUTCHours(),a=e.getUTCMinutes(),f=e.getUTCSeconds(),l=e.getUTCMilliseconds(),e=e.getUTCDay()):(i=e.getFullYear(),s=e.getMonth(),o=e.getDate(),u=e.getHours(),a=e.getMinutes(),f=e.getSeconds(),l=e.getMilliseconds(),e=e.getDay());switch(t){case"YYYY":i=Math.floor(i/n)*n;s=0;o=1;l=f=a=u=0;break;case"MM":s=Math.floor(s/n)*n;o=1;l=f=a=u=0;break;case"WW":0===e&&0<r&&(e=7);o=o-e+r;l=f=a=u=0;break;case"DD":l=f=a=u=0;break;case"hh":u=Math.floor(u/n)*n;l=f=a=0;break;case"mm":a=Math.floor(a/n)*n;l=f=0;break;case"ss":f=Math.floor(f/n)*n;l=0;break;case"fff":l=Math.floor(l/n)*n}AmCharts.useUTC?(e=new Date,e.setUTCFullYear(i,s,o),e.setUTCHours(u,a,f,l)):e=new Date(i,s,o,u,a,f,l);return e};AmCharts.getPeriodDuration=function(e,t){void 0===t&&(t=1);var n;switch(e){case"YYYY":n=316224e5;break;case"MM":n=26784e5;break;case"WW":n=6048e5;break;case"DD":n=864e5;break;case"hh":n=36e5;break;case"mm":n=6e4;break;case"ss":n=1e3;break;case"fff":n=1}return n*t};AmCharts.intervals={s:{nextInterval:"ss",contains:1e3},ss:{nextInterval:"mm",contains:60,count:0},mm:{nextInterval:"hh",contains:60,count:1},hh:{nextInterval:"DD",contains:24,count:2},DD:{nextInterval:"",contains:Infinity,count:3}};AmCharts.getMaxInterval=function(e,t){var n=AmCharts.intervals;return e>=n[t].contains?(e=Math.round(e/n[t].contains),t=n[t].nextInterval,AmCharts.getMaxInterval(e,t)):"ss"==t?n[t].nextInterval:t};AmCharts.dayNames="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ");AmCharts.shortDayNames="Sun Mon Tue Wed Thu Fri Sat".split(" ");AmCharts.monthNames="January February March April May June July August September October November December".split(" ");AmCharts.shortMonthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");AmCharts.getWeekNumber=function(e){e=new Date(e);e.setHours(0,0,0);e.setDate(e.getDate()+4-(e.getDay()||7));var t=new Date(e.getFullYear(),0,1);return Math.ceil(((e-t)/864e5+1)/7)};AmCharts.stringToDate=function(e,t){var n={},r=[{pattern:"YYYY",period:"year"},{pattern:"YY",period:"year"},{pattern:"MM",period:"month"},{pattern:"M",period:"month"},{pattern:"DD",period:"date"},{pattern:"D",period:"date"},{pattern:"JJ",period:"hours"},{pattern:"J",period:"hours"},{pattern:"HH",period:"hours"},{pattern:"H",period:"hours"},{pattern:"KK",period:"hours"},{pattern:"K",period:"hours"},{pattern:"LL",period:"hours"},{pattern:"L",period:"hours"},{pattern:"NN",period:"minutes"},{pattern:"N",period:"minutes"},{pattern:"SS",period:"seconds"},{pattern:"S",period:"seconds"},{pattern:"QQQ",period:"milliseconds"},{pattern:"QQ",period:"milliseconds"},{pattern:"Q",period:"milliseconds"}],i=!0,s=t.indexOf("AA");-1!=s&&(e.substr(s,2),"pm"==e.toLowerCase&&(i=!1));var s=t,o,u,a;for(a=0;a<r.length;a++)u=r[a].period,n[u]=0,"date"==u&&(n[u]=1);for(a=0;a<r.length;a++)if(o=r[a].pattern,u=r[a].period,-1!=t.indexOf(o)){var f=AmCharts.getFromDateString(o,e,s);t=t.replace(o,"");if("KK"==o||"K"==o||"LL"==o||"L"==o)i||(f+=12);n[u]=f}AmCharts.useUTC?(r=new Date,r.setUTCFullYear(n.year,n.month,n.date),r.setUTCHours(n.hours,n.minutes,n.seconds,n.milliseconds)):r=new Date(n.year,n.month,n.date,n.hours,n.minutes,n.seconds,n.milliseconds);return r};AmCharts.getFromDateString=function(e,t,n){if(void 0!==t)return n=n.indexOf(e),t=String(t),t=t.substr(n,e.length),"0"==t.charAt(0)&&(t=t.substr(1,t.length-1)),t=Number(t),isNaN(t)&&(t=0),-1!=e.indexOf("M")&&t--,t};AmCharts.formatDate=function(e,t,n){n||(n=AmCharts);var r,i,s,o,u,a,f,l=AmCharts.getWeekNumber(e);AmCharts.useUTC?(r=e.getUTCFullYear(),i=e.getUTCMonth(),s=e.getUTCDate(),o=e.getUTCDay(),u=e.getUTCHours(),a=e.getUTCMinutes(),f=e.getUTCSeconds(),e=e.getUTCMilliseconds()):(r=e.getFullYear(),i=e.getMonth(),s=e.getDate(),o=e.getDay(),u=e.getHours(),a=e.getMinutes(),f=e.getSeconds(),e=e.getMilliseconds());var c=String(r).substr(2,2),h=i+1;9>i&&(h="0"+h);var p="0"+o;t=t.replace(/W/g,l);l=u;24==l&&(l=0);var d=l;10>d&&(d="0"+d);t=t.replace(/JJ/g,d);t=t.replace(/J/g,l);d=u;0===d&&(d=24,-1!=t.indexOf("H")&&s--);l=s;10>s&&(l="0"+s);var v=d;10>v&&(v="0"+v);t=t.replace(/HH/g,v);t=t.replace(/H/g,d);d=u;11<d&&(d-=12);v=d;10>v&&(v="0"+v);t=t.replace(/KK/g,v);t=t.replace(/K/g,d);d=u;0===d&&(d=12);12<d&&(d-=12);v=d;10>v&&(v="0"+v);t=t.replace(/LL/g,v);t=t.replace(/L/g,d);d=a;10>d&&(d="0"+d);t=t.replace(/NN/g,d);t=t.replace(/N/g,a);a=f;10>a&&(a="0"+a);t=t.replace(/SS/g,a);t=t.replace(/S/g,f);f=e;10>f&&(f="00"+f);100>f&&(f="0"+f);a=e;10>a&&(a="00"+a);t=t.replace(/QQQ/g,f);t=t.replace(/QQ/g,a);t=t.replace(/Q/g,e);t=12>u?t.replace(/A/g,"am"):t.replace(/A/g,"pm");t=t.replace(/YYYY/g,"@IIII@");t=t.replace(/YY/g,"@II@");t=t.replace(/MMMM/g,"@XXXX@");t=t.replace(/MMM/g,"@XXX@");t=t.replace(/MM/g,"@XX@");t=t.replace(/M/g,"@X@");t=t.replace(/DD/g,"@RR@");t=t.replace(/D/g,"@R@");t=t.replace(/EEEE/g,"@PPPP@");t=t.replace(/EEE/g,"@PPP@");t=t.replace(/EE/g,"@PP@");t=t.replace(/E/g,"@P@");t=t.replace(/@IIII@/g,r);t=t.replace(/@II@/g,c);t=t.replace(/@XXXX@/g,n.monthNames[i]);t=t.replace(/@XXX@/g,n.shortMonthNames[i]);t=t.replace(/@XX@/g,h);t=t.replace(/@X@/g,i+1);t=t.replace(/@RR@/g,l);t=t.replace(/@R@/g,s);t=t.replace(/@PPPP@/g,n.dayNames[o]);t=t.replace(/@PPP@/g,n.shortDayNames[o]);t=t.replace(/@PP@/g,p);return t=t.replace(/@P@/g,o)};AmCharts.changeDate=function(e,t,n,r,i){if(AmCharts.useUTC)return AmCharts.changeUTCDate(e,t,n,r,i);var s=-1;void 0===r&&(r=!0);void 0===i&&(i=!1);!0===r&&(s=1);switch(t){case"YYYY":e.setFullYear(e.getFullYear()+n*s);r||i||e.setDate(e.getDate()+1);break;case"MM":t=e.getMonth();e.setMonth(e.getMonth()+n*s);e.getMonth()>t+n*s&&e.setDate(e.getDate()-1);r||i||e.setDate(e.getDate()+1);break;case"DD":e.setDate(e.getDate()+n*s);break;case"WW":e.setDate(e.getDate()+n*s*7);break;case"hh":e.setHours(e.getHours()+n*s);break;case"mm":e.setMinutes(e.getMinutes()+n*s);break;case"ss":e.setSeconds(e.getSeconds()+n*s);break;case"fff":e.setMilliseconds(e.getMilliseconds()+n*s)}return e};AmCharts.changeUTCDate=function(e,t,n,r,i){var s=-1;void 0===r&&(r=!0);void 0===i&&(i=!1);!0===r&&(s=1);switch(t){case"YYYY":e.setUTCFullYear(e.getUTCFullYear()+n*s);r||i||e.setUTCDate(e.getUTCDate()+1);break;case"MM":t=e.getUTCMonth();e.setUTCMonth(e.getUTCMonth()+n*s);e.getUTCMonth()>t+n*s&&e.setUTCDate(e.getUTCDate()-1);r||i||e.setUTCDate(e.getUTCDate()+1);break;case"DD":e.setUTCDate(e.getUTCDate()+n*s);break;case"WW":e.setUTCDate(e.getUTCDate()+n*s*7);break;case"hh":e.setUTCHours(e.getUTCHours()+n*s);break;case"mm":e.setUTCMinutes(e.getUTCMinutes()+n*s);break;case"ss":e.setUTCSeconds(e.getUTCSeconds()+n*s);break;case"fff":e.setUTCMilliseconds(e.getUTCMilliseconds()+n*s)}return e};AmCharts.AmFunnelChart=AmCharts.Class({inherits:AmCharts.AmSlicedChart,construct:function(e){this.type="funnel";AmCharts.AmFunnelChart.base.construct.call(this,e);this.cname="AmFunnelChart";this.startX=this.startY=0;this.baseWidth="100%";this.neckHeight=this.neckWidth=0;this.rotate=!1;this.valueRepresents="height";this.pullDistance=30;this.labelPosition="center";this.labelText="[[title]]: [[value]]";this.balloonText="[[title]]: [[value]]\n[[description]]";AmCharts.applyTheme(this,e,this.cname)},drawChart:function(){AmCharts.AmFunnelChart.base.drawChart.call(this);var e=this.chartData;if(AmCharts.ifArray(e))if(0<this.realWidth&&0<this.realHeight){var t=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180)),n=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180)),r=this.container,i=this.startDuration,s=this.rotate,o=this.updateWidth();this.realWidth=o;var u=this.updateHeight();this.realHeight=u;var a=AmCharts.toCoordinate,f=a(this.marginLeft,o),l=a(this.marginRight,o),c=a(this.marginTop,u)+this.getTitleHeight(),a=a(this.marginBottom,u);0<t&&0>n&&(this.neckHeight=this.neckWidth=0,s?a-=n/2:c-=n/2);var l=o-f-l,h=AmCharts.toCoordinate(this.baseWidth,l),p=AmCharts.toCoordinate(this.neckWidth,l),d=u-a-c,v=AmCharts.toCoordinate(this.neckHeight,d),m=c+d-v;s&&(c=u-a,m=c-d+v);this.firstSliceY=c;AmCharts.VML&&(this.startAlpha=1);for(var g=l/2+f,y=(d-v)/((h-p)/2),b=1,w=h/2,h=(d-v)*(h+p)/2+p*v,E=c,S=0,v=0;v<e.length;v++){var x=e[v],T;if(!0!==x.hidden){var N=[],C=[],k;if("height"==this.valueRepresents)k=d*x.percents/100;else{var L=-h*x.percents/100/2,A=w;T=-1/(2*y);k=Math.pow(A,2)-4*T*L;0>k&&(k=0);k=(Math.sqrt(k)-A)/(2*T);if(!s&&c>=m||s&&c<=m)k=2*-L/p;else if(!s&&c+k>m||s&&c-k<m)T=s?Math.round(k+(c-k-m)):Math.round(k-(c+k-m)),k=T/y,k=T+2*(-L-(A-k/2)*T)/p}L=w-k/y;A=!1;!s&&c+k>m||s&&c-k<m?(L=p/2,N.push(g-w,g+w,g+L,g+L,g-L,g-L),s?(T=k+(c-k-m),c<m&&(T=0),C.push(c,c,c-T,c-k,c-k,c-T,c)):(T=k-(c+k-m),c>m&&(T=0),C.push(c,c,c+T,c+k,c+k,c+T,c)),A=!0):(N.push(g-w,g+w,g+L,g-L),s?C.push(c,c,c-k,c-k):C.push(c,c,c+k,c+k));r.set();T=r.set();0<t&&0>n?(C=L/w,N=-1,s||(N=1),isNaN(b)&&(b=0),N=(new AmCharts.Cuboid(r,2*w,N*k,t,n*b,x.color,x.alpha,this.outlineThickness,this.outlineColor,this.outlineAlpha,90,0,!1,0,x.pattern,C)).set,N.translate(g-w,c-n/2*b),b*=C):N=AmCharts.polygon(r,N,C,x.color,x.alpha,this.outlineThickness,this.outlineColor,this.outlineAlpha);AmCharts.setCN(this,T,"funnel-item");AmCharts.setCN(this,N,"funnel-slice");AmCharts.setCN(this,T,x.className,!0);T.push(N);this.graphsSet.push(T);s||T.toBack();x.wedge=T;x.index=v;if(C=this.gradientRatio){var O=[],M;for(M=0;M<C.length;M++)O.push(AmCharts.adjustLuminosity(x.color,C[M]));0<O.length&&N.gradient("linearGradient",O);x.pattern&&N.pattern(x.pattern)}0<i&&(this.chartCreated||T.setAttr("opacity",this.startAlpha));this.addEventListeners(T,x);x.ty0=c-k/2;if(this.labelsEnabled&&this.labelText&&x.percents>=this.hideLabelsPercent){O=this.formatString(this.labelText,x);(N=this.labelFunction)&&(O=N(x,O));M=x.labelColor;M||(M=this.color);var C=this.labelPosition,_="left";"center"==C&&(_="middle");"left"==C&&(_="right");N=void 0;""!=O&&(N=AmCharts.wrappedText(r,O,M,this.fontFamily,this.fontSize,_,!1,this.maxLabelWidth),AmCharts.setCN(this,N,"funnel-label"),AmCharts.setCN(this,N,x.className,!0),N.node.style.pointerEvents="none",T.push(N),O=g,s?(M=c-k/2,x.ty0=M):(M=c+k/2,x.ty0=M,M<E+S+5&&(M=E+S+5),M>u-a&&(M=u-a)),"right"==C&&(O=l+10+f,x.tx0=g+(w-k/2/y),A&&(x.tx0=g+L)),"left"==C&&(x.tx0=g-(w-k/2/y),A&&(x.tx0=g-L),O=f),x.label=N,x.labelX=O,x.labelY=M,x.labelHeight=N.getBBox().height,N.translate(O,M),w=N.getBBox(),E=AmCharts.rect(r,w.width+5,w.height+5,"#ffffff",.005),E.translate(O+w.x,M+w.y),T.push(E),x.hitRect=E,S=N.getBBox().height,E=M)}(0===x.alpha||0<i&&!this.chartCreated)&&T.hide();c=s?c-k:c+k;w=L;x.startX=AmCharts.toCoordinate(this.startX,o);x.startY=AmCharts.toCoordinate(this.startY,u);x.pullX=AmCharts.toCoordinate(this.pullDistance,o);x.pullY=0;x.balloonX=g;x.balloonY=x.ty0}}this.arrangeLabels();this.initialStart();(e=this.legend)&&e.invalidateSize()}else this.cleanChart();this.dispDUpd();this.chartCreated=!0},arrangeLabels:function(){var e=this.rotate,t;t=e?0:this.realHeight;for(var n=0,r=this.chartData,i=r.length,s,o=0;o<i;o++){s=r[i-o-1];var u=s.label,a=s.labelY,f=s.labelX,l=s.labelHeight,c=a;e?t+n+5>a&&(c=t+n+5):a+l+5>t&&(c=t-5-l);t=c;n=l;if(u){u.translate(f,c);var h=u.getBBox()}s.hitRect&&s.hitRect.translate(f+h.x,c+h.y);s.labelY=c;s.tx=f;s.ty=c;s.tx2=f}"center"!=this.labelPosition&&this.drawTicks()}});AmCharts.Cuboid=AmCharts.Class({construct:function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m){this.set=e.set();this.container=e;this.h=Math.round(n);this.w=Math.round(t);this.dx=r;this.dy=i;this.colors=s;this.alpha=o;this.bwidth=u;this.bcolor=a;this.balpha=f;this.dashLength=p;this.topRadius=v;this.pattern=d;this.rotate=h;this.bcn=m;h?0>t&&0===l&&(l=180):0>n&&270==l&&(l=90);this.gradientRotation=l;0===r&&0===i&&(this.cornerRadius=c);this.draw()},draw:function(){var e=this.set;e.clear();var t=this.container,n=t.chart,r=this.w,i=this.h,s=this.dx,o=this.dy,u=this.colors,a=this.alpha,f=this.bwidth,l=this.bcolor,c=this.balpha,h=this.gradientRotation,p=this.cornerRadius,d=this.dashLength,v=this.pattern,m=this.topRadius,g=this.bcn,y=u,b=u;"object"==typeof u&&(y=u[0],b=u[u.length-1]);var w,E,S,x,T,N,C,k,L,A=a;v&&(a=0);var O,M,_,D,P=this.rotate;if(0<Math.abs(s)||0<Math.abs(o))if(isNaN(m))C=b,b=AmCharts.adjustLuminosity(y,-.2),b=AmCharts.adjustLuminosity(y,-.2),w=AmCharts.polygon(t,[0,s,r+s,r,0],[0,o,o,0,0],b,a,1,l,0,h),0<c&&(L=AmCharts.line(t,[0,s,r+s],[0,o,o],l,c,f,d)),E=AmCharts.polygon(t,[0,0,r,r,0],[0,i,i,0,0],b,a,1,l,0,h),E.translate(s,o),0<c&&(S=AmCharts.line(t,[s,s],[o,o+i],l,c,f,d)),x=AmCharts.polygon(t,[0,0,s,s,0],[0,i,i+o,o,0],b,a,1,l,0,h),T=AmCharts.polygon(t,[r,r,r+s,r+s,r],[0,i,i+o,o,0],b,a,1,l,0,h),0<c&&(N=AmCharts.line(t,[r,r+s,r+s,r],[0,o,i+o,i],l,c,f,d)),b=AmCharts.adjustLuminosity(C,.2),C=AmCharts.polygon(t,[0,s,r+s,r,0],[i,i+o,i+o,i,i],b,a,1,l,0,h),0<c&&(k=AmCharts.line(t,[0,s,r+s],[i,i+o,i+o],l,c,f,d));else{var H,B,j;P?(H=i/2,b=s/2,j=i/2,B=r+s/2,M=Math.abs(i/2),O=Math.abs(s/2)):(b=r/2,H=o/2,B=r/2,j=i+o/2+1,O=Math.abs(r/2),M=Math.abs(o/2));_=O*m;D=M*m;.1<O&&.1<O&&(w=AmCharts.circle(t,O,y,a,f,l,c,!1,M),w.translate(b,H));.1<_&&.1<_&&(C=AmCharts.circle(t,_,AmCharts.adjustLuminosity(y,.5),a,f,l,c,!1,D),C.translate(B,j))}a=A;1>Math.abs(i)&&(i=0);1>Math.abs(r)&&(r=0);!isNaN(m)&&(0<Math.abs(s)||0<Math.abs(o))?(u=[y],u={fill:u,stroke:l,"stroke-width":f,"stroke-opacity":c,"fill-opacity":a},P?(a="M0,0 L"+r+","+(i/2-i/2*m),f=" B",0<r&&(f=" A"),AmCharts.VML?(a+=f+Math.round(r-_)+","+Math.round(i/2-D)+","+Math.round(r+_)+","+Math.round(i/2+D)+","+r+",0,"+r+","+i,a=a+(" L0,"+i)+(f+Math.round(-O)+","+Math.round(i/2-M)+","+Math.round(O)+","+Math.round(i/2+M)+",0,"+i+",0,0")):(a+="A"+_+","+D+",0,0,0,"+r+","+(i-i/2*(1-m))+"L0,"+i,a+="A"+O+","+M+",0,0,1,0,0"),O=90):(f=r/2-r/2*m,a="M0,0 L"+f+","+i,AmCharts.VML?(a="M0,0 L"+f+","+i,f=" B",0>i&&(f=" A"),a+=f+Math.round(r/2-_)+","+Math.round(i-D)+","+Math.round(r/2+_)+","+Math.round(i+D)+",0,"+i+","+r+","+i,a+=" L"+r+",0",a+=f+Math.round(r/2+O)+","+Math.round(M)+","+Math.round(r/2-O)+","+Math.round(-M)+","+r+",0,0,0"):(a+="A"+_+","+D+",0,0,0,"+(r-r/2*(1-m))+","+i+"L"+r+",0",a+="A"+O+","+M+",0,0,1,0,0"),O=180),t=t.path(a).attr(u),t.gradient("linearGradient",[y,AmCharts.adjustLuminosity(y,-.3),AmCharts.adjustLuminosity(y,-.3),y],O),P?t.translate(s/2,0):t.translate(0,o/2)):t=0===i?AmCharts.line(t,[0,r],[0,0],l,c,f,d):0===r?AmCharts.line(t,[0,0],[0,i],l,c,f,d):0<p?AmCharts.rect(t,r,i,u,a,f,l,c,p,h,d):AmCharts.polygon(t,[0,0,r,r,0],[0,i,i,0,0],u,a,f,l,c,h,!1,d);r=isNaN(m)?0>i?[w,L,E,S,x,T,N,C,k,t]:[C,k,E,S,x,T,w,L,N,t]:P?0<r?[w,t,C]:[C,t,w]:0>i?[w,t,C]:[C,t,w];AmCharts.setCN(n,t,g+"front");AmCharts.setCN(n,E,g+"back");AmCharts.setCN(n,C,g+"top");AmCharts.setCN(n,w,g+"bottom");AmCharts.setCN(n,x,g+"left");AmCharts.setCN(n,T,g+"right");for(w=0;w<r.length;w++)if(E=r[w])e.push(E),AmCharts.setCN(n,E,g+"element");v&&t.pattern(v)},width:function(e){isNaN(e)&&(e=0);this.w=Math.round(e);this.draw()},height:function(e){isNaN(e)&&(e=0);this.h=Math.round(e);this.draw()},animateHeight:function(e,t){var n=this;n.easing=t;n.totalFrames=Math.round(1e3*e/AmCharts.updateRate);n.rh=n.h;n.frame=0;n.height(1);setTimeout(function(){n.updateHeight.call(n)},AmCharts.updateRate)},updateHeight:function(){var e=this;e.frame++;var t=e.totalFrames;e.frame<=t&&(t=e.easing(0,e.frame,1,e.rh-1,t),e.height(t),setTimeout(function(){e.updateHeight.call(e)},AmCharts.updateRate))},animateWidth:function(e,t){var n=this;n.easing=t;n.totalFrames=Math.round(1e3*e/AmCharts.updateRate);n.rw=n.w;n.frame=0;n.width(1);setTimeout(function(){n.updateWidth.call(n)},AmCharts.updateRate)},updateWidth:function(){var e=this;e.frame++;var t=e.totalFrames;e.frame<=t&&(t=e.easing(0,e.frame,1,e.rw-1,t),e.width(t),setTimeout(function(){e.updateWidth.call(e)},AmCharts.updateRate))}});AmCharts.GaugeAxis=AmCharts.Class({construct:function(e){this.cname="GaugeAxis";this.radius="95%";this.labelsEnabled=!0;this.startAngle=-120;this.endAngle=120;this.startValue=0;this.endValue=200;this.gridCount=5;this.tickLength=10;this.minorTickLength=5;this.tickColor="#555555";this.labelFrequency=this.tickThickness=this.tickAlpha=1;this.inside=!0;this.labelOffset=10;this.showLastLabel=this.showFirstLabel=!0;this.axisThickness=1;this.axisColor="#000000";this.axisAlpha=1;this.gridInside=!0;this.topTextYOffset=0;this.topTextBold=!0;this.bottomTextYOffset=0;this.bottomTextBold=!0;this.centerY=this.centerX="0%";this.bandOutlineAlpha=this.bandOutlineThickness=0;this.bandOutlineColor="#000000";this.bandAlpha=1;this.bcn="gauge-axis";AmCharts.applyTheme(this,e,"GaugeAxis")},value2angle:function(e){return(e-this.startValue)/(this.endValue-this.startValue)*(this.endAngle-this.startAngle)+this.startAngle},setTopText:function(e){if(void 0!==e){this.topText=e;var t=this.chart;if(this.axisCreated){this.topTF&&this.topTF.remove();var n=this.topTextFontSize;n||(n=t.fontSize);var r=this.topTextColor;r||(r=t.color);e=AmCharts.text(t.container,e,r,t.fontFamily,n,void 0,this.topTextBold);AmCharts.setCN(t,e,"axis-top-label");e.translate(this.centerXReal,this.centerYReal-this.radiusReal/2+this.topTextYOffset);this.set.push(e);this.topTF=e}}},setBottomText:function(e){if(void 0!==e){this.bottomText=e;var t=this.chart;if(this.axisCreated){this.bottomTF&&this.bottomTF.remove();var n=this.bottomTextFontSize;n||(n=t.fontSize);var r=this.bottomTextColor;r||(r=t.color);e=AmCharts.text(t.container,e,r,t.fontFamily,n,void 0,this.bottomTextBold);AmCharts.setCN(t,e,"axis-bottom-label");e.translate(this.centerXReal,this.centerYReal+this.radiusReal/2+this.bottomTextYOffset);this.bottomTF=e;this.set.push(e)}}},draw:function(){var e=this.chart,t=e.container.set();this.set=t;AmCharts.setCN(e,t,this.bcn);AmCharts.setCN(e,t,this.bcn+"-"+this.id);e.graphsSet.push(t);var n=this.startValue,r=this.endValue,i=this.valueInterval;isNaN(i)&&(i=(r-n)/this.gridCount);var s=this.minorTickInterval;isNaN(s)&&(s=i/5);var o=this.startAngle,u=this.endAngle,a=this.tickLength,r=(r-n)/i+1,f=(u-o)/(r-1),l=f/i;this.singleValueAngle=l;var c=e.container,h=this.tickColor,p=this.tickAlpha,d=this.tickThickness,s=i/s,v=f/s,m=this.minorTickLength,g=this.labelFrequency,y=this.radiusReal;this.inside||(y-=15);var b=e.centerX+AmCharts.toCoordinate(this.centerX,e.realWidth),w=e.centerY+AmCharts.toCoordinate(this.centerY,e.realHeight);this.centerXReal=b;this.centerYReal=w;var E={fill:this.axisColor,"fill-opacity":this.axisAlpha,"stroke-width":0,"stroke-opacity":0},S,x;this.gridInside?x=S=y:(S=y-a,x=S+m);var T=this.bands;if(T)for(var N=0;N<T.length;N++){var C=T[N];if(C){var k=C.startValue,L=C.endValue,A=AmCharts.toCoordinate(C.radius,y);isNaN(A)&&(A=x);var O=AmCharts.toCoordinate(C.innerRadius,y);isNaN(O)&&(O=A-m);var M=o+l*(k-this.startValue),L=l*(L-k),_=C.outlineColor;void 0==_&&(_=this.bandOutlineColor);var D=C.outlineThickness;isNaN(D)&&(D=this.bandOutlineThickness);var P=C.outlineAlpha;isNaN(P)&&(P=this.bandOutlineAlpha);k=C.alpha;isNaN(k)&&(k=this.bandAlpha);A=AmCharts.wedge(c,b,w,M,L,A,A,O,0,{fill:C.color,stroke:_,"stroke-width":D,"stroke-opacity":P});AmCharts.setCN(e,A.wedge,"axis-band");void 0!=C.id&&AmCharts.setCN(e,A.wedge,"axis-band-"+C.id);A.setAttr("opacity",k);this.set.push(A);this.addEventListeners(A,C)}}l=this.axisThickness/2;u=AmCharts.wedge(c,b,w,o,u-o,S+l,S+l,S-l,0,E);AmCharts.setCN(e,u.wedge,"axis-line");t.push(u);u=AmCharts.doNothing;AmCharts.isModern||(u=Math.round);i=AmCharts.roundTo(i,14);l=AmCharts.getDecimals(i);for(E=0;E<r;E++)if(T=n+E*i,S=o+E*f,N=u(b+y*Math.sin(S/180*Math.PI)),C=u(w-y*Math.cos(S/180*Math.PI)),A=u(b+(y-a)*Math.sin(S/180*Math.PI)),O=u(w-(y-a)*Math.cos(S/180*Math.PI)),N=AmCharts.line(c,[N,A],[C,O],h,p,d,0,!1,!1,!0),AmCharts.setCN(e,N,"axis-tick"),t.push(N),N=-1,A=this.labelOffset,this.inside||(A=-A-a,N=1),C=Math.sin(S/180*Math.PI),O=Math.cos(S/180*Math.PI),C=b+(y-a-A)*C,A=w-(y-a-A)*O,k=this.fontSize,isNaN(k)&&(k=e.fontSize),O=Math.sin((S-90)/180*Math.PI),M=Math.cos((S-90)/180*Math.PI),0<g&&this.labelsEnabled&&E/g==Math.round(E/g)&&(this.showLastLabel||E!=r-1)&&(this.showFirstLabel||0!==E)&&(L=this.usePrefixes?AmCharts.addPrefix(T,e.prefixesOfBigNumbers,e.prefixesOfSmallNumbers,e.nf,!0):AmCharts.formatNumber(T,e.nf,l),(_=this.unit)&&(L="left"==this.unitPosition?_+L:L+_),(_=this.labelFunction)&&(L=_(T)),T=AmCharts.text(c,L,e.color,e.fontFamily,k),AmCharts.setCN(e,T,"axis-label"),k=T.getBBox(),T.translate(C+N*k.width/2*M,A+N*k.height/2*O),t.push(T)),E<r-1)for(T=1;T<s;T++)O=S+v*T,N=u(b+x*Math.sin(O/180*Math.PI)),C=u(w-x*Math.cos(O/180*Math.PI)),A=u(b+(x-m)*Math.sin(O/180*Math.PI)),O=u(w-(x-m)*Math.cos(O/180*Math.PI)),N=AmCharts.line(c,[N,A],[C,O],h,p,d,0,!1,!1,!0),AmCharts.setCN(e,N,"axis-tick-minor"),t.push(N);this.axisCreated=!0;this.setTopText(this.topText);this.setBottomText(this.bottomText);e=e.graphsSet.getBBox();this.width=e.width;this.height=e.height},addEventListeners:function(e,t){var n=this.chart;e.mouseover(function(e){n.showBalloon(t.balloonText,t.color,!0)}).mouseout(function(e){n.hideBalloon()})}});AmCharts.GaugeArrow=AmCharts.Class({construct:function(e){this.cname="GaugeArrow";this.color="#000000";this.nailAlpha=this.alpha=1;this.startWidth=this.nailRadius=8;this.endWidth=0;this.borderAlpha=1;this.radius="90%";this.nailBorderAlpha=this.innerRadius=0;this.nailBorderThickness=1;this.frame=0;AmCharts.applyTheme(this,e,"GaugeArrow")},setValue:function(e){var t=this.chart;t?t.setValue?t.setValue(this,e):this.previousValue=this.value=e:this.previousValue=this.value=e}});AmCharts.GaugeBand=AmCharts.Class({construct:function(){this.cname="GaugeBand"}});AmCharts.AmAngularGauge=AmCharts.Class({inherits:AmCharts.AmChart,construct:function(e){this.cname="AmAngularGauge";AmCharts.AmAngularGauge.base.construct.call(this,e);this.theme=e;this.type="gauge";this.minRadius=this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=10;this.faceColor="#FAFAFA";this.faceAlpha=0;this.faceBorderWidth=1;this.faceBorderColor="#555555";this.faceBorderAlpha=0;this.arrows=[];this.axes=[];this.startDuration=1;this.startEffect="easeOutSine";this.adjustSize=!0;this.extraHeight=this.extraWidth=0;AmCharts.applyTheme(this,e,this.cname)},addAxis:function(e){this.axes.push(e)},formatString:function(e,t){return e=AmCharts.formatValue(e,t,["value"],this.nf,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers)},initChart:function(){AmCharts.AmAngularGauge.base.initChart.call(this);var e;0===this.axes.length&&(e=new AmCharts.GaugeAxis(this.theme),this.addAxis(e));var t;for(t=0;t<this.axes.length;t++)e=this.axes[t],e=AmCharts.processObject(e,AmCharts.GaugeAxis,this.theme),e.id||(e.id="axisAuto"+t+"_"+(new Date).getTime()),e.chart=this,this.axes[t]=e;var n=this.arrows;for(t=0;t<n.length;t++){e=n[t];e=AmCharts.processObject(e,AmCharts.GaugeArrow,this.theme);e.id||(e.id="arrowAuto"+t+"_"+(new Date).getTime());e.chart=this;n[t]=e;var r=e.axis;AmCharts.isString(r)&&(e.axis=AmCharts.getObjById(this.axes,r));e.axis||(e.axis=this.axes[0]);isNaN(e.value)&&e.setValue(e.axis.startValue);isNaN(e.previousValue)&&(e.previousValue=e.axis.startValue)}this.setLegendData(n);this.drawChart();this.totalFrames=1e3*this.startDuration/AmCharts.updateRate},drawChart:function(){AmCharts.AmAngularGauge.base.drawChart.call(this);var e=this.container,t=this.updateWidth();this.realWidth=t;var n=this.updateHeight();this.realHeight=n;var r=AmCharts.toCoordinate,i=r(this.marginLeft,t),s=r(this.marginRight,t),o=r(this.marginTop,n)+this.getTitleHeight(),u=r(this.marginBottom,n),a=r(this.radius,t,n),r=t-i-s,f=n-o-u+this.extraHeight;a||(a=Math.min(r,f)/2);a<this.minRadius&&(a=this.minRadius);this.radiusReal=a;this.centerX=(t-i-s)/2+i;this.centerY=(n-o-u)/2+o+this.extraHeight/2;isNaN(this.gaugeX)||(this.centerX=this.gaugeX);isNaN(this.gaugeY)||(this.centerY=this.gaugeY);var t=this.faceAlpha,n=this.faceBorderAlpha,l;if(0<t||0<n)l=AmCharts.circle(e,a,this.faceColor,t,this.faceBorderWidth,this.faceBorderColor,n,!1),l.translate(this.centerX,this.centerY),l.toBack(),(e=this.facePattern)&&l.pattern(e);for(t=a=e=0;t<this.axes.length;t++)n=this.axes[t],i=n.radius,n.radiusReal=AmCharts.toCoordinate(i,this.radiusReal),n.draw(),s=1,-1!==String(i).indexOf("%")&&(s=1+(100-Number(i.substr(0,i.length-1)))/100),n.width*s>e&&(e=n.width*s),n.height*s>a&&(a=n.height*s);(t=this.legend)&&t.invalidateSize();if(this.adjustSize&&!this.chartCreated){l&&(l=l.getBBox(),l.width>e&&(e=l.width),l.height>a&&(a=l.height));l=0;if(f>a||r>e)l=Math.min(f-a,r-e);0<l&&(this.extraHeight=f-a,this.chartCreated=!0,this.validateNow())}this.dispDUpd();this.chartCreated=!0},validateSize:function(){this.extraHeight=this.extraWidth=0;this.chartCreated=!1;AmCharts.AmAngularGauge.base.validateSize.call(this)},addArrow:function(e){this.arrows.push(e)},removeArrow:function(e){AmCharts.removeFromArray(this.arrows,e);this.validateNow()},removeAxis:function(e){AmCharts.removeFromArray(this.axes,e);this.validateNow()},drawArrow:function(e,t){e.set&&e.set.remove();var n=this.container;e.set=n.set();AmCharts.setCN(this,e.set,"gauge-arrow");AmCharts.setCN(this,e.set,"gauge-arrow-"+e.id);if(!e.hidden){var r=e.axis,i=r.radiusReal,s=r.centerXReal,o=r.centerYReal,u=e.startWidth,a=e.endWidth,f=AmCharts.toCoordinate(e.innerRadius,r.radiusReal),l=AmCharts.toCoordinate(e.radius,r.radiusReal);r.inside||(l-=15);var c=e.nailColor;c||(c=e.color);var h=e.nailColor;h||(h=e.color);c=AmCharts.circle(n,e.nailRadius,c,e.nailAlpha,e.nailBorderThickness,c,e.nailBorderAlpha);AmCharts.setCN(this,c,"gauge-arrow-nail");e.set.push(c);c.translate(s,o);isNaN(l)&&(l=i-r.tickLength);var r=Math.sin(t/180*Math.PI),i=Math.cos(t/180*Math.PI),c=Math.sin((t+90)/180*Math.PI),p=Math.cos((t+90)/180*Math.PI),n=AmCharts.polygon(n,[s-u/2*c+f*r,s+l*r-a/2*c,s+l*r+a/2*c,s+u/2*c+f*r],[o+u/2*p-f*i,o-l*i+a/2*p,o-l*i-a/2*p,o-u/2*p-f*i],e.color,e.alpha,1,h,e.borderAlpha,void 0,!0);AmCharts.setCN(this,n,"gauge-arrow");e.set.push(n);this.graphsSet.push(e.set)}},setValue:function(e,t){e.axis&&e.axis.value2angle&&(e.axis.value2angle(t),e.frame=0,e.previousValue=e.value);e.value=t;var n=this.legend;n&&n.updateValues()},handleLegendEvent:function(e){var t=e.type;e=e.dataItem;if(!this.legend.data&&e)switch(t){case"hideItem":this.hideArrow(e);break;case"showItem":this.showArrow(e)}},hideArrow:function(e){e.set.hide();e.hidden=!0},showArrow:function(e){e.set.show();e.hidden=!1},updateAnimations:function(){AmCharts.AmAngularGauge.base.updateAnimations.call(this);for(var e=this.arrows.length,t,n=0;n<e;n++){t=this.arrows[n];var r;t.frame>=this.totalFrames?r=t.value:(t.frame++,t.clockWiseOnly&&t.value<t.previousValue&&(r=t.axis,t.previousValue-=r.endValue-r.startValue),r=AmCharts.getEffect(this.startEffect),r=AmCharts[r](0,t.frame,t.previousValue,t.value-t.previousValue,this.totalFrames),isNaN(r)&&(r=t.value));r=t.axis.value2angle(r);t.drawnAngle!=r&&(this.drawArrow(t,r),t.drawnAngle=r)}}});AmCharts.AmPieChart=AmCharts.Class({inherits:AmCharts.AmSlicedChart,construct:function(e){this.type="pie";AmCharts.AmPieChart.base.construct.call(this,e);this.cname="AmPieChart";this.pieBrightnessStep=30;this.minRadius=10;this.depth3D=0;this.startAngle=90;this.angle=this.innerRadius=0;this.startRadius="500%";this.pullOutRadius="20%";this.labelRadius=20;this.labelText="[[title]]: [[percents]]%";this.balloonText="[[title]]: [[percents]]% ([[value]])\n[[description]]";this.previousScale=1;AmCharts.applyTheme(this,e,this.cname)},drawChart:function(){AmCharts.AmPieChart.base.drawChart.call(this);var e=this.chartData;if(AmCharts.ifArray(e)){if(0<this.realWidth&&0<this.realHeight){AmCharts.VML&&(this.startAlpha=1);var t=this.startDuration,n=this.container,r=this.updateWidth();this.realWidth=r;var i=this.updateHeight();this.realHeight=i;var s=AmCharts.toCoordinate,o=s(this.marginLeft,r),u=s(this.marginRight,r),a=s(this.marginTop,i)+this.getTitleHeight(),f=s(this.marginBottom,i),l,c,h,p=AmCharts.toNumber(this.labelRadius),d=this.measureMaxLabel();d>this.maxLabelWidth&&(d=this.maxLabelWidth);this.labelText&&this.labelsEnabled||(p=d=0);l=void 0===this.pieX?(r-o-u)/2+o:s(this.pieX,this.realWidth);c=void 0===this.pieY?(i-a-f)/2+a:s(this.pieY,i);h=s(this.radius,r,i);h||(r=0<=p?r-o-u-2*d:r-o-u,i=i-a-f,h=Math.min(r,i),i<r&&(h/=1-this.angle/90,h>r&&(h=r)),i=AmCharts.toCoordinate(this.pullOutRadius,h),h=(0<=p?h-1.8*(p+i):h-1.8*i)/2);h<this.minRadius&&(h=this.minRadius);i=s(this.pullOutRadius,h);a=AmCharts.toCoordinate(this.startRadius,h);s=s(this.innerRadius,h);s>=h&&(s=h-1);f=AmCharts.fitToBounds(this.startAngle,0,360);0<this.depth3D&&(f=270<=f?270:90);f-=90;r=h-h*this.angle/90;for(o=0;o<e.length;o++)if(u=e[o],!0!==u.hidden&&0<u.percents){var v=360*u.percents/100,d=Math.sin((f+v/2)/180*Math.PI),m=-Math.cos((f+v/2)/180*Math.PI)*(r/h),g=this.outlineColor;g||(g=u.color);var y=this.alpha;isNaN(u.alpha)||(y=u.alpha);g={fill:u.color,stroke:g,"stroke-width":this.outlineThickness,"stroke-opacity":this.outlineAlpha,"fill-opacity":y};u.url&&(g.cursor="pointer");g=AmCharts.wedge(n,l,c,f,v,h,r,s,this.depth3D,g,this.gradientRatio,u.pattern);AmCharts.setCN(this,g,"pie-item");AmCharts.setCN(this,g.wedge,"pie-slice");AmCharts.setCN(this,g,u.className,!0);this.addEventListeners(g,u);u.startAngle=f;e[o].wedge=g;0<t&&(this.chartCreated||g.setAttr("opacity",this.startAlpha));u.ix=d;u.iy=m;u.wedge=g;u.index=o;if(this.labelsEnabled&&this.labelText&&u.percents>=this.hideLabelsPercent){var b=f+v/2;360<b&&(b-=360);var w=p;isNaN(u.labelRadius)||(w=u.labelRadius);var v=l+d*(h+w),y=c+m*(h+w),E,S=0;if(0<=w){var x;90>=b&&0<=b?(x=0,E="start",S=8):90<=b&&180>b?(x=1,E="start",S=8):180<=b&&270>b?(x=2,E="end",S=-8):270<=b&&360>b&&(x=3,E="end",S=-8);u.labelQuarter=x}else E="middle";var b=this.formatString(this.labelText,u),T=this.labelFunction;T&&(b=T(u,b));T=u.labelColor;T||(T=this.color);""!=b&&(b=AmCharts.wrappedText(n,b,T,this.fontFamily,this.fontSize,E,!1,this.maxLabelWidth),AmCharts.setCN(this,b,"pie-label"),AmCharts.setCN(this,b,u.className,!0),b.translate(v+1.5*S,y),b.node.style.pointerEvents="none",u.tx=v+1.5*S,u.ty=y,0<=w?(w=b.getBBox(),T=AmCharts.rect(n,w.width+5,w.height+5,"#FFFFFF",.005),T.translate(v+1.5*S+w.x,y+w.y),u.hitRect=T,g.push(b),g.push(T)):this.freeLabelsSet.push(b),u.label=b);u.tx=v;u.tx2=v+S;u.tx0=l+d*h;u.ty0=c+m*h}v=s+(h-s)/2;u.pulled&&(v+=this.pullOutRadiusReal);u.balloonX=d*v+l;u.balloonY=m*v+c;u.startX=Math.round(d*a);u.startY=Math.round(m*a);u.pullX=Math.round(d*i);u.pullY=Math.round(m*i);this.graphsSet.push(g);(0===u.alpha||0<t&&!this.chartCreated)&&g.hide();f+=360*u.percents/100}0<p&&!this.labelRadiusField&&this.arrangeLabels();this.pieXReal=l;this.pieYReal=c;this.radiusReal=h;this.innerRadiusReal=s;0<p&&this.drawTicks();this.initialStart();this.setDepths()}(e=this.legend)&&e.invalidateSize()}else this.cleanChart();this.dispDUpd();this.chartCreated=!0},setDepths:function(){var e=this.chartData,t;for(t=0;t<e.length;t++){var n=e[t],r=n.wedge,n=n.startAngle;0<=n&&180>n?r.toFront():180<=n&&r.toBack()}},arrangeLabels:function(){var e=this.chartData,t=e.length,n,r;for(r=t-1;0<=r;r--)n=e[r],0!==n.labelQuarter||n.hidden||this.checkOverlapping(r,n,0,!0,0);for(r=0;r<t;r++)n=e[r],1!=n.labelQuarter||n.hidden||this.checkOverlapping(r,n,1,!1,0);for(r=t-1;0<=r;r--)n=e[r],2!=n.labelQuarter||n.hidden||this.checkOverlapping(r,n,2,!0,0);for(r=0;r<t;r++)n=e[r],3!=n.labelQuarter||n.hidden||this.checkOverlapping(r,n,3,!1,0)},checkOverlapping:function(e,t,n,r,i){var s,o,u=this.chartData,a=u.length,f=t.label;if(f){if(!0===r)for(o=e+1;o<a;o++)u[o].labelQuarter==n&&(s=this.checkOverlappingReal(t,u[o],n))&&(o=a);else for(o=e-1;0<=o;o--)u[o].labelQuarter==n&&(s=this.checkOverlappingReal(t,u[o],n))&&(o=0);!0===s&&100>i&&(s=t.ty+3*t.iy,t.ty=s,f.translate(t.tx2,s),t.hitRect&&(f=f.getBBox(),t.hitRect.translate(t.tx2+f.x,s+f.y)),this.checkOverlapping(e,t,n,r,i+1))}},checkOverlappingReal:function(e,t,n){var r=!1,i=e.label,s=t.label;e.labelQuarter!=n||e.hidden||t.hidden||!s||(i=i.getBBox(),n={},n.width=i.width,n.height=i.height,n.y=e.ty,n.x=e.tx,e=s.getBBox(),s={},s.width=e.width,s.height=e.height,s.y=t.ty,s.x=t.tx,AmCharts.hitTest(n,s)&&(r=!0));return r}});AmCharts.AmRadarChart=AmCharts.Class({inherits:AmCharts.AmCoordinateChart,construct:function(e){this.type="radar";AmCharts.AmRadarChart.base.construct.call(this,e);this.cname="AmRadarChart";this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=0;this.radius="35%";AmCharts.applyTheme(this,e,this.cname)},initChart:function(){AmCharts.AmRadarChart.base.initChart.call(this);this.dataChanged&&(this.updateData(),this.dataChanged=!1,this.dispatchDataUpdated=!0);this.drawChart()},updateData:function(){this.parseData();var e=this.graphs,t;for(t=0;t<e.length;t++)e[t].data=this.chartData},updateGraphs:function(){var e=this.graphs,t;for(t=0;t<e.length;t++){var n=e[t];n.index=t;n.width=this.realRadius;n.height=this.realRadius;n.x=this.marginLeftReal;n.y=this.marginTopReal}},parseData:function(){AmCharts.AmRadarChart.base.parseData.call(this);this.parseSerialData()},updateValueAxes:function(){var e=this.valueAxes,t;for(t=0;t<e.length;t++){var n=e[t];n.axisRenderer=AmCharts.RadAxis;n.guideFillRenderer=AmCharts.RadarFill;n.axisItemRenderer=AmCharts.RadItem;n.autoGridCount=!1;n.x=this.marginLeftReal;n.y=this.marginTopReal;n.width=this.realRadius;n.height=this.realRadius}},drawChart:function(){AmCharts.AmRadarChart.base.drawChart.call(this);var e=this.updateWidth(),t=this.updateHeight(),n=this.marginTop+this.getTitleHeight(),r=this.marginLeft,t=t-n-this.marginBottom;this.marginLeftReal=r+(e-r-this.marginRight)/2;this.marginTopReal=n+t/2;this.realRadius=AmCharts.toCoordinate(this.radius,e,t);this.updateValueAxes();this.updateGraphs();e=this.chartData;if(AmCharts.ifArray(e)){if(0<this.realWidth&&0<this.realHeight){e=e.length-1;r=this.valueAxes;for(n=0;n<r.length;n++)r[n].zoom(0,e);r=this.graphs;for(n=0;n<r.length;n++)r[n].zoom(0,e);(e=this.legend)&&e.invalidateSize()}}else this.cleanChart();this.dispDUpd();this.chartCreated=!0},formatString:function(e,t,n){var r=t.graph;-1!=e.indexOf("[[category]]")&&(e=e.replace(/\[\[category\]\]/g,String(t.serialDataItem.category)));r=r.numberFormatter;r||(r=this.nf);e=AmCharts.formatValue(e,t.values,["value"],r,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers);-1!=e.indexOf("[[")&&(e=AmCharts.formatDataContextValue(e,t.dataContext));return e=AmCharts.AmRadarChart.base.formatString.call(this,e,t,n)},cleanChart:function(){AmCharts.callMethod("destroy",[this.valueAxes,this.graphs])}});AmCharts.RadAxis=AmCharts.Class({construct:function(e){var t=e.chart,n=e.axisThickness,r=e.axisColor,i=e.axisAlpha,s=e.x,o=e.y;this.set=t.container.set();t.axesSet.push(this.set);var u=e.axisTitleOffset,a=e.radarCategoriesEnabled,f=e.chart.fontFamily,l=e.fontSize;void 0===l&&(l=e.chart.fontSize);var c=e.color;void 0===c&&(c=e.chart.color);if(t){this.axisWidth=e.height;var h=t.chartData,p=h.length,d;for(d=0;d<p;d++){var v=180-360/p*d,m=s+this.axisWidth*Math.sin(v/180*Math.PI),g=o+this.axisWidth*Math.cos(v/180*Math.PI);0<i&&(m=AmCharts.line(t.container,[s,m],[o,g],r,i,n),this.set.push(m),AmCharts.setCN(t,m,e.bcn+"line"));if(a){var y="start",m=s+(this.axisWidth+u)*Math.sin(v/180*Math.PI),g=o+(this.axisWidth+u)*Math.cos(v/180*Math.PI);if(180==v||0===v)y="middle",m-=5;0>v&&(y="end",m-=10);180==v&&(g-=5);0===v&&(g+=5);v=AmCharts.text(t.container,h[d].category,c,f,l,y);v.translate(m+5,g);this.set.push(v);AmCharts.setCN(t,v,e.bcn+"title");v.getBBox()}}}}});AmCharts.RadItem=AmCharts.Class({construct:function(e,t,n,r,i,s,o,u){r=e.chart;void 0===n&&(n="");var a=e.chart.fontFamily,f=e.fontSize;void 0===f&&(f=e.chart.fontSize);var l=e.color;void 0===l&&(l=e.chart.color);var c=e.chart.container;this.set=i=c.set();var h=e.axisColor,p=e.axisAlpha,d=e.tickLength,v=e.gridAlpha,m=e.gridThickness,g=e.gridColor,y=e.dashLength,b=e.fillColor,w=e.fillAlpha,E=e.labelsEnabled;s=e.counter;var S=e.inside,x=e.gridType,T,N=e.labelOffset,C;t-=e.height;var k,L=e.x,A=e.y;o?(E=!0,void 0!=o.id&&(C=r.classNamePrefix+"-guide-"+o.id),isNaN(o.tickLength)||(d=o.tickLength),void 0!=o.lineColor&&(g=o.lineColor),isNaN(o.lineAlpha)||(v=o.lineAlpha),isNaN(o.dashLength)||(y=o.dashLength),isNaN(o.lineThickness)||(m=o.lineThickness),!0===o.inside&&(S=!0),void 0!==o.boldLabel&&(u=o.boldLabel)):n||(v/=3,d/=2);var O="end",M=-1;S&&(O="start",M=1);var _;E&&(_=AmCharts.text(c,n,l,a,f,O,u),_.translate(L+(d+3+N)*M,t),i.push(_),AmCharts.setCN(r,_,e.bcn+"label"),o&&AmCharts.setCN(r,_,"guide"),AmCharts.setCN(r,_,C,!0),this.label=_,k=AmCharts.line(c,[L,L+d*M],[t,t],h,p,m),i.push(k),AmCharts.setCN(r,k,e.bcn+"tick"),o&&AmCharts.setCN(r,k,"guide"),AmCharts.setCN(r,k,C,!0));t=Math.round(e.y-t);u=[];a=[];if(0<v){if("polygons"==x){T=e.data.length;for(f=0;f<T;f++)l=180-360/T*f,u.push(t*Math.sin(l/180*Math.PI)),a.push(t*Math.cos(l/180*Math.PI));u.push(u[0]);a.push(a[0]);v=AmCharts.line(c,u,a,g,v,m,y)}else v=AmCharts.circle(c,t,"#FFFFFF",0,m,g,v);v.translate(L,A);i.push(v);AmCharts.setCN(r,v,e.bcn+"grid");AmCharts.setCN(r,v,C,!0);o&&AmCharts.setCN(r,v,"guide")}if(1==s&&0<w&&!o&&""!==n){o=e.previousCoord;if("polygons"==x){for(f=T;0<=f;f--)l=180-360/T*f,u.push(o*Math.sin(l/180*Math.PI)),a.push(o*Math.cos(l/180*Math.PI));T=AmCharts.polygon(c,u,a,b,w)}else T=AmCharts.wedge(c,0,0,0,360,t,t,o,0,{fill:b,"fill-opacity":w,stroke:"#000","stroke-opacity":0,"stroke-width":1});i.push(T);T.translate(L,A);AmCharts.setCN(r,T,e.bcn+"fill");AmCharts.setCN(r,T,C,!0)}!1===e.visible&&(k&&k.hide(),_&&_.hide());""!==n&&(e.counter=0===s?1:0,e.previousCoord=t)},graphics:function(){return this.set},getLabel:function(){return this.label}});AmCharts.RadarFill=AmCharts.Class({construct:function(e,t,n,r){t-=e.axisWidth;n-=e.axisWidth;var i=Math.max(t,n);t=n=Math.min(t,n);n=e.chart;var s=n.container,o=r.fillAlpha,u=r.fillColor,i=Math.abs(i-e.y);t=Math.abs(t-e.y);var a=Math.max(i,t);t=Math.min(i,t);var i=a,a=r.angle+90,f=r.toAngle+90;isNaN(a)&&(a=0);isNaN(f)&&(f=360);this.set=s.set();void 0===u&&(u="#000000");isNaN(o)&&(o=0);if("polygons"==e.gridType){var f=[],l=[],c=e.data.length,h;for(h=0;h<c;h++)a=180-360/c*h,f.push(i*Math.sin(a/180*Math.PI)),l.push(i*Math.cos(a/180*Math.PI));f.push(f[0]);l.push(l[0]);for(h=c;0<=h;h--)a=180-360/c*h,f.push(t*Math.sin(a/180*Math.PI)),l.push(t*Math.cos(a/180*Math.PI));s=AmCharts.polygon(s,f,l,u,o)}else s=AmCharts.wedge(s,0,0,a,f-a,i,i,t,0,{fill:u,"fill-opacity":o,stroke:"#000","stroke-opacity":0,"stroke-width":1});AmCharts.setCN(n,s,"guide-fill");r.id&&AmCharts.setCN(n,s,"guide-fill-"+r.id);this.set.push(s);s.translate(e.x,e.y);this.fill=s},graphics:function(){return this.set},getLabel:function(){}});AmCharts.AmSerialChart=AmCharts.Class({inherits:AmCharts.AmRectangularChart,construct:function(e){this.type="serial";AmCharts.AmSerialChart.base.construct.call(this,e);this.cname="AmSerialChart";this.theme=e;this.createEvents("changed");this.columnSpacing=5;this.columnSpacing3D=0;this.columnWidth=.8;this.updateScrollbar=!0;var t=new AmCharts.CategoryAxis(e);t.chart=this;this.categoryAxis=t;this.zoomOutOnDataUpdate=!0;this.mouseWheelZoomEnabled=this.mouseWheelScrollEnabled=this.rotate=this.skipZoom=!1;this.minSelectedTime=0;AmCharts.applyTheme(this,e,this.cname)},initChart:function(){AmCharts.AmSerialChart.base.initChart.call(this);this.updateCategoryAxis(this.categoryAxis,this.rotate,"categoryAxis");this.dataChanged&&(this.updateData(),this.dataChanged=!1,this.dispatchDataUpdated=!0);var e=this.chartCursor;e&&(e.updateData(),e.fullWidth&&(e.fullRectSet=this.cursorLineSet));var e=this.countColumns(),t=this.graphs,n;for(n=0;n<t.length;n++)t[n].columnCount=e;this.updateScrollbar=!0;this.drawChart();this.autoMargins&&!this.marginsUpdated&&(this.marginsUpdated=!0,this.measureMargins())},handleWheelReal:function(e,t){if(!this.wheelBusy){var n=this.categoryAxis,r=n.parseDates,i=n.minDuration(),s=n=1;this.mouseWheelZoomEnabled?t||(n=-1):t&&(n=-1);var o=this.chartData.length,u=this.lastTime,a=this.firstTime;0>e?r?(o=this.endTime-this.startTime,r=this.startTime+n*i,i=this.endTime+s*i,0<s&&0<n&&i>=u&&(i=u,r=u-o),this.zoomToDates(new Date(r),new Date(i))):(0<s&&0<n&&this.end>=o-1&&(n=s=0),r=this.start+n,i=this.end+s,this.zoomToIndexes(r,i)):r?(o=this.endTime-this.startTime,r=this.startTime-n*i,i=this.endTime-s*i,0<s&&0<n&&r<=a&&(r=a,i=a+o),this.zoomToDates(new Date(r),new Date(i))):(0<s&&0<n&&1>this.start&&(n=s=0),r=this.start-n,i=this.end-s,this.zoomToIndexes(r,i))}},validateData:function(e){this.marginsUpdated=!1;this.zoomOutOnDataUpdate&&!e&&(this.endTime=this.end=this.startTime=this.start=NaN);AmCharts.AmSerialChart.base.validateData.call(this)},drawChart:function(){AmCharts.AmSerialChart.base.drawChart.call(this);var e=this.chartData;if(AmCharts.ifArray(e)){var t=this.chartScrollbar;t&&t.draw();if(0<this.realWidth&&0<this.realHeight){var e=e.length-1,n,t=this.categoryAxis;if(t.parseDates&&!t.equalSpacing){if(t=this.startTime,n=this.endTime,isNaN(t)||isNaN(n))t=this.firstTime,n=this.lastTime}else if(t=this.start,n=this.end,isNaN(t)||isNaN(n))t=0,n=e;this.endTime=this.startTime=this.end=this.start=void 0;this.zoom(t,n)}}else this.cleanChart();this.dispDUpd();this.chartCreated=!0},cleanChart:function(){AmCharts.callMethod("destroy",[this.valueAxes,this.graphs,this.categoryAxis,this.chartScrollbar,this.chartCursor])},updateCategoryAxis:function(e,t,n){e.chart=this;e.id=n;e.rotate=t;e.axisRenderer=AmCharts.RecAxis;e.guideFillRenderer=AmCharts.RecFill;e.axisItemRenderer=AmCharts.RecItem;e.setOrientation(!this.rotate);e.x=this.marginLeftReal;e.y=this.marginTopReal;e.dx=this.dx;e.dy=this.dy;e.width=this.plotAreaWidth-1;e.height=this.plotAreaHeight-1;e.viW=this.plotAreaWidth-1;e.viH=this.plotAreaHeight-1;e.viX=this.marginLeftReal;e.viY=this.marginTopReal;e.marginsChanged=!0},updateValueAxes:function(){AmCharts.AmSerialChart.base.updateValueAxes.call(this);var e=this.valueAxes,t;for(t=0;t<e.length;t++){var n=e[t],r=this.rotate;n.rotate=r;n.setOrientation(r);r=this.categoryAxis;if(!r.startOnAxis||r.parseDates)n.expandMinMax=!0}},updateData:function(){this.parseData();var e=this.graphs,t,n=this.chartData;for(t=0;t<e.length;t++)e[t].data=n;0<n.length&&(this.firstTime=this.getStartTime(n[0].time),this.lastTime=this.getEndTime(n[n.length-1].time))},getStartTime:function(e){var t=this.categoryAxis;return AmCharts.resetDateToMin(new Date(e),t.minPeriod,1,t.firstDayOfWeek).getTime()},getEndTime:function(e){var t=AmCharts.extractPeriod(this.categoryAxis.minPeriod);return AmCharts.changeDate(new Date(e),t.period,t.count,!0).getTime()-1},updateMargins:function(){AmCharts.AmSerialChart.base.updateMargins.call(this);var e=this.chartScrollbar;e&&(this.getScrollbarPosition(e,this.rotate,this.categoryAxis.position),this.adjustMargins(e,this.rotate))},updateScrollbars:function(){AmCharts.AmSerialChart.base.updateScrollbars.call(this);this.updateChartScrollbar(this.chartScrollbar,this.rotate)},zoom:function(e,t){var n=this.categoryAxis;n.parseDates&&!n.equalSpacing?this.timeZoom(e,t):this.indexZoom(e,t);this.updateLegendValues()},timeZoom:function(e,t){var n=this.maxSelectedTime;isNaN(n)||(t!=this.endTime&&t-e>n&&(e=t-n,this.updateScrollbar=!0),e!=this.startTime&&t-e>n&&(t=e+n,this.updateScrollbar=!0));var r=this.minSelectedTime;if(0<r&&t-e<r){var i=Math.round(e+(t-e)/2),r=Math.round(r/2);e=i-r;t=i+r}var s=this.chartData,i=this.categoryAxis;if(AmCharts.ifArray(s)&&(e!=this.startTime||t!=this.endTime)){var o=i.minDuration(),r=this.firstTime,u=this.lastTime;e||(e=r,isNaN(n)||(e=u-n));t||(t=u);e>u&&(e=u);t<r&&(t=r);e<r&&(e=r);t>u&&(t=u);t<e&&(t=e+o);t-e<o/5&&(t<u?t=e+o/5:e=t-o/5);this.startTime=e;this.endTime=t;n=s.length-1;o=this.getClosestIndex(s,"time",e,!0,0,n);s=this.getClosestIndex(s,"time",t,!1,o,n);i.timeZoom(e,t);i.zoom(o,s);this.start=AmCharts.fitToBounds(o,0,n);this.end=AmCharts.fitToBounds(s,0,n);this.zoomAxesAndGraphs();this.zoomScrollbar();e!=r||t!=u?this.showZB(!0):this.showZB(!1);this.updateColumnsDepth();this.dispatchTimeZoomEvent()}},indexZoom:function(e,t){var n=this.maxSelectedSeries;isNaN(n)||(t!=this.end&&t-e>n&&(e=t-n,this.updateScrollbar=!0),e!=this.start&&t-e>n&&(t=e+n,this.updateScrollbar=!0));if(e!=this.start||t!=this.end){var r=this.chartData.length-1;isNaN(e)&&(e=0,isNaN(n)||(e=r-n));isNaN(t)&&(t=r);t<e&&(t=e);t>r&&(t=r);e>r&&(e=r-1);0>e&&(e=0);this.start=e;this.end=t;this.categoryAxis.zoom(e,t);this.zoomAxesAndGraphs();this.zoomScrollbar();0!==e||t!=this.chartData.length-1?this.showZB(!0):this.showZB(!1);this.updateColumnsDepth();this.dispatchIndexZoomEvent()}},updateGraphs:function(){AmCharts.AmSerialChart.base.updateGraphs.call(this);var e=this.graphs,t;for(t=0;t<e.length;t++){var n=e[t];n.columnWidthReal=this.columnWidth;n.categoryAxis=this.categoryAxis;AmCharts.isString(n.fillToGraph)&&(n.fillToGraph=this.getGraphById(n.fillToGraph))}},updateColumnsDepth:function(){var e,t=this.graphs,n;AmCharts.remove(this.columnsSet);this.columnsArray=[];for(e=0;e<t.length;e++){n=t[e];var r=n.columnsArray;if(r){var i;for(i=0;i<r.length;i++)this.columnsArray.push(r[i])}}this.columnsArray.sort(this.compareDepth);if(0<this.columnsArray.length){t=this.container.set();this.columnSet.push(t);for(e=0;e<this.columnsArray.length;e++)t.push(this.columnsArray[e].column.set);n&&t.translate(n.x,n.y);this.columnsSet=t}},compareDepth:function(e,t){return e.depth>t.depth?1:-1},zoomScrollbar:function(){var e=this.chartScrollbar,t=this.categoryAxis;e&&this.updateScrollbar&&(e.dragger.stop(),t.parseDates&&!t.equalSpacing?e.timeZoom(this.startTime,this.endTime):e.zoom(this.start,this.end),this.updateScrollbar=!0)},updateTrendLines:function(){var e=this.trendLines,t;for(t=0;t<e.length;t++){var n=e[t],n=AmCharts.processObject(n,AmCharts.TrendLine,this.theme);e[t]=n;n.chart=this;n.id||(n.id="trendLineAuto"+t+"_"+(new Date).getTime());AmCharts.isString(n.valueAxis)&&(n.valueAxis=this.getValueAxisById(n.valueAxis));n.valueAxis||(n.valueAxis=this.valueAxes[0]);n.categoryAxis=this.categoryAxis}},zoomAxesAndGraphs:function(){if(!this.scrollbarOnly){var e=this.valueAxes,t;for(t=0;t<e.length;t++)e[t].zoom(this.start,this.end);e=this.graphs;for(t=0;t<e.length;t++)e[t].zoom(this.start,this.end);this.zoomTrendLines();(t=this.chartCursor)&&t.zoom(this.start,this.end,this.startTime,this.endTime)}},countColumns:function(){var e=0,t=this.valueAxes.length,n=this.graphs.length,r,i,s=!1,o,u;for(u=0;u<t;u++){i=this.valueAxes[u];var a=i.stackType;if("100%"==a||"regular"==a)for(s=!1,o=0;o<n;o++)r=this.graphs[o],r.tcc=1,r.valueAxis==i&&"column"==r.type&&(!s&&r.stackable&&(e++,s=!0),(!r.stackable&&r.clustered||r.newStack)&&e++,r.columnIndex=e-1,r.clustered||(r.columnIndex=0));if("none"==a||"3d"==a){s=!1;for(o=0;o<n;o++)r=this.graphs[o],r.valueAxis==i&&"column"==r.type&&(r.clustered?(r.tcc=1,r.newStack&&(e=0),r.hidden||(r.columnIndex=e,e++)):r.hidden||(s=!0,r.tcc=1,r.columnIndex=0));s&&0==e&&(e=1)}if("3d"==a){i=1;for(u=0;u<n;u++)r=this.graphs[u],r.newStack&&i++,r.depthCount=i,r.tcc=e;e=i}}return e},parseData:function(){AmCharts.AmSerialChart.base.parseData.call(this);this.parseSerialData()},getCategoryIndexByValue:function(e){var t=this.chartData,n,r;for(r=0;r<t.length;r++)t[r].category==e&&(n=r);return n},handleCursorChange:function(e){this.updateLegendValues(e.index)},handleCursorZoom:function(e){this.updateScrollbar=!0;this.zoom(e.start,e.end)},handleScrollbarZoom:function(e){this.updateScrollbar=!1;this.zoom(e.start,e.end)},dispatchTimeZoomEvent:function(){if(this.prevStartTime!=this.startTime||this.prevEndTime!=this.endTime){var e={type:"zoomed"};e.startDate=new Date(this.startTime);e.endDate=new Date(this.endTime);e.startIndex=this.start;e.endIndex=this.end;this.startIndex=this.start;this.endIndex=this.end;this.startDate=e.startDate;this.endDate=e.endDate;this.prevStartTime=this.startTime;this.prevEndTime=this.endTime;var t=this.categoryAxis,n=AmCharts.extractPeriod(t.minPeriod).period,t=t.dateFormatsObject[n];e.startValue=AmCharts.formatDate(e.startDate,t,this);e.endValue=AmCharts.formatDate(e.endDate,t,this);e.chart=this;e.target=this;this.fire(e.type,e)}},dispatchIndexZoomEvent:function(){if(this.prevStartIndex!=this.start||this.prevEndIndex!=this.end){this.startIndex=this.start;this.endIndex=this.end;var e=this.chartData;if(AmCharts.ifArray(e)&&!isNaN(this.start)&&!isNaN(this.end)){var t={chart:this,target:this,type:"zoomed"};t.startIndex=this.start;t.endIndex=this.end;t.startValue=e[this.start].category;t.endValue=e[this.end].category;this.categoryAxis.parseDates&&(this.startTime=e[this.start].time,this.endTime=e[this.end].time,t.startDate=new Date(this.startTime),t.endDate=new Date(this.endTime));this.prevStartIndex=this.start;this.prevEndIndex=this.end;this.fire(t.type,t)}}},updateLegendValues:function(e){var t=this.graphs,n;for(n=0;n<t.length;n++){var r=t[n];isNaN(e)?r.currentDataItem=void 0:r.currentDataItem=this.chartData[e].axes[r.valueAxis.id].graphs[r.id]}this.legend&&this.legend.updateValues()},getClosestIndex:function(e,t,n,r,i,s){0>i&&(i=0);s>e.length-1&&(s=e.length-1);var o=i+Math.round((s-i)/2),u=e[o][t];if(1>=s-i){if(r)return i;r=e[s][t];return Math.abs(e[i][t]-n)<Math.abs(r-n)?i:s}return n==u?o:n<u?this.getClosestIndex(e,t,n,r,i,o):this.getClosestIndex(e,t,n,r,o,s)},zoomToIndexes:function(e,t){this.updateScrollbar=!0;var n=this.chartData;if(n){var r=n.length;0<r&&(0>e&&(e=0),t>r-1&&(t=r-1),r=this.categoryAxis,r.parseDates&&!r.equalSpacing?this.zoom(n[e].time,this.getEndTime(n[t].time)):this.zoom(e,t))}},zoomToDates:function(e,t){this.updateScrollbar=!0;var n=this.chartData;if(this.categoryAxis.equalSpacing){var r=this.getClosestIndex(n,"time",e.getTime(),!0,0,n.length);t=AmCharts.resetDateToMin(t,this.categoryAxis.minPeriod,1);n=this.getClosestIndex(n,"time",t.getTime(),!1,0,n.length);this.zoom(r,n)}else this.zoom(e.getTime(),t.getTime())},zoomToCategoryValues:function(e,t){this.updateScrollbar=!0;this.zoom(this.getCategoryIndexByValue(e),this.getCategoryIndexByValue(t))},formatPeriodString:function(e,t){if(t){var n=["value","open","low","high","close"],r="value open low high close average sum count".split(" "),i=t.valueAxis,s=this.chartData,o=t.numberFormatter;o||(o=this.nf);for(var u=0;u<n.length;u++){for(var a=n[u],f=0,l=0,c,h,p,d,v,m=0,g=0,y,b,w,E,S,x=this.start;x<=this.end;x++){var T=s[x];if(T&&(T=T.axes[i.id].graphs[t.id])){if(T.values){var N=T.values[a];if(this.rotate){if(0>T.x||T.x>T.graph.height)N=NaN}else if(0>T.x||T.x>T.graph.width)N=NaN;if(!isNaN(N)){isNaN(c)&&(c=N);h=N;if(isNaN(p)||p>N)p=N;if(isNaN(d)||d<N)d=N;v=AmCharts.getDecimals(f);var C=AmCharts.getDecimals(N),f=f+N,f=AmCharts.roundTo(f,Math.max(v,C));l++;v=f/l}}if(T.percents&&(T=T.percents[a],!isNaN(T))){isNaN(y)&&(y=T);b=T;if(isNaN(w)||w>T)w=T;if(isNaN(E)||E<T)E=T;S=AmCharts.getDecimals(m);N=AmCharts.getDecimals(T);m+=T;m=AmCharts.roundTo(m,Math.max(S,N));g++;S=m/g}}}m={open:y,close:b,high:E,low:w,average:S,sum:m,count:g};e=AmCharts.formatValue(e,{open:c,close:h,high:d,low:p,average:v,sum:f,count:l},r,o,a+"\\.",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers);e=AmCharts.formatValue(e,m,r,this.pf,"percents\\."+a+"\\.")}}return e=AmCharts.cleanFromEmpty(e)},formatString:function(e,t,n){var r=t.graph;if(-1!=e.indexOf("[[category]]")){var i=t.serialDataItem.category;if(this.categoryAxis.parseDates){var s=this.balloonDateFormat,o=this.chartCursor;o&&(s=o.categoryBalloonDateFormat);-1!=e.indexOf("[[category]]")&&(s=AmCharts.formatDate(i,s,this),-1!=s.indexOf("fff")&&(s=AmCharts.formatMilliseconds(s,i)),i=s)}e=e.replace(/\[\[category\]\]/g,String(i))}r=r.numberFormatter;r||(r=this.nf);i=t.graph.valueAxis;(s=i.duration)&&!isNaN(t.values.value)&&(i=AmCharts.formatDuration(t.values.value,s,"",i.durationUnits,i.maxInterval,r),e=e.replace(RegExp("\\[\\[value\\]\\]","g"),i));i="value open low high close total".split(" ");s=this.pf;e=AmCharts.formatValue(e,t.percents,i,s,"percents\\.");e=AmCharts.formatValue(e,t.values,i,r,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers);e=AmCharts.formatValue(e,t.values,["percents"],s);-1!=e.indexOf("[[")&&(e=AmCharts.formatDataContextValue(e,t.dataContext));return e=AmCharts.AmSerialChart.base.formatString.call(this,e,t,n)},addChartScrollbar:function(e){AmCharts.callMethod("destroy",[this.chartScrollbar]);e&&(e.chart=this,this.listenTo(e,"zoomed",this.handleScrollbarZoom));this.rotate?void 0===e.width&&(e.width=e.scrollbarHeight):void 0===e.height&&(e.height=e.scrollbarHeight);this.chartScrollbar=e},removeChartScrollbar:function(){AmCharts.callMethod("destroy",[this.chartScrollbar]);this.chartScrollbar=null},handleReleaseOutside:function(e){AmCharts.AmSerialChart.base.handleReleaseOutside.call(this,e);AmCharts.callMethod("handleReleaseOutside",[this.chartScrollbar])}});AmCharts.Cuboid=AmCharts.Class({construct:function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m){this.set=e.set();this.container=e;this.h=Math.round(n);this.w=Math.round(t);this.dx=r;this.dy=i;this.colors=s;this.alpha=o;this.bwidth=u;this.bcolor=a;this.balpha=f;this.dashLength=p;this.topRadius=v;this.pattern=d;this.rotate=h;this.bcn=m;h?0>t&&0===l&&(l=180):0>n&&270==l&&(l=90);this.gradientRotation=l;0===r&&0===i&&(this.cornerRadius=c);this.draw()},draw:function(){var e=this.set;e.clear();var t=this.container,n=t.chart,r=this.w,i=this.h,s=this.dx,o=this.dy,u=this.colors,a=this.alpha,f=this.bwidth,l=this.bcolor,c=this.balpha,h=this.gradientRotation,p=this.cornerRadius,d=this.dashLength,v=this.pattern,m=this.topRadius,g=this.bcn,y=u,b=u;"object"==typeof u&&(y=u[0],b=u[u.length-1]);var w,E,S,x,T,N,C,k,L,A=a;v&&(a=0);var O,M,_,D,P=this.rotate;if(0<Math.abs(s)||0<Math.abs(o))if(isNaN(m))C=b,b=AmCharts.adjustLuminosity(y,-.2),b=AmCharts.adjustLuminosity(y,-.2),w=AmCharts.polygon(t,[0,s,r+s,r,0],[0,o,o,0,0],b,a,1,l,0,h),0<c&&(L=AmCharts.line(t,[0,s,r+s],[0,o,o],l,c,f,d)),E=AmCharts.polygon(t,[0,0,r,r,0],[0,i,i,0,0],b,a,1,l,0,h),E.translate(s,o),0<c&&(S=AmCharts.line(t,[s,s],[o,o+i],l,c,f,d)),x=AmCharts.polygon(t,[0,0,s,s,0],[0,i,i+o,o,0],b,a,1,l,0,h),T=AmCharts.polygon(t,[r,r,r+s,r+s,r],[0,i,i+o,o,0],b,a,1,l,0,h),0<c&&(N=AmCharts.line(t,[r,r+s,r+s,r],[0,o,i+o,i],l,c,f,d)),b=AmCharts.adjustLuminosity(C,.2),C=AmCharts.polygon(t,[0,s,r+s,r,0],[i,i+o,i+o,i,i],b,a,1,l,0,h),0<c&&(k=AmCharts.line(t,[0,s,r+s],[i,i+o,i+o],l,c,f,d));else{var H,B,j;P?(H=i/2,b=s/2,j=i/2,B=r+s/2,M=Math.abs(i/2),O=Math.abs(s/2)):(b=r/2,H=o/2,B=r/2,j=i+o/2+1,O=Math.abs(r/2),M=Math.abs(o/2));_=O*m;D=M*m;.1<O&&.1<O&&(w=AmCharts.circle(t,O,y,a,f,l,c,!1,M),w.translate(b,H));.1<_&&.1<_&&(C=AmCharts.circle(t,_,AmCharts.adjustLuminosity(y,.5),a,f,l,c,!1,D),C.translate(B,j))}a=A;1>Math.abs(i)&&(i=0);1>Math.abs(r)&&(r=0);!isNaN(m)&&(0<Math.abs(s)||0<Math.abs(o))?(u=[y],u={fill:u,stroke:l,"stroke-width":f,"stroke-opacity":c,"fill-opacity":a},P?(a="M0,0 L"+r+","+(i/2-i/2*m),f=" B",0<r&&(f=" A"),AmCharts.VML?(a+=f+Math.round(r-_)+","+Math.round(i/2-D)+","+Math.round(r+_)+","+Math.round(i/2+D)+","+r+",0,"+r+","+i,a=a+(" L0,"+i)+(f+Math.round(-O)+","+Math.round(i/2-M)+","+Math.round(O)+","+Math.round(i/2+M)+",0,"+i+",0,0")):(a+="A"+_+","+D+",0,0,0,"+r+","+(i-i/2*(1-m))+"L0,"+i,a+="A"+O+","+M+",0,0,1,0,0"),O=90):(f=r/2-r/2*m,a="M0,0 L"+f+","+i,AmCharts.VML?(a="M0,0 L"+f+","+i,f=" B",0>i&&(f=" A"),a+=f+Math.round(r/2-_)+","+Math.round(i-D)+","+Math.round(r/2+_)+","+Math.round(i+D)+",0,"+i+","+r+","+i,a+=" L"+r+",0",a+=f+Math.round(r/2+O)+","+Math.round(M)+","+Math.round(r/2-O)+","+Math.round(-M)+","+r+",0,0,0"):(a+="A"+_+","+D+",0,0,0,"+(r-r/2*(1-m))+","+i+"L"+r+",0",a+="A"+O+","+M+",0,0,1,0,0"),O=180),t=t.path(a).attr(u),t.gradient("linearGradient",[y,AmCharts.adjustLuminosity(y,-.3),AmCharts.adjustLuminosity(y,-.3),y],O),P?t.translate(s/2,0):t.translate(0,o/2)):t=0===i?AmCharts.line(t,[0,r],[0,0],l,c,f,d):0===r?AmCharts.line(t,[0,0],[0,i],l,c,f,d):0<p?AmCharts.rect(t,r,i,u,a,f,l,c,p,h,d):AmCharts.polygon(t,[0,0,r,r,0],[0,i,i,0,0],u,a,f,l,c,h,!1,d);r=isNaN(m)?0>i?[w,L,E,S,x,T,N,C,k,t]:[C,k,E,S,x,T,w,L,N,t]:P?0<r?[w,t,C]:[C,t,w]:0>i?[w,t,C]:[C,t,w];AmCharts.setCN(n,t,g+"front");AmCharts.setCN(n,E,g+"back");AmCharts.setCN(n,C,g+"top");AmCharts.setCN(n,w,g+"bottom");AmCharts.setCN(n,x,g+"left");AmCharts.setCN(n,T,g+"right");for(w=0;w<r.length;w++)if(E=r[w])e.push(E),AmCharts.setCN(n,E,g+"element");v&&t.pattern(v)},width:function(e){isNaN(e)&&(e=0);this.w=Math.round(e);this.draw()},height:function(e){isNaN(e)&&(e=0);this.h=Math.round(e);this.draw()},animateHeight:function(e,t){var n=this;n.easing=t;n.totalFrames=Math.round(1e3*e/AmCharts.updateRate);n.rh=n.h;n.frame=0;n.height(1);setTimeout(function(){n.updateHeight.call(n)},AmCharts.updateRate)},updateHeight:function(){var e=this;e.frame++;var t=e.totalFrames;e.frame<=t&&(t=e.easing(0,e.frame,1,e.rh-1,t),e.height(t),setTimeout(function(){e.updateHeight.call(e)},AmCharts.updateRate))},animateWidth:function(e,t){var n=this;n.easing=t;n.totalFrames=Math.round(1e3*e/AmCharts.updateRate);n.rw=n.w;n.frame=0;n.width(1);setTimeout(function(){n.updateWidth.call(n)},AmCharts.updateRate)},updateWidth:function(){var e=this;e.frame++;var t=e.totalFrames;e.frame<=t&&(t=e.easing(0,e.frame,1,e.rw-1,t),e.width(t),setTimeout(function(){e.updateWidth.call(e)},AmCharts.updateRate))}});AmCharts.CategoryAxis=AmCharts.Class({inherits:AmCharts.AxisBase,construct:function(e){this.cname="CategoryAxis";AmCharts.CategoryAxis.base.construct.call(this,e);this.minPeriod="DD";this.equalSpacing=this.parseDates=!1;this.position="bottom";this.startOnAxis=!1;this.firstDayOfWeek=1;this.gridPosition="middle";this.markPeriodChange=this.boldPeriodBeginning=!0;this.safeDistance=30;this.centerLabelOnFullPeriod=!0;this.periods=[{period:"ss",count:1},{period:"ss",count:5},{period:"ss",count:10},{period:"ss",count:30},{period:"mm",count:1},{period:"mm",count:5},{period:"mm",count:10},{period:"mm",count:30},{period:"hh",count:1},{period:"hh",count:3},{period:"hh",count:6},{period:"hh",count:12},{period:"DD",count:1},{period:"DD",count:2},{period:"DD",count:3},{period:"DD",count:4},{period:"DD",count:5},{period:"WW",count:1},{period:"MM",count:1},{period:"MM",count:2},{period:"MM",count:3},{period:"MM",count:6},{period:"YYYY",count:1},{period:"YYYY",count:2},{period:"YYYY",count:5},{period:"YYYY",count:10},{period:"YYYY",count:50},{period:"YYYY",count:100}];this.dateFormats=[{period:"fff",format:"JJ:NN:SS"},{period:"ss",format:"JJ:NN:SS"},{period:"mm",format:"JJ:NN"},{period:"hh",format:"JJ:NN"},{period:"DD",format:"MMM DD"},{period:"WW",format:"MMM DD"},{period:"MM",format:"MMM"},{period:"YYYY",format:"YYYY"}];this.nextPeriod={};this.nextPeriod.fff="ss";this.nextPeriod.ss="mm";this.nextPeriod.mm="hh";this.nextPeriod.hh="DD";this.nextPeriod.DD="MM";this.nextPeriod.MM="YYYY";AmCharts.applyTheme(this,e,this.cname)},draw:function(){AmCharts.CategoryAxis.base.draw.call(this);this.generateDFObject();var e=this.chart.chartData;this.data=e;if(AmCharts.ifArray(e)){var t,n=this.chart;"scrollbar"!=this.id?(AmCharts.setCN(n,this.set,"category-axis"),AmCharts.setCN(n,this.labelsSet,"category-axis"),AmCharts.setCN(n,this.axisLine.axisSet,"category-axis")):this.bcn=this.id+"-";var r=this.start,i=this.labelFrequency,s=0;t=this.end-r+1;var o=this.gridCountR,u=this.showFirstLabel,a=this.showLastLabel,f,l="",c=AmCharts.extractPeriod(this.minPeriod);f=AmCharts.getPeriodDuration(c.period,c.count);var h,p,d,v,m,g;h=this.rotate;var y=this.firstDayOfWeek,b=this.boldPeriodBeginning,e=AmCharts.resetDateToMin(new Date(e[e.length-1].time+1.05*f),this.minPeriod,1,y).getTime(),w;this.endTime>e&&(this.endTime=e);g=this.minorGridEnabled;var E,e=this.gridAlpha,S;if(this.parseDates&&!this.equalSpacing){this.timeDifference=this.endTime-this.startTime;r=this.choosePeriod(0);i=r.period;h=r.count;p=AmCharts.getPeriodDuration(i,h);p<f&&(i=c.period,h=c.count,p=f);d=i;"WW"==d&&(d="DD");this.stepWidth=this.getStepWidth(this.timeDifference);var o=Math.ceil(this.timeDifference/p)+5,x=l=AmCharts.resetDateToMin(new Date(this.startTime-p),i,h,y).getTime();d==i&&1==h&&this.centerLabelOnFullPeriod&&(m=p*this.stepWidth);this.cellWidth=f*this.stepWidth;t=Math.round(l/p);r=-1;t/2==Math.round(t/2)&&(r=-2,l-=p);var T=n.firstTime,N=0;g&&1<h&&(E=this.chooseMinorFrequency(h),S=AmCharts.getPeriodDuration(i,E));if(0<this.gridCountR)for(t=r;t<=o;t++){c=T+p*(t+Math.floor((x-T)/p))-N;"DD"==i&&(c+=36e5);c=AmCharts.resetDateToMin(new Date(c),i,h,y).getTime();"MM"==i&&(g=(c-l)/p,1.5<=(c-l)/p&&(c=c-(g-1)*p+AmCharts.getPeriodDuration("DD",3),c=AmCharts.resetDateToMin(new Date(c),i,1).getTime(),N+=p));f=(c-this.startTime)*this.stepWidth;g=!1;this.nextPeriod[d]&&(g=this.checkPeriodChange(this.nextPeriod[d],1,c,l,d));w=!1;g&&this.markPeriodChange?(g=this.dateFormatsObject[this.nextPeriod[d]],this.twoLineMode&&(g=this.dateFormatsObject[d]+"\n"+g,g=AmCharts.fixBrakes(g)),w=!0):g=this.dateFormatsObject[d];b||(w=!1);l=AmCharts.formatDate(new Date(c),g,n);if(t==r&&!u||t==o&&!a)l=" ";this.labelFunction&&(l=this.labelFunction(l,new Date(c),this,i,h,v).toString());this.boldLabels&&(w=!0);v=new this.axisItemRenderer(this,f,l,!1,m,0,!1,w);this.pushAxisItem(v);v=l=c;if(!isNaN(E))for(f=1;f<h;f+=E)this.gridAlpha=this.minorGridAlpha,g=c+S*f,g=AmCharts.resetDateToMin(new Date(g),i,E,y).getTime(),g=new this.axisItemRenderer(this,(g-this.startTime)*this.stepWidth),this.pushAxisItem(g);this.gridAlpha=e}}else if(!this.parseDates){if(this.cellWidth=this.getStepWidth(t),t<o&&(o=t),s+=this.start,this.stepWidth=this.getStepWidth(t),0<o)for(b=Math.floor(t/o),E=this.chooseMinorFrequency(b),f=s,f/2==Math.round(f/2)&&f--,0>f&&(f=0),o=0,this.end-f+1>=this.autoRotateCount&&(this.labelRotation=this.autoRotateAngle),t=f;t<=this.end+2;t++){v=!1;0<=t&&t<this.data.length?(d=this.data[t],l=d.category,v=d.forceShow):l="";if(g&&!isNaN(E))if(t/E==Math.round(t/E)||v)t/b==Math.round(t/b)||v||(this.gridAlpha=this.minorGridAlpha,l=void 0);else continue;else if(t/b!=Math.round(t/b)&&!v)continue;f=this.getCoordinate(t-s);v=0;"start"==this.gridPosition&&(f-=this.cellWidth/2,v=this.cellWidth/2);y=!0;x=v;"start"==this.tickPosition&&(x=0,y=!1,v=0);if(t==r&&!u||t==this.end&&!a)l=void 0;Math.round(o/i)!=o/i&&(l=void 0);o++;m=this.cellWidth;h&&(m=NaN);this.labelFunction&&d&&(l=this.labelFunction(l,d,this));l=AmCharts.fixBrakes(l);w=!1;this.boldLabels&&(w=!0);t>this.end&&"start"==this.tickPosition&&(l=" ");v=new this.axisItemRenderer(this,f,l,y,m,v,void 0,w,x,!1,d.labelColor,d.className);v.serialDataItem=d;this.pushAxisItem(v);this.gridAlpha=e}}else if(this.parseDates&&this.equalSpacing){s=this.start;this.startTime=this.data[this.start].time;this.endTime=this.data[this.end].time;this.timeDifference=this.endTime-this.startTime;r=this.choosePeriod(0);i=r.period;h=r.count;p=AmCharts.getPeriodDuration(i,h);p<f&&(i=c.period,h=c.count,p=f);d=i;"WW"==d&&(d="DD");this.stepWidth=this.getStepWidth(t);o=Math.ceil(this.timeDifference/p)+1;l=AmCharts.resetDateToMin(new Date(this.startTime-p),i,h,y).getTime();this.cellWidth=this.getStepWidth(t);t=Math.round(l/p);r=-1;t/2==Math.round(t/2)&&(r=-2,l-=p);f=this.start;f/2==Math.round(f/2)&&f--;0>f&&(f=0);m=this.end+2;m>=this.data.length&&(m=this.data.length);S=!1;S=!u;this.previousPos=-1e3;20<this.labelRotation&&(this.safeDistance=5);p=f;if(this.data[f].time!=AmCharts.resetDateToMin(new Date(this.data[f].time),i,h,y).getTime())for(y=0,w=l,t=f;t<m;t++)c=this.data[t].time,this.checkPeriodChange(i,h,c,w)&&(y++,2<=y&&(p=t,t=m),w=c);g&&1<h&&(E=this.chooseMinorFrequency(h),AmCharts.getPeriodDuration(i,E));if(0<this.gridCountR)for(t=f;t<m;t++)if(c=this.data[t].time,this.checkPeriodChange(i,h,c,l)&&t>=p){f=this.getCoordinate(t-this.start);g=!1;this.nextPeriod[d]&&(g=this.checkPeriodChange(this.nextPeriod[d],1,c,l,d));w=!1;g&&this.markPeriodChange?(g=this.dateFormatsObject[this.nextPeriod[d]],w=!0):g=this.dateFormatsObject[d];l=AmCharts.formatDate(new Date(c),g,n);if(t==r&&!u||t==o&&!a)l=" ";S?S=!1:(b||(w=!1),f-this.previousPos>this.safeDistance*Math.cos(this.labelRotation*Math.PI/180)&&(this.labelFunction&&(l=this.labelFunction(l,new Date(c),this,i,h,v)),this.boldLabels&&(w=!0),v=new this.axisItemRenderer(this,f,l,void 0,void 0,void 0,void 0,w),g=v.graphics(),this.pushAxisItem(v),v=g.getBBox().width,AmCharts.isModern||(v-=f),this.previousPos=f+v));v=l=c}else isNaN(E)||(this.checkPeriodChange(i,E,c,x)&&(this.gridAlpha=this.minorGridAlpha,f=this.getCoordinate(t-this.start),g=new this.axisItemRenderer(this,f),this.pushAxisItem(g),x=c),this.gridAlpha=e)}for(t=0;t<this.data.length;t++)if(u=this.data[t])a=this.parseDates&&!this.equalSpacing?Math.round((u.time-this.startTime)*this.stepWidth+this.cellWidth/2):this.getCoordinate(t-s),u.x[this.id]=a;u=this.guides.length;for(t=0;t<u;t++)a=this.guides[t],b=b=b=e=r=NaN,E=a.above,a.toCategory&&(b=n.getCategoryIndexByValue(a.toCategory),isNaN(b)||(r=this.getCoordinate(b-s),a.expand&&(r+=this.cellWidth/2),v=new this.axisItemRenderer(this,r,"",!0,NaN,NaN,a),this.pushAxisItem(v,E))),a.category&&(b=n.getCategoryIndexByValue(a.category),isNaN(b)||(e=this.getCoordinate(b-s),a.expand&&(e-=this.cellWidth/2),b=(r-e)/2,v=new this.axisItemRenderer(this,e,a.label,!0,NaN,b,a),this.pushAxisItem(v,E))),a.toDate&&(a.toDate instanceof Date||(a.toDate=AmCharts.stringToDate(a.toDate,n.dataDateFormat)),this.equalSpacing?(b=n.getClosestIndex(this.data,"time",a.toDate.getTime(),!1,0,this.data.length-1),isNaN(b)||(r=this.getCoordinate(b-s))):r=(a.toDate.getTime()-this.startTime)*this.stepWidth,v=new this.axisItemRenderer(this,r,"",!0,NaN,NaN,a),this.pushAxisItem(v,E)),a.date&&(a.date instanceof Date||(a.date=AmCharts.stringToDate(a.date,n.dataDateFormat)),this.equalSpacing?(b=n.getClosestIndex(this.data,"time",a.date.getTime(),!1,0,this.data.length-1),isNaN(b)||(e=this.getCoordinate(b-s))):e=(a.date.getTime()-this.startTime)*this.stepWidth,b=(r-e)/2,v="H"==this.orientation?new this.axisItemRenderer(this,e,a.label,!1,2*b,NaN,a):new this.axisItemRenderer(this,e,a.label,!1,NaN,b,a),this.pushAxisItem(v,E)),(0<r||0<e)&&(r<this.width||e<this.width)&&(r=new this.guideFillRenderer(this,e,r,a),e=r.graphics(),this.pushAxisItem(r,E),a.graphics=e,e.index=t,a.balloonText&&this.addEventListeners(e,a))}this.axisCreated=!0;n=this.x;s=this.y;this.set.translate(n,s);this.labelsSet.translate(n,s);this.positionTitle();(n=this.axisLine.set)&&n.toFront();n=this.getBBox().height;2<n-this.previousHeight&&this.autoWrap&&!this.parseDates&&(this.axisCreated=this.chart.marginsUpdated=!1);this.previousHeight=n},chooseMinorFrequency:function(e){for(var t=10;0<t;t--)if(e/t==Math.round(e/t))return e/t},choosePeriod:function(e){var t=AmCharts.getPeriodDuration(this.periods[e].period,this.periods[e].count),n=Math.ceil(this.timeDifference/t),r=this.periods;return this.timeDifference<t&&0<e?r[e-1]:n<=this.gridCountR?r[e]:e+1<r.length?this.choosePeriod(e+1):r[e]},getStepWidth:function(e){var t;this.startOnAxis?(t=this.axisWidth/(e-1),1==e&&(t=this.axisWidth)):t=this.axisWidth/e;return t},getCoordinate:function(e){e*=this.stepWidth;this.startOnAxis||(e+=this.stepWidth/2);return Math.round(e)},timeZoom:function(e,t){this.startTime=e;this.endTime=t},minDuration:function(){var e=AmCharts.extractPeriod(this.minPeriod);return AmCharts.getPeriodDuration(e.period,e.count)},checkPeriodChange:function(e,t,n,r,i){n=new Date(n);var s=new Date(r),o=this.firstDayOfWeek;r=t;"DD"==e&&(t=1);n=AmCharts.resetDateToMin(n,e,t,o).getTime();t=AmCharts.resetDateToMin(s,e,t,o).getTime();return"DD"==e&&"hh"!=i&&n-t<=AmCharts.getPeriodDuration(e,r)?!1:n!=t?!0:!1},generateDFObject:function(){this.dateFormatsObject={};var e;for(e=0;e<this.dateFormats.length;e++){var t=this.dateFormats[e];this.dateFormatsObject[t.period]=t.format}},xToIndex:function(e){var t=this.data,n=this.chart,r=n.rotate,i=this.stepWidth;this.parseDates&&!this.equalSpacing?(e=this.startTime+Math.round(e/i)-this.minDuration()/2,n=n.getClosestIndex(t,"time",e,!1,this.start,this.end+1)):(this.startOnAxis||(e-=i/2),n=this.start+Math.round(e/i));var n=AmCharts.fitToBounds(n,0,t.length-1),s;t[n]&&(s=t[n].x[this.id]);r?s>this.height+1&&n--:s>this.width+1&&n--;0>s&&n++;return n=AmCharts.fitToBounds(n,0,t.length-1)},dateToCoordinate:function(e){return this.parseDates&&!this.equalSpacing?(e.getTime()-this.startTime)*this.stepWidth:this.parseDates&&this.equalSpacing?(e=this.chart.getClosestIndex(this.data,"time",e.getTime(),!1,0,this.data.length-1),this.getCoordinate(e-this.start)):NaN},categoryToCoordinate:function(e){return this.chart?(e=this.chart.getCategoryIndexByValue(e),this.getCoordinate(e-this.start)):NaN},coordinateToDate:function(e){return this.equalSpacing?(e=this.xToIndex(e),new Date(this.data[e].time)):new Date(this.startTime+e/this.stepWidth)}});AmCharts.AmXYChart=AmCharts.Class({inherits:AmCharts.AmRectangularChart,construct:function(e){this.type="xy";AmCharts.AmXYChart.base.construct.call(this,e);this.cname="AmXYChart";this.theme=e;this.createEvents("zoomed");this.maxZoomFactor=20;AmCharts.applyTheme(this,e,this.cname)},initChart:function(){AmCharts.AmXYChart.base.initChart.call(this);this.dataChanged&&(this.updateData(),this.dataChanged=!1,this.dispatchDataUpdated=!0);this.updateScrollbar=!0;this.drawChart();this.autoMargins&&!this.marginsUpdated&&(this.marginsUpdated=!0,this.measureMargins());var e=this.marginLeftReal,t=this.marginTopReal,n=this.plotAreaWidth,r=this.plotAreaHeight;this.graphsSet.clipRect(e,t,n,r);this.bulletSet.clipRect(e,t,n,r);this.trendLinesSet.clipRect(e,t,n,r)},prepareForExport:function(){var e=this.bulletSet;e.clipPath&&this.container.remove(e.clipPath)},createValueAxes:function(){var e=[],t=[];this.xAxes=e;this.yAxes=t;var n=this.valueAxes,r,i;for(i=0;i<n.length;i++){r=n[i];var s=r.position;if("top"==s||"bottom"==s)r.rotate=!0;r.setOrientation(r.rotate);s=r.orientation;"V"==s&&t.push(r);"H"==s&&e.push(r)}0===t.length&&(r=new AmCharts.ValueAxis(this.theme),r.rotate=!1,r.setOrientation(!1),n.push(r),t.push(r));0===e.length&&(r=new AmCharts.ValueAxis(this.theme),r.rotate=!0,r.setOrientation(!0),n.push(r),e.push(r));for(i=0;i<n.length;i++)this.processValueAxis(n[i],i);e=this.graphs;for(i=0;i<e.length;i++)this.processGraph(e[i],i)},drawChart:function(){AmCharts.AmXYChart.base.drawChart.call(this);AmCharts.ifArray(this.chartData)?(this.chartScrollbar&&this.updateScrollbars(),this.selfZoom&&(this.horizontalPosition=this.horizontalPosition*this.plotAreaWidth/this.prevPlotAreaWidth,this.verticalPosition=this.verticalPosition*this.plotAreaHeight/this.prevPlotAreaHeight,this.selfZoom=!1),this.zoomChart()):this.cleanChart();if(this.hideXScrollbar){var e=this.scrollbarH;e&&(this.removeListener(e,"zoomed",this.handleHSBZoom),e.destroy());this.scrollbarH=null}if(this.hideYScrollbar){if(e=this.scrollbarV)this.removeListener(e,"zoomed",this.handleVSBZoom),e.destroy();this.scrollbarV=null}if(!this.autoMargins||this.marginsUpdated)this.dispDUpd(),this.chartCreated=!0,this.zoomScrollbars()},cleanChart:function(){AmCharts.callMethod("destroy",[this.valueAxes,this.graphs,this.scrollbarV,this.scrollbarH,this.chartCursor])},zoomChart:function(){this.toggleZoomOutButton();this.zoomObjects(this.valueAxes);this.zoomObjects(this.graphs);this.zoomTrendLines();this.dispatchAxisZoom();this.prevPlotAreaWidth=this.plotAreaWidth;this.prevPlotAreaHeight=this.plotAreaHeight},toggleZoomOutButton:function(){1==this.heightMultiplier&&1==this.widthMultiplier?this.showZB(!1):this.showZB(!0)},dispatchAxisZoom:function(){var e=this.valueAxes,t;for(t=0;t<e.length;t++){var n=e[t];if(!isNaN(n.min)&&!isNaN(n.max)){var r,i;"V"==n.orientation?(r=n.coordinateToValue(-this.verticalPosition),i=n.coordinateToValue(-this.verticalPosition+this.plotAreaHeight)):(r=n.coordinateToValue(-this.horizontalPosition),i=n.coordinateToValue(-this.horizontalPosition+this.plotAreaWidth));if(!isNaN(r)&&!isNaN(i)){if(r>i){var s=i;i=r;r=s}n.dispatchZoomEvent(r,i)}}}},zoomObjects:function(e){var t=e.length,n;for(n=0;n<t;n++){var r=e[n];r.minTemp=r.min;r.maxTemp=r.max;this.updateObjectSize(r);r.zoom(0,this.chartData.length-1)}r.minTemp=NaN;r.maxTemp=NaN},updateData:function(){this.parseData();var e=this.chartData,t=e.length-1,n=this.graphs,r=this.dataProvider,i=-Infinity,s=Infinity,o,u;for(o=0;o<n.length;o++)if(u=n[o],u.data=e,u.zoom(0,t),u=u.valueField){var a;for(a=0;a<r.length;a++){var f=Number(r[a][u]);f>i&&(i=f);f<s&&(s=f)}}for(o=0;o<n.length;o++)u=n[o],u.maxValue=i,u.minValue=s;if(e=this.chartCursor)e.updateData(),e.type="crosshair",e.valueBalloonsEnabled=!1},zoomOut:function(){this.verticalPosition=this.horizontalPosition=0;this.heightMultiplier=this.widthMultiplier=1;this.zoomChart();this.zoomScrollbars()},processValueAxis:function(e){e.chart=this;e.minMaxField="H"==e.orientation?"x":"y";e.min=NaN;e.max=NaN;this.listenTo(e,"axisSelfZoomed",this.handleAxisSelfZoom)},processGraph:function(e){AmCharts.isString(e.xAxis)&&(e.xAxis=this.getValueAxisById(e.xAxis));AmCharts.isString(e.yAxis)&&(e.yAxis=this.getValueAxisById(e.yAxis));e.xAxis||(e.xAxis=this.xAxes[0]);e.yAxis||(e.yAxis=this.yAxes[0]);e.valueAxis=e.yAxis},parseData:function(){AmCharts.AmXYChart.base.parseData.call(this);this.chartData=[];var e=this.dataProvider,t=this.valueAxes,n=this.graphs,r;if(e)for(r=0;r<e.length;r++){var i={axes:{},x:{},y:{}},s=e[r],o;for(o=0;o<t.length;o++){var u=t[o].id;i.axes[u]={};i.axes[u].graphs={};var a;for(a=0;a<n.length;a++){var f=n[a],l=f.id;if(f.xAxis.id==u||f.yAxis.id==u){var c={};c.serialDataItem=i;c.index=r;var h={},p=Number(s[f.valueField]);isNaN(p)||(h.value=p);p=Number(s[f.xField]);isNaN(p)||(h.x=p);p=Number(s[f.yField]);isNaN(p)||(h.y=p);p=Number(s[f.errorField]);isNaN(p)||(h.error=p);c.values=h;this.processFields(f,c,s);c.serialDataItem=i;c.graph=f;i.axes[u].graphs[l]=c}}}this.chartData[r]=i}},formatString:function(e,t,n){var r=t.graph.numberFormatter;r||(r=this.nf);e=AmCharts.formatValue(e,t.values,["value","x","y"],r);-1!=e.indexOf("[[")&&(e=AmCharts.formatDataContextValue(e,t.dataContext));return e=AmCharts.AmXYChart.base.formatString.call(this,e,t,n)},addChartScrollbar:function(e){AmCharts.callMethod("destroy",[this.chartScrollbar,this.scrollbarH,this.scrollbarV]);if(e){this.chartScrollbar=e;this.scrollbarHeight=e.scrollbarHeight;var t="backgroundColor backgroundAlpha selectedBackgroundColor selectedBackgroundAlpha scrollDuration resizeEnabled hideResizeGrips scrollbarHeight updateOnReleaseOnly".split(" ");if(!this.hideYScrollbar){var n=new AmCharts.SimpleChartScrollbar(this.theme);n.skipEvent=!0;n.chart=this;this.listenTo(n,"zoomed",this.handleVSBZoom);AmCharts.copyProperties(e,n,t);n.rotate=!0;this.scrollbarV=n}this.hideXScrollbar||(n=new AmCharts.SimpleChartScrollbar(this.theme),n.skipEvent=!0,n.chart=this,this.listenTo(n,"zoomed",this.handleHSBZoom),AmCharts.copyProperties(e,n,t),n.rotate=!1,this.scrollbarH=n)}},updateTrendLines:function(){var e=this.trendLines,t;for(t=0;t<e.length;t++){var n=e[t],n=AmCharts.processObject(n,AmCharts.TrendLine,this.theme);e[t]=n;n.chart=this;var r=n.valueAxis;AmCharts.isString(r)&&(n.valueAxis=this.getValueAxisById(r));r=n.valueAxisX;AmCharts.isString(r)&&(n.valueAxisX=this.getValueAxisById(r));n.id||(n.id="trendLineAuto"+t+"_"+(new Date).getTime());n.valueAxis||(n.valueAxis=this.yAxes[0]);n.valueAxisX||(n.valueAxisX=this.xAxes[0])}},updateMargins:function(){AmCharts.AmXYChart.base.updateMargins.call(this);var e=this.scrollbarV;e&&(this.getScrollbarPosition(e,!0,this.yAxes[0].position),this.adjustMargins(e,!0));if(e=this.scrollbarH)this.getScrollbarPosition(e,!1,this.xAxes[0].position),this.adjustMargins(e,!1)},updateScrollbars:function(){AmCharts.AmXYChart.base.updateScrollbars.call(this);var e=this.scrollbarV;e&&(this.updateChartScrollbar(e,!0),e.draw());if(e=this.scrollbarH)this.updateChartScrollbar(e,!1),e.draw()},zoomScrollbars:function(){var e=this.scrollbarH;e&&e.relativeZoom(this.widthMultiplier,-this.horizontalPosition/this.widthMultiplier);(e=this.scrollbarV)&&e.relativeZoom(this.heightMultiplier,-this.verticalPosition/this.heightMultiplier)},fitMultiplier:function(e){e>this.maxZoomFactor&&(e=this.maxZoomFactor);return e},fitH:function(e,t){var n=-(this.plotAreaWidth*t-this.plotAreaWidth);e<n&&(e=n);this.horizontalPosition=e},fitV:function(e,t){var n=-(this.plotAreaHeight*t-this.plotAreaHeight);e<n&&(e=n);this.verticalPosition=e},handleHSBZoom:function(e){var t=this.fitMultiplier(e.multiplier);this.fitH(-e.position*t,t);this.widthMultiplier=t;this.zoomChart()},handleVSBZoom:function(e){var t=this.fitMultiplier(e.multiplier);this.fitV(-e.position*t,t);this.heightMultiplier=t;this.zoomChart()},handleAxisSelfZoom:function(e){if("H"==e.valueAxis.orientation){var t=this.fitMultiplier(e.multiplier);this.fitH(-e.position*t,t);this.widthMultiplier=t}else t=this.fitMultiplier(e.multiplier),this.fitV(-e.position*t,t),this.heightMultiplier=t;this.zoomChart();e=this.graphs;for(t=0;t<e.length;t++)e[t].setAnimationPlayed();this.zoomScrollbars()},handleCursorZoom:function(e){var t=this.widthMultiplier*this.plotAreaWidth/e.selectionWidth,n=this.heightMultiplier*this.plotAreaHeight/e.selectionHeight,t=this.fitMultiplier(t),n=this.fitMultiplier(n),r=(this.verticalPosition-e.selectionY)*n/this.heightMultiplier;this.fitH((this.horizontalPosition-e.selectionX)*t/this.widthMultiplier,t);this.fitV(r,n);this.widthMultiplier=t;this.heightMultiplier=n;this.zoomChart();this.zoomScrollbars()},removeChartScrollbar:function(){AmCharts.callMethod("destroy",[this.scrollbarH,this.scrollbarV]);this.scrollbarV=this.scrollbarH=null},handleReleaseOutside:function(e){AmCharts.AmXYChart.base.handleReleaseOutside.call(this,e);AmCharts.callMethod("handleReleaseOutside",[this.scrollbarH,this.scrollbarV])}})